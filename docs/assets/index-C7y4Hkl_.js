function nF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function al(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $x={exports:{}},kh={};var LI;function rF(){if(LI)return kh;LI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var c=null;if(a!==void 0&&(c=""+a),i.key!==void 0&&(c=""+i.key),"key"in i){a={};for(var h in i)h!=="key"&&(a[h]=i[h])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:a}}return kh.Fragment=e,kh.jsx=n,kh.jsxs=n,kh}var BI;function iF(){return BI||(BI=1,$x.exports=rF()),$x.exports}var P=iF(),Xx={exports:{}},$t={};var FI;function aF(){if(FI)return $t;FI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.iterator;function R(he){return he===null||typeof he!="object"?null:(he=I&&he[I]||he["@@iterator"],typeof he=="function"?he:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,L={};function G(he,_e,Ge){this.props=he,this.context=_e,this.refs=L,this.updater=Ge||j}G.prototype.isReactComponent={},G.prototype.setState=function(he,_e){if(typeof he!="object"&&typeof he!="function"&&he!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,he,_e,"setState")},G.prototype.forceUpdate=function(he){this.updater.enqueueForceUpdate(this,he,"forceUpdate")};function K(){}K.prototype=G.prototype;function W(he,_e,Ge){this.props=he,this.context=_e,this.refs=L,this.updater=Ge||j}var ne=W.prototype=new K;ne.constructor=W,k(ne,G.prototype),ne.isPureReactComponent=!0;var fe=Array.isArray;function Q(){}var U={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function H(he,_e,Ge){var Fe=Ge.ref;return{$$typeof:t,type:he,key:_e,ref:Fe!==void 0?Fe:null,props:Ge}}function ae(he,_e){return H(he.type,_e,he.props)}function ie(he){return typeof he=="object"&&he!==null&&he.$$typeof===t}function Z(he){var _e={"=":"=0",":":"=2"};return"$"+he.replace(/[=:]/g,function(Ge){return _e[Ge]})}var J=/\/+/g;function Be(he,_e){return typeof he=="object"&&he!==null&&he.key!=null?Z(""+he.key):_e.toString(36)}function pe(he){switch(he.status){case"fulfilled":return he.value;case"rejected":throw he.reason;default:switch(typeof he.status=="string"?he.then(Q,Q):(he.status="pending",he.then(function(_e){he.status==="pending"&&(he.status="fulfilled",he.value=_e)},function(_e){he.status==="pending"&&(he.status="rejected",he.reason=_e)})),he.status){case"fulfilled":return he.value;case"rejected":throw he.reason}}throw he}function ve(he,_e,Ge,Fe,dt){var Ne=typeof he;(Ne==="undefined"||Ne==="boolean")&&(he=null);var et=!1;if(he===null)et=!0;else switch(Ne){case"bigint":case"string":case"number":et=!0;break;case"object":switch(he.$$typeof){case t:case e:et=!0;break;case w:return et=he._init,ve(et(he._payload),_e,Ge,Fe,dt)}}if(et)return dt=dt(he),et=Fe===""?"."+Be(he,0):Fe,fe(dt)?(Ge="",et!=null&&(Ge=et.replace(J,"$&/")+"/"),ve(dt,_e,Ge,"",function(Ye){return Ye})):dt!=null&&(ie(dt)&&(dt=ae(dt,Ge+(dt.key==null||he&&he.key===dt.key?"":(""+dt.key).replace(J,"$&/")+"/")+et)),_e.push(dt)),1;et=0;var Tt=Fe===""?".":Fe+":";if(fe(he))for(var ke=0;ke<he.length;ke++)Fe=he[ke],Ne=Tt+Be(Fe,ke),et+=ve(Fe,_e,Ge,Ne,dt);else if(ke=R(he),typeof ke=="function")for(he=ke.call(he),ke=0;!(Fe=he.next()).done;)Fe=Fe.value,Ne=Tt+Be(Fe,ke++),et+=ve(Fe,_e,Ge,Ne,dt);else if(Ne==="object"){if(typeof he.then=="function")return ve(pe(he),_e,Ge,Fe,dt);throw _e=String(he),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(he).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.")}return et}function Ae(he,_e,Ge){if(he==null)return he;var Fe=[],dt=0;return ve(he,Fe,"","",function(Ne){return _e.call(Ge,Ne,dt++)}),Fe}function We(he){if(he._status===-1){var _e=he._result;_e=_e(),_e.then(function(Ge){(he._status===0||he._status===-1)&&(he._status=1,he._result=Ge)},function(Ge){(he._status===0||he._status===-1)&&(he._status=2,he._result=Ge)}),he._status===-1&&(he._status=0,he._result=_e)}if(he._status===1)return he._result.default;throw he._result}var Ue=typeof reportError=="function"?reportError:function(he){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof he=="object"&&he!==null&&typeof he.message=="string"?String(he.message):String(he),error:he});if(!window.dispatchEvent(_e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",he);return}console.error(he)},st={map:Ae,forEach:function(he,_e,Ge){Ae(he,function(){_e.apply(this,arguments)},Ge)},count:function(he){var _e=0;return Ae(he,function(){_e++}),_e},toArray:function(he){return Ae(he,function(_e){return _e})||[]},only:function(he){if(!ie(he))throw Error("React.Children.only expected to receive a single React element child.");return he}};return $t.Activity=A,$t.Children=st,$t.Component=G,$t.Fragment=n,$t.Profiler=i,$t.PureComponent=W,$t.StrictMode=r,$t.Suspense=y,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,$t.__COMPILER_RUNTIME={__proto__:null,c:function(he){return U.H.useMemoCache(he)}},$t.cache=function(he){return function(){return he.apply(null,arguments)}},$t.cacheSignal=function(){return null},$t.cloneElement=function(he,_e,Ge){if(he==null)throw Error("The argument must be a React element, but you passed "+he+".");var Fe=k({},he.props),dt=he.key;if(_e!=null)for(Ne in _e.key!==void 0&&(dt=""+_e.key),_e)!$.call(_e,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&_e.ref===void 0||(Fe[Ne]=_e[Ne]);var Ne=arguments.length-2;if(Ne===1)Fe.children=Ge;else if(1<Ne){for(var et=Array(Ne),Tt=0;Tt<Ne;Tt++)et[Tt]=arguments[Tt+2];Fe.children=et}return H(he.type,dt,Fe)},$t.createContext=function(he){return he={$$typeof:c,_currentValue:he,_currentValue2:he,_threadCount:0,Provider:null,Consumer:null},he.Provider=he,he.Consumer={$$typeof:a,_context:he},he},$t.createElement=function(he,_e,Ge){var Fe,dt={},Ne=null;if(_e!=null)for(Fe in _e.key!==void 0&&(Ne=""+_e.key),_e)$.call(_e,Fe)&&Fe!=="key"&&Fe!=="__self"&&Fe!=="__source"&&(dt[Fe]=_e[Fe]);var et=arguments.length-2;if(et===1)dt.children=Ge;else if(1<et){for(var Tt=Array(et),ke=0;ke<et;ke++)Tt[ke]=arguments[ke+2];dt.children=Tt}if(he&&he.defaultProps)for(Fe in et=he.defaultProps,et)dt[Fe]===void 0&&(dt[Fe]=et[Fe]);return H(he,Ne,dt)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(he){return{$$typeof:h,render:he}},$t.isValidElement=ie,$t.lazy=function(he){return{$$typeof:w,_payload:{_status:-1,_result:he},_init:We}},$t.memo=function(he,_e){return{$$typeof:g,type:he,compare:_e===void 0?null:_e}},$t.startTransition=function(he){var _e=U.T,Ge={};U.T=Ge;try{var Fe=he(),dt=U.S;dt!==null&&dt(Ge,Fe),typeof Fe=="object"&&Fe!==null&&typeof Fe.then=="function"&&Fe.then(Q,Ue)}catch(Ne){Ue(Ne)}finally{_e!==null&&Ge.types!==null&&(_e.types=Ge.types),U.T=_e}},$t.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},$t.use=function(he){return U.H.use(he)},$t.useActionState=function(he,_e,Ge){return U.H.useActionState(he,_e,Ge)},$t.useCallback=function(he,_e){return U.H.useCallback(he,_e)},$t.useContext=function(he){return U.H.useContext(he)},$t.useDebugValue=function(){},$t.useDeferredValue=function(he,_e){return U.H.useDeferredValue(he,_e)},$t.useEffect=function(he,_e){return U.H.useEffect(he,_e)},$t.useEffectEvent=function(he){return U.H.useEffectEvent(he)},$t.useId=function(){return U.H.useId()},$t.useImperativeHandle=function(he,_e,Ge){return U.H.useImperativeHandle(he,_e,Ge)},$t.useInsertionEffect=function(he,_e){return U.H.useInsertionEffect(he,_e)},$t.useLayoutEffect=function(he,_e){return U.H.useLayoutEffect(he,_e)},$t.useMemo=function(he,_e){return U.H.useMemo(he,_e)},$t.useOptimistic=function(he,_e){return U.H.useOptimistic(he,_e)},$t.useReducer=function(he,_e,Ge){return U.H.useReducer(he,_e,Ge)},$t.useRef=function(he){return U.H.useRef(he)},$t.useState=function(he){return U.H.useState(he)},$t.useSyncExternalStore=function(he,_e,Ge){return U.H.useSyncExternalStore(he,_e,Ge)},$t.useTransition=function(){return U.H.useTransition()},$t.version="19.2.4",$t}var UI;function kd(){return UI||(UI=1,Xx.exports=aF()),Xx.exports}var D=kd();const $h=al(D),sF=nF({__proto__:null,default:$h},[D]);var Zx={exports:{}},jh={},Qx={exports:{}},Jx={};var VI;function oF(){return VI||(VI=1,(function(t){function e(ve,Ae){var We=ve.length;ve.push(Ae);e:for(;0<We;){var Ue=We-1>>>1,st=ve[Ue];if(0<i(st,Ae))ve[Ue]=Ae,ve[We]=st,We=Ue;else break e}}function n(ve){return ve.length===0?null:ve[0]}function r(ve){if(ve.length===0)return null;var Ae=ve[0],We=ve.pop();if(We!==Ae){ve[0]=We;e:for(var Ue=0,st=ve.length,he=st>>>1;Ue<he;){var _e=2*(Ue+1)-1,Ge=ve[_e],Fe=_e+1,dt=ve[Fe];if(0>i(Ge,We))Fe<st&&0>i(dt,Ge)?(ve[Ue]=dt,ve[Fe]=We,Ue=Fe):(ve[Ue]=Ge,ve[_e]=We,Ue=_e);else if(Fe<st&&0>i(dt,We))ve[Ue]=dt,ve[Fe]=We,Ue=Fe;else break e}}return Ae}function i(ve,Ae){var We=ve.sortIndex-Ae.sortIndex;return We!==0?We:ve.id-Ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var y=[],g=[],w=1,A=null,I=3,R=!1,j=!1,k=!1,L=!1,G=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ne(ve){for(var Ae=n(g);Ae!==null;){if(Ae.callback===null)r(g);else if(Ae.startTime<=ve)r(g),Ae.sortIndex=Ae.expirationTime,e(y,Ae);else break;Ae=n(g)}}function fe(ve){if(k=!1,ne(ve),!j)if(n(y)!==null)j=!0,Q||(Q=!0,Z());else{var Ae=n(g);Ae!==null&&pe(fe,Ae.startTime-ve)}}var Q=!1,U=-1,$=5,H=-1;function ae(){return L?!0:!(t.unstable_now()-H<$)}function ie(){if(L=!1,Q){var ve=t.unstable_now();H=ve;var Ae=!0;try{e:{j=!1,k&&(k=!1,K(U),U=-1),R=!0;var We=I;try{t:{for(ne(ve),A=n(y);A!==null&&!(A.expirationTime>ve&&ae());){var Ue=A.callback;if(typeof Ue=="function"){A.callback=null,I=A.priorityLevel;var st=Ue(A.expirationTime<=ve);if(ve=t.unstable_now(),typeof st=="function"){A.callback=st,ne(ve),Ae=!0;break t}A===n(y)&&r(y),ne(ve)}else r(y);A=n(y)}if(A!==null)Ae=!0;else{var he=n(g);he!==null&&pe(fe,he.startTime-ve),Ae=!1}}break e}finally{A=null,I=We,R=!1}Ae=void 0}}finally{Ae?Z():Q=!1}}}var Z;if(typeof W=="function")Z=function(){W(ie)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Be=J.port2;J.port1.onmessage=ie,Z=function(){Be.postMessage(null)}}else Z=function(){G(ie,0)};function pe(ve,Ae){U=G(function(){ve(t.unstable_now())},Ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ve){ve.callback=null},t.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ve?Math.floor(1e3/ve):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_next=function(ve){switch(I){case 1:case 2:case 3:var Ae=3;break;default:Ae=I}var We=I;I=Ae;try{return ve()}finally{I=We}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(ve,Ae){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var We=I;I=ve;try{return Ae()}finally{I=We}},t.unstable_scheduleCallback=function(ve,Ae,We){var Ue=t.unstable_now();switch(typeof We=="object"&&We!==null?(We=We.delay,We=typeof We=="number"&&0<We?Ue+We:Ue):We=Ue,ve){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=We+st,ve={id:w++,callback:Ae,priorityLevel:ve,startTime:We,expirationTime:st,sortIndex:-1},We>Ue?(ve.sortIndex=We,e(g,ve),n(y)===null&&ve===n(g)&&(k?(K(U),U=-1):k=!0,pe(fe,We-Ue))):(ve.sortIndex=st,e(y,ve),j||R||(j=!0,Q||(Q=!0,Z()))),ve},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(ve){var Ae=I;return function(){var We=I;I=Ae;try{return ve.apply(this,arguments)}finally{I=We}}}})(Jx)),Jx}var zI;function lF(){return zI||(zI=1,Qx.exports=oF()),Qx.exports}var eb={exports:{}},ja={};var qI;function uF(){if(qI)return ja;qI=1;var t=kd();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(y,g,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:A==null?null:""+A,children:y,containerInfo:g,implementation:w}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ja.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ja.createPortal=function(y,g){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return a(y,g,null,w)},ja.flushSync=function(y){var g=c.T,w=r.p;try{if(c.T=null,r.p=2,y)return y()}finally{c.T=g,r.p=w,r.d.f()}},ja.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},ja.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},ja.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var w=g.as,A=h(w,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;w==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:R}):w==="script"&&r.d.X(y,{crossOrigin:A,integrity:I,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ja.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var w=h(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},ja.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var w=g.as,A=h(w,g.crossOrigin);r.d.L(y,w,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ja.preloadModule=function(y,g){if(typeof y=="string")if(g){var w=h(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},ja.requestFormReset=function(y){r.d.r(y)},ja.unstable_batchedUpdates=function(y,g){return y(g)},ja.useFormState=function(y,g,w){return c.H.useFormState(y,g,w)},ja.useFormStatus=function(){return c.H.useHostTransitionStatus()},ja.version="19.2.4",ja}var HI;function s6(){if(HI)return eb.exports;HI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eb.exports=uF(),eb.exports}var GI;function cF(){if(GI)return jh;GI=1;var t=lF(),e=kd(),n=s6();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)l+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,m=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(m=l.return),s=l.return;while(s)}return l.tag===3?m:null}function c(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function h(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function y(s){if(a(s)!==s)throw Error(r(188))}function g(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var m=s,b=l;;){var T=m.return;if(T===null)break;var N=T.alternate;if(N===null){if(b=T.return,b!==null){m=b;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===m)return y(T),s;if(N===b)return y(T),l;N=N.sibling}throw Error(r(188))}if(m.return!==b.return)m=T,b=N;else{for(var V=!1,ee=T.child;ee;){if(ee===m){V=!0,m=T,b=N;break}if(ee===b){V=!0,b=T,m=N;break}ee=ee.sibling}if(!V){for(ee=N.child;ee;){if(ee===m){V=!0,m=N,b=T;break}if(ee===b){V=!0,b=N,m=T;break}ee=ee.sibling}if(!V)throw Error(r(189))}}if(m.alternate!==b)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:l}function w(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=w(s),l!==null)return l;s=s.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var J=Symbol.for("react.client.reference");function Be(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===J?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case G:return"Profiler";case L:return"StrictMode";case fe:return"Suspense";case Q:return"SuspenseList";case H:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case W:return s.displayName||"Context";case K:return(s._context.displayName||"Context")+".Consumer";case ne:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return l=s.displayName||null,l!==null?l:Be(s.type)||"Memo";case $:l=s._payload,s=s._init;try{return Be(s(l))}catch{}}return null}var pe=Array.isArray,ve=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,We={pending:!1,data:null,method:null,action:null},Ue=[],st=-1;function he(s){return{current:s}}function _e(s){0>st||(s.current=Ue[st],Ue[st]=null,st--)}function Ge(s,l){st++,Ue[st]=s.current,s.current=l}var Fe=he(null),dt=he(null),Ne=he(null),et=he(null);function Tt(s,l){switch(Ge(Ne,l),Ge(dt,s),Ge(Fe,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?sI(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=sI(l),s=oI(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}_e(Fe),Ge(Fe,s)}function ke(){_e(Fe),_e(dt),_e(Ne)}function Ye(s){s.memoizedState!==null&&Ge(et,s);var l=Fe.current,m=oI(l,s.type);l!==m&&(Ge(dt,s),Ge(Fe,m))}function It(s){dt.current===s&&(_e(Fe),_e(dt)),et.current===s&&(_e(et),Rh._currentValue=We)}var Le,At;function zt(s){if(Le===void 0)try{throw Error()}catch(m){var l=m.stack.trim().match(/\n( *(at )?)/);Le=l&&l[1]||"",At=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+s+At}var cn=!1;function Hn(s,l){if(!s||cn)return"";cn=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(l){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(je){var De=je}Reflect.construct(s,[],Ke)}else{try{Ke.call()}catch(je){De=je}s.call(Ke.prototype)}}else{try{throw Error()}catch(je){De=je}(Ke=s())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(je){if(je&&De&&typeof je.stack=="string")return[je.stack,De.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=b.DetermineComponentFrameRoot(),V=N[0],ee=N[1];if(V&&ee){var ge=V.split(`
`),Oe=ee.split(`
`);for(T=b=0;b<ge.length&&!ge[b].includes("DetermineComponentFrameRoot");)b++;for(;T<Oe.length&&!Oe[T].includes("DetermineComponentFrameRoot");)T++;if(b===ge.length||T===Oe.length)for(b=ge.length-1,T=Oe.length-1;1<=b&&0<=T&&ge[b]!==Oe[T];)T--;for(;1<=b&&0<=T;b--,T--)if(ge[b]!==Oe[T]){if(b!==1||T!==1)do if(b--,T--,0>T||ge[b]!==Oe[T]){var Ve=`
`+ge[b].replace(" at new "," at ");return s.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",s.displayName)),Ve}while(1<=b&&0<=T);break}}}finally{cn=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?zt(m):""}function Rn(s,l){switch(s.tag){case 26:case 27:case 5:return zt(s.type);case 16:return zt("Lazy");case 13:return s.child!==l&&l!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return Hn(s.type,!1);case 11:return Hn(s.type.render,!1);case 1:return Hn(s.type,!0);case 31:return zt("Activity");default:return""}}function fn(s){try{var l="",m=null;do l+=Rn(s,m),m=s,s=s.return;while(s);return l}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var Ot=Object.prototype.hasOwnProperty,nt=t.unstable_scheduleCallback,ot=t.unstable_cancelCallback,Jr=t.unstable_shouldYield,kr=t.unstable_requestPaint,Zt=t.unstable_now,jr=t.unstable_getCurrentPriorityLevel,Gn=t.unstable_ImmediatePriority,Aa=t.unstable_UserBlockingPriority,ci=t.unstable_NormalPriority,Tr=t.unstable_LowPriority,lo=t.unstable_IdlePriority,es=t.log,ts=t.unstable_setDisableYieldValue,wn=null,Je=null;function sn(s){if(typeof es=="function"&&ts(s),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(wn,s)}catch{}}var Xe=Math.clz32?Math.clz32:bs,kn=Math.log,yi=Math.LN2;function bs(s){return s>>>=0,s===0?32:31-(kn(s)/yi|0)|0}var ut=256,Qt=262144,Wn=4194304;function ia(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Sa(s,l,m){var b=s.pendingLanes;if(b===0)return 0;var T=0,N=s.suspendedLanes,V=s.pingedLanes;s=s.warmLanes;var ee=b&134217727;return ee!==0?(b=ee&~N,b!==0?T=ia(b):(V&=ee,V!==0?T=ia(V):m||(m=ee&~s,m!==0&&(T=ia(m))))):(ee=b&~N,ee!==0?T=ia(ee):V!==0?T=ia(V):m||(m=b&~s,m!==0&&(T=ia(m)))),T===0?0:l!==0&&l!==T&&(l&N)===0&&(N=T&-T,m=l&-l,N>=m||N===32&&(m&4194048)!==0)?l:T}function mr(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function cl(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(){var s=Wn;return Wn<<=1,(Wn&62914560)===0&&(Wn=4194304),s}function Lr(s){for(var l=[],m=0;31>m;m++)l.push(s);return l}function Ri(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Hi(s,l,m,b,T,N){var V=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var ee=s.entanglements,ge=s.expirationTimes,Oe=s.hiddenUpdates;for(m=V&~m;0<m;){var Ve=31-Xe(m),Ke=1<<Ve;ee[Ve]=0,ge[Ve]=-1;var De=Oe[Ve];if(De!==null)for(Oe[Ve]=null,Ve=0;Ve<De.length;Ve++){var je=De[Ve];je!==null&&(je.lane&=-536870913)}m&=~Ke}b!==0&&ns(s,b,0),N!==0&&T===0&&s.tag!==0&&(s.suspendedLanes|=N&~(V&~l))}function ns(s,l,m){s.pendingLanes|=l,s.suspendedLanes&=~l;var b=31-Xe(l);s.entangledLanes|=l,s.entanglements[b]=s.entanglements[b]|1073741824|m&261930}function xn(s,l){var m=s.entangledLanes|=l;for(s=s.entanglements;m;){var b=31-Xe(m),T=1<<b;T&l|s[b]&l&&(s[b]|=l),m&=~T}}function or(s,l){var m=l&-l;return m=(m&42)!==0?1:Br(m),(m&(s.suspendedLanes|l))!==0?0:m}function Br(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ei(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ti(){var s=Ae.p;return s!==0?s:(s=window.event,s===void 0?32:NI(s.type))}function ct(s,l){var m=Ae.p;try{return Ae.p=s,l()}finally{Ae.p=m}}var vi=Math.random().toString(36).slice(2),jn="__reactFiber$"+vi,dn="__reactProps$"+vi,wr="__reactContainer$"+vi,Ca="__reactEvents$"+vi,Co="__reactListeners$"+vi,Fr="__reactHandles$"+vi,fl="__reactResources$"+vi,xi="__reactMarker$"+vi;function bi(s){delete s[jn],delete s[dn],delete s[Ca],delete s[Co],delete s[Fr]}function Yn(s){var l=s[jn];if(l)return l;for(var m=s.parentNode;m;){if(l=m[wr]||m[jn]){if(m=l.alternate,l.child!==null||m!==null&&m.child!==null)for(s=mI(s);s!==null;){if(m=s[jn])return m;s=mI(s)}return l}s=m,m=s.parentNode}return null}function Nt(s){if(s=s[jn]||s[wr]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Ur(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function er(s){var l=s[fl];return l||(l=s[fl]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function gr(s){s[xi]=!0}var ze=new Set,Bs={};function En(s,l){fi(s,l),fi(s+"Capture",l)}function fi(s,l){for(Bs[s]=l,s=0;s<l.length;s++)ze.add(l[s])}var Ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mn={},rn={};function Jt(s){return Ot.call(rn,s)?!0:Ot.call(mn,s)?!1:Ga.test(s)?rn[s]=!0:(mn[s]=!0,!1)}function Wt(s,l,m){if(Jt(l))if(m===null)s.removeAttribute(l);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var b=l.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+m)}}function wi(s,l,m){if(m===null)s.removeAttribute(l);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+m)}}function pr(s,l,m,b){if(b===null)s.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(l,m,""+b)}}function en(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Yr(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function To(s,l,m){var b=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var T=b.get,N=b.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return T.call(this)},set:function(V){m=""+V,N.call(this,V)}}),Object.defineProperty(s,l,{enumerable:b.enumerable}),{getValue:function(){return m},setValue:function(V){m=""+V},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Mt(s){if(!s._valueTracker){var l=Yr(s)?"checked":"value";s._valueTracker=To(s,l,""+s[l])}}function Pi(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var m=l.getValue(),b="";return s&&(b=Yr(s)?s.checked?"true":"false":s.value),s=b,s!==m?(l.setValue(s),!0):!1}function gn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ei=/[\n"\\]/g;function qt(s){return s.replace(Ei,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function $n(s,l,m,b,T,N,V,ee){s.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?s.type=V:s.removeAttribute("type"),l!=null?V==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+en(l)):s.value!==""+en(l)&&(s.value=""+en(l)):V!=="submit"&&V!=="reset"||s.removeAttribute("value"),l!=null?ue(s,V,en(l)):m!=null?ue(s,V,en(m)):b!=null&&s.removeAttribute("value"),T==null&&N!=null&&(s.defaultChecked=!!N),T!=null&&(s.checked=T&&typeof T!="function"&&typeof T!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?s.name=""+en(ee):s.removeAttribute("name")}function Se(s,l,m,b,T,N,V,ee){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),l!=null||m!=null){if(!(N!=="submit"&&N!=="reset"||l!=null)){Mt(s);return}m=m!=null?""+en(m):"",l=l!=null?""+en(l):m,ee||l===s.value||(s.value=l),s.defaultValue=l}b=b??T,b=typeof b!="function"&&typeof b!="symbol"&&!!b,s.checked=ee?s.checked:!!b,s.defaultChecked=!!b,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(s.name=V),Mt(s)}function ue(s,l,m){l==="number"&&gn(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function gt(s,l,m,b){if(s=s.options,l){l={};for(var T=0;T<m.length;T++)l["$"+m[T]]=!0;for(m=0;m<s.length;m++)T=l.hasOwnProperty("$"+s[m].value),s[m].selected!==T&&(s[m].selected=T),T&&b&&(s[m].defaultSelected=!0)}else{for(m=""+en(m),l=null,T=0;T<s.length;T++){if(s[T].value===m){s[T].selected=!0,b&&(s[T].defaultSelected=!0);return}l!==null||s[T].disabled||(l=s[T])}l!==null&&(l.selected=!0)}}function Er(s,l,m){if(l!=null&&(l=""+en(l),l!==s.value&&(s.value=l),m==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=m!=null?""+en(m):""}function _r(s,l,m,b){if(l==null){if(b!=null){if(m!=null)throw Error(r(92));if(pe(b)){if(1<b.length)throw Error(r(93));b=b[0]}m=b}m==null&&(m=""),l=m}m=en(l),s.defaultValue=m,b=s.textContent,b===m&&b!==""&&b!==null&&(s.value=b),Mt(s)}function Di(s,l){if(l){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=l;return}}s.textContent=l}var Io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lt(s,l,m){var b=l.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?b?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":b?s.setProperty(l,m):typeof m!="number"||m===0||Io.has(l)?l==="float"?s.cssFloat=m:s[l]=(""+m).trim():s[l]=m+"px"}function Et(s,l,m){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,m!=null){for(var b in m)!m.hasOwnProperty(b)||l!=null&&l.hasOwnProperty(b)||(b.indexOf("--")===0?s.setProperty(b,""):b==="float"?s.cssFloat="":s[b]="");for(var T in l)b=l[T],l.hasOwnProperty(T)&&m[T]!==b&&Lt(s,T,b)}else for(var N in l)l.hasOwnProperty(N)&&Lt(s,N,l[N])}function Ln(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(s){return Vr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function di(){}var Gi=null;function sa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xn=null,Pn=null;function yr(s){var l=Nt(s);if(l&&(s=l.stateNode)){var m=s[dn]||null;e:switch(s=l.stateNode,l.type){case"input":if($n(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),l=m.name,m.type==="radio"&&l!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+qt(""+l)+'"][type="radio"]'),l=0;l<m.length;l++){var b=m[l];if(b!==s&&b.form===s.form){var T=b[dn]||null;if(!T)throw Error(r(90));$n(b,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<m.length;l++)b=m[l],b.form===s.form&&Pi(b)}break e;case"textarea":Er(s,m.value,m.defaultValue);break e;case"select":l=m.value,l!=null&&gt(s,!!m.multiple,l,!1)}}}var _t=!1;function Ta(s,l,m){if(_t)return s(l,m);_t=!0;try{var b=s(l);return b}finally{if(_t=!1,(Xn!==null||Pn!==null)&&(lg(),Xn&&(l=Xn,s=Pn,Pn=Xn=null,yr(l),s)))for(l=0;l<s.length;l++)yr(s[l])}}function Rt(s,l){var m=s.stateNode;if(m===null)return null;var b=m[dn]||null;if(b===null)return null;m=b[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(s=s.type,b=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!b;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,l,typeof m));return m}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=!1;if(pn)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{uo=!1}var oa=null,Ia=null,ws=null;function la(){if(ws)return ws;var s,l=Ia,m=l.length,b,T="value"in oa?oa.value:oa.textContent,N=T.length;for(s=0;s<m&&l[s]===T[s];s++);var V=m-s;for(b=1;b<=V&&l[m-b]===T[N-b];b++);return ws=T.slice(s,1<b?1-b:void 0)}function ua(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Wi(){return!0}function Oa(){return!1}function tr(s){function l(m,b,T,N,V){this._reactName=m,this._targetInst=T,this.type=b,this.nativeEvent=N,this.target=V,this.currentTarget=null;for(var ee in s)s.hasOwnProperty(ee)&&(m=s[ee],this[ee]=m?m(N):N[ee]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Wi:Oa,this.isPropagationStopped=Oa,this}return A(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),l}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vr=tr(ca),Na=A({},ca,{view:0,detail:0}),Es=tr(Na),Wa,Oo,rs,No=A({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==rs&&(rs&&s.type==="mousemove"?(Wa=s.screenX-rs.screenX,Oo=s.screenY-rs.screenY):Oo=Wa=0,rs=s),Wa)},movementY:function(s){return"movementY"in s?s.movementY:Oo}}),bn=tr(No),is=A({},No,{dataTransfer:0}),Fs=tr(is),Ki=A({},Na,{relatedTarget:0}),as=tr(Ki),Re=A({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Ht=tr(Re),Ar=A({},ca,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ra=tr(Ar),co=A({},ca,{data:0}),Pa=tr(co),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ir={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zn(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Ir[s])?!!l[s]:!1}function Yi(){return Zn}var on=A({},Na,{key:function(s){if(s.key){var l=Ro[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=ua(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Po[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yi,charCode:function(s){return s.type==="keypress"?ua(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ua(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ss=tr(on),Ka=A({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hn=tr(Ka),S=A({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yi}),B=tr(S),q=A({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),se=tr(q),Ee=A({},No,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=tr(Ee),rt=A({},ca,{newState:0,oldState:0}),Ft=tr(rt),Sr=[9,13,27,32],yn=pn&&"CompositionEvent"in window,Bn=null;pn&&"documentMode"in document&&(Bn=document.documentMode);var fa=pn&&"TextEvent"in window&&!Bn,Da=pn&&(!yn||Bn&&8<Bn&&11>=Bn),ni=" ",da=!1;function Us(s,l){switch(s){case"keyup":return Sr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function os(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var fo=!1;function _s(s,l){switch(s){case"compositionend":return os(l);case"keypress":return l.which!==32?null:(da=!0,ni);case"textInput":return s=l.data,s===ni&&da?null:s;default:return null}}function cu(s,l){if(fo)return s==="compositionend"||!yn&&Us(s,l)?(s=la(),ws=Ia=oa=null,fo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Da&&l.locale!=="ko"?null:l.data;default:return null}}var ha={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hl(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!ha[s.type]:l==="textarea"}function Ma(s,l,m,b){Xn?Pn?Pn.push(b):Pn=[b]:Xn=b,l=gg(l,"onChange"),0<l.length&&(m=new vr("onChange","change",null,m,b),s.push({event:m,listeners:l}))}var Do=null,ho=null;function nh(s){eI(s,0)}function ml(s){var l=Ur(s);if(Pi(l))return s}function $i(s,l){if(s==="change")return l}var ls=!1;if(pn){var nr;if(pn){var us="oninput"in document;if(!us){var nn=document.createElement("div");nn.setAttribute("oninput","return;"),us=typeof nn.oninput=="function"}nr=us}else nr=!1;ls=nr&&(!document.documentMode||9<document.documentMode)}function gl(){Do&&(Do.detachEvent("onpropertychange",Y),ho=Do=null)}function Y(s){if(s.propertyName==="value"&&ml(ho)){var l=[];Ma(l,ho,s,sa(s)),Ta(nh,l)}}function o(s,l,m){s==="focusin"?(gl(),Do=l,ho=m,Do.attachEvent("onpropertychange",Y)):s==="focusout"&&gl()}function u(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ml(ho)}function d(s,l){if(s==="click")return ml(l)}function p(s,l){if(s==="input"||s==="change")return ml(l)}function x(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var E=typeof Object.is=="function"?Object.is:x;function f(s,l){if(E(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var m=Object.keys(s),b=Object.keys(l);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var T=m[b];if(!Ot.call(l,T)||!E(s[T],l[T]))return!1}return!0}function v(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function _(s,l){var m=v(s);s=0;for(var b;m;){if(m.nodeType===3){if(b=s+m.textContent.length,s<=l&&b>=l)return{node:m,offset:l-s};s=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=v(m)}}function C(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?C(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function O(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=gn(s.document);l instanceof s.HTMLIFrameElement;){try{var m=typeof l.contentWindow.location.href=="string"}catch{m=!1}if(m)s=l.contentWindow;else break;l=gn(s.document)}return l}function M(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var F=pn&&"documentMode"in document&&11>=document.documentMode,z=null,X=null,re=null,te=!1;function oe(s,l,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;te||z==null||z!==gn(b)||(b=z,"selectionStart"in b&&M(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),re&&f(re,b)||(re=b,b=gg(X,"onSelect"),0<b.length&&(l=new vr("onSelect","select",null,l,m),s.push({event:l,listeners:b}),l.target=z)))}function ce(s,l){var m={};return m[s.toLowerCase()]=l.toLowerCase(),m["Webkit"+s]="webkit"+l,m["Moz"+s]="moz"+l,m}var le={animationend:ce("Animation","AnimationEnd"),animationiteration:ce("Animation","AnimationIteration"),animationstart:ce("Animation","AnimationStart"),transitionrun:ce("Transition","TransitionRun"),transitionstart:ce("Transition","TransitionStart"),transitioncancel:ce("Transition","TransitionCancel"),transitionend:ce("Transition","TransitionEnd")},me={},de={};pn&&(de=document.createElement("div").style,"AnimationEvent"in window||(delete le.animationend.animation,delete le.animationiteration.animation,delete le.animationstart.animation),"TransitionEvent"in window||delete le.transitionend.transition);function be(s){if(me[s])return me[s];if(!le[s])return s;var l=le[s],m;for(m in l)if(l.hasOwnProperty(m)&&m in de)return me[s]=l[m];return s}var Ce=be("animationend"),xe=be("animationiteration"),Pe=be("animationstart"),qe=be("transitionrun"),it=be("transitionstart"),lt=be("transitioncancel"),Ze=be("transitionend"),ht=new Map,ft="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ft.push("scrollEnd");function tt(s,l){ht.set(s,l),En(l,[s])}var mt=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Gt=[],vn=0,Pt=0;function Yt(){for(var s=vn,l=Pt=vn=0;l<s;){var m=Gt[l];Gt[l++]=null;var b=Gt[l];Gt[l++]=null;var T=Gt[l];Gt[l++]=null;var N=Gt[l];if(Gt[l++]=null,b!==null&&T!==null){var V=b.pending;V===null?T.next=T:(T.next=V.next,V.next=T),b.pending=T}N!==0&&Mo(m,T,N)}}function lr(s,l,m,b){Gt[vn++]=s,Gt[vn++]=l,Gt[vn++]=m,Gt[vn++]=b,Pt|=b,s.lanes|=b,s=s.alternate,s!==null&&(s.lanes|=b)}function ka(s,l,m,b){return lr(s,l,m,b),fu(s)}function Qn(s,l){return lr(s,null,null,l),fu(s)}function Mo(s,l,m){s.lanes|=m;var b=s.alternate;b!==null&&(b.lanes|=m);for(var T=!1,N=s.return;N!==null;)N.childLanes|=m,b=N.alternate,b!==null&&(b.childLanes|=m),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(T=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,T&&l!==null&&(T=31-Xe(m),s=N.hiddenUpdates,b=s[T],b===null?s[T]=[l]:b.push(l),l.lane=m|536870912),N):null}function fu(s){if(50<Ah)throw Ah=0,xx=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Cf={};function FL(s,l,m,b){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function As(s,l,m,b){return new FL(s,l,m,b)}function fv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function pl(s,l){var m=s.alternate;return m===null?(m=As(s.tag,l,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=l,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,l=s.dependencies,m.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function jS(s,l){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,l=m.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Pm(s,l,m,b,T,N){var V=0;if(b=s,typeof s=="function")fv(s)&&(V=1);else if(typeof s=="string")V=HB(s,m,Fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case H:return s=As(31,m,l,T),s.elementType=H,s.lanes=N,s;case k:return vc(m.children,T,N,l);case L:V=8,T|=24;break;case G:return s=As(12,m,l,T|2),s.elementType=G,s.lanes=N,s;case fe:return s=As(13,m,l,T),s.elementType=fe,s.lanes=N,s;case Q:return s=As(19,m,l,T),s.elementType=Q,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case W:V=10;break e;case K:V=9;break e;case ne:V=11;break e;case U:V=14;break e;case $:V=16,b=null;break e}V=29,m=Error(r(130,s===null?"null":typeof s,"")),b=null}return l=As(V,m,l,T),l.elementType=s,l.type=b,l.lanes=N,l}function vc(s,l,m,b){return s=As(7,s,b,l),s.lanes=m,s}function dv(s,l,m){return s=As(6,s,null,l),s.lanes=m,s}function LS(s){var l=As(18,null,null,0);return l.stateNode=s,l}function hv(s,l,m){return l=As(4,s.children!==null?s.children:[],s.key,l),l.lanes=m,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var BS=new WeakMap;function Vs(s,l){if(typeof s=="object"&&s!==null){var m=BS.get(s);return m!==void 0?m:(l={value:s,source:l,stack:fn(l)},BS.set(s,l),l)}return{value:s,source:l,stack:fn(l)}}var Tf=[],If=0,Dm=null,rh=0,zs=[],qs=0,du=null,ko=1,jo="";function yl(s,l){Tf[If++]=rh,Tf[If++]=Dm,Dm=s,rh=l}function FS(s,l,m){zs[qs++]=ko,zs[qs++]=jo,zs[qs++]=du,du=s;var b=ko;s=jo;var T=32-Xe(b)-1;b&=~(1<<T),m+=1;var N=32-Xe(l)+T;if(30<N){var V=T-T%5;N=(b&(1<<V)-1).toString(32),b>>=V,T-=V,ko=1<<32-Xe(l)+T|m<<T|b,jo=N+s}else ko=1<<N|m<<T|b,jo=s}function mv(s){s.return!==null&&(yl(s,1),FS(s,1,0))}function gv(s){for(;s===Dm;)Dm=Tf[--If],Tf[If]=null,rh=Tf[--If],Tf[If]=null;for(;s===du;)du=zs[--qs],zs[qs]=null,jo=zs[--qs],zs[qs]=null,ko=zs[--qs],zs[qs]=null}function US(s,l){zs[qs++]=ko,zs[qs++]=jo,zs[qs++]=du,ko=l.id,jo=l.overflow,du=s}var ma=null,Or=null,Dn=!1,hu=null,Hs=!1,pv=Error(r(519));function mu(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ih(Vs(l,s)),pv}function VS(s){var l=s.stateNode,m=s.type,b=s.memoizedProps;switch(l[jn]=s,l[dn]=b,m){case"dialog":An("cancel",l),An("close",l);break;case"iframe":case"object":case"embed":An("load",l);break;case"video":case"audio":for(m=0;m<Ch.length;m++)An(Ch[m],l);break;case"source":An("error",l);break;case"img":case"image":case"link":An("error",l),An("load",l);break;case"details":An("toggle",l);break;case"input":An("invalid",l),Se(l,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":An("invalid",l);break;case"textarea":An("invalid",l),_r(l,b.value,b.defaultValue,b.children)}m=b.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||l.textContent===""+m||b.suppressHydrationWarning===!0||iI(l.textContent,m)?(b.popover!=null&&(An("beforetoggle",l),An("toggle",l)),b.onScroll!=null&&An("scroll",l),b.onScrollEnd!=null&&An("scrollend",l),b.onClick!=null&&(l.onclick=di),l=!0):l=!1,l||mu(s,!0)}function zS(s){for(ma=s.return;ma;)switch(ma.tag){case 5:case 31:case 13:Hs=!1;return;case 27:case 3:Hs=!0;return;default:ma=ma.return}}function Of(s){if(s!==ma)return!1;if(!Dn)return zS(s),Dn=!0,!1;var l=s.tag,m;if((m=l!==3&&l!==27)&&((m=l===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||Mx(s.type,s.memoizedProps)),m=!m),m&&Or&&mu(s),zS(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Or=hI(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Or=hI(s)}else l===27?(l=Or,Iu(s.type)?(s=Fx,Fx=null,Or=s):Or=l):Or=ma?Ws(s.stateNode.nextSibling):null;return!0}function xc(){Or=ma=null,Dn=!1}function yv(){var s=hu;return s!==null&&(hs===null?hs=s:hs.push.apply(hs,s),hu=null),s}function ih(s){hu===null?hu=[s]:hu.push(s)}var vv=he(null),bc=null,vl=null;function gu(s,l,m){Ge(vv,l._currentValue),l._currentValue=m}function xl(s){s._currentValue=vv.current,_e(vv)}function xv(s,l,m){for(;s!==null;){var b=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,b!==null&&(b.childLanes|=l)):b!==null&&(b.childLanes&l)!==l&&(b.childLanes|=l),s===m)break;s=s.return}}function bv(s,l,m,b){var T=s.child;for(T!==null&&(T.return=s);T!==null;){var N=T.dependencies;if(N!==null){var V=T.child;N=N.firstContext;e:for(;N!==null;){var ee=N;N=T;for(var ge=0;ge<l.length;ge++)if(ee.context===l[ge]){N.lanes|=m,ee=N.alternate,ee!==null&&(ee.lanes|=m),xv(N.return,m,s),b||(V=null);break e}N=ee.next}}else if(T.tag===18){if(V=T.return,V===null)throw Error(r(341));V.lanes|=m,N=V.alternate,N!==null&&(N.lanes|=m),xv(V,m,s),V=null}else V=T.child;if(V!==null)V.return=T;else for(V=T;V!==null;){if(V===s){V=null;break}if(T=V.sibling,T!==null){T.return=V.return,V=T;break}V=V.return}T=V}}function Nf(s,l,m,b){s=null;for(var T=l,N=!1;T!==null;){if(!N){if((T.flags&524288)!==0)N=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var V=T.alternate;if(V===null)throw Error(r(387));if(V=V.memoizedProps,V!==null){var ee=T.type;E(T.pendingProps.value,V.value)||(s!==null?s.push(ee):s=[ee])}}else if(T===et.current){if(V=T.alternate,V===null)throw Error(r(387));V.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(s!==null?s.push(Rh):s=[Rh])}T=T.return}s!==null&&bv(l,s,m,b),l.flags|=262144}function Mm(s){for(s=s.firstContext;s!==null;){if(!E(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function wc(s){bc=s,vl=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ga(s){return qS(bc,s)}function km(s,l){return bc===null&&wc(s),qS(s,l)}function qS(s,l){var m=l._currentValue;if(l={context:l,memoizedValue:m,next:null},vl===null){if(s===null)throw Error(r(308));vl=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else vl=vl.next=l;return m}var UL=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(m,b){s.push(b)}};this.abort=function(){l.aborted=!0,s.forEach(function(m){return m()})}},VL=t.unstable_scheduleCallback,zL=t.unstable_NormalPriority,_i={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wv(){return{controller:new UL,data:new Map,refCount:0}}function ah(s){s.refCount--,s.refCount===0&&VL(zL,function(){s.controller.abort()})}var sh=null,Ev=0,Rf=0,Pf=null;function qL(s,l){if(sh===null){var m=sh=[];Ev=0,Rf=Sx(),Pf={status:"pending",value:void 0,then:function(b){m.push(b)}}}return Ev++,l.then(HS,HS),l}function HS(){if(--Ev===0&&sh!==null){Pf!==null&&(Pf.status="fulfilled");var s=sh;sh=null,Rf=0,Pf=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function HL(s,l){var m=[],b={status:"pending",value:null,reason:null,then:function(T){m.push(T)}};return s.then(function(){b.status="fulfilled",b.value=l;for(var T=0;T<m.length;T++)(0,m[T])(l)},function(T){for(b.status="rejected",b.reason=T,T=0;T<m.length;T++)(0,m[T])(void 0)}),b}var GS=ve.S;ve.S=function(s,l){IT=Zt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&qL(s,l),GS!==null&&GS(s,l)};var Ec=he(null);function _v(){var s=Ec.current;return s!==null?s:xr.pooledCache}function jm(s,l){l===null?Ge(Ec,Ec.current):Ge(Ec,l.pool)}function WS(){var s=_v();return s===null?null:{parent:_i._currentValue,pool:s}}var Df=Error(r(460)),Av=Error(r(474)),Lm=Error(r(542)),Bm={then:function(){}};function KS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function YS(s,l,m){switch(m=s[m],m===void 0?s.push(l):m!==l&&(l.then(di,di),l=m),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,XS(s),s;default:if(typeof l.status=="string")l.then(di,di);else{if(s=xr,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(b){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=b}},function(b){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=b}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,XS(s),s}throw Ac=l,Df}}function _c(s){try{var l=s._init;return l(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Ac=m,Df):m}}var Ac=null;function $S(){if(Ac===null)throw Error(r(459));var s=Ac;return Ac=null,s}function XS(s){if(s===Df||s===Lm)throw Error(r(483))}var Mf=null,oh=0;function Fm(s){var l=oh;return oh+=1,Mf===null&&(Mf=[]),YS(Mf,s,l)}function lh(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Um(s,l){throw l.$$typeof===I?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function ZS(s){function l(we,ye){if(s){var Ie=we.deletions;Ie===null?(we.deletions=[ye],we.flags|=16):Ie.push(ye)}}function m(we,ye){if(!s)return null;for(;ye!==null;)l(we,ye),ye=ye.sibling;return null}function b(we){for(var ye=new Map;we!==null;)we.key!==null?ye.set(we.key,we):ye.set(we.index,we),we=we.sibling;return ye}function T(we,ye){return we=pl(we,ye),we.index=0,we.sibling=null,we}function N(we,ye,Ie){return we.index=Ie,s?(Ie=we.alternate,Ie!==null?(Ie=Ie.index,Ie<ye?(we.flags|=67108866,ye):Ie):(we.flags|=67108866,ye)):(we.flags|=1048576,ye)}function V(we){return s&&we.alternate===null&&(we.flags|=67108866),we}function ee(we,ye,Ie,He){return ye===null||ye.tag!==6?(ye=dv(Ie,we.mode,He),ye.return=we,ye):(ye=T(ye,Ie),ye.return=we,ye)}function ge(we,ye,Ie,He){var Dt=Ie.type;return Dt===k?Ve(we,ye,Ie.props.children,He,Ie.key):ye!==null&&(ye.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===$&&_c(Dt)===ye.type)?(ye=T(ye,Ie.props),lh(ye,Ie),ye.return=we,ye):(ye=Pm(Ie.type,Ie.key,Ie.props,null,we.mode,He),lh(ye,Ie),ye.return=we,ye)}function Oe(we,ye,Ie,He){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ie.containerInfo||ye.stateNode.implementation!==Ie.implementation?(ye=hv(Ie,we.mode,He),ye.return=we,ye):(ye=T(ye,Ie.children||[]),ye.return=we,ye)}function Ve(we,ye,Ie,He,Dt){return ye===null||ye.tag!==7?(ye=vc(Ie,we.mode,He,Dt),ye.return=we,ye):(ye=T(ye,Ie),ye.return=we,ye)}function Ke(we,ye,Ie){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=dv(""+ye,we.mode,Ie),ye.return=we,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case R:return Ie=Pm(ye.type,ye.key,ye.props,null,we.mode,Ie),lh(Ie,ye),Ie.return=we,Ie;case j:return ye=hv(ye,we.mode,Ie),ye.return=we,ye;case $:return ye=_c(ye),Ke(we,ye,Ie)}if(pe(ye)||Z(ye))return ye=vc(ye,we.mode,Ie,null),ye.return=we,ye;if(typeof ye.then=="function")return Ke(we,Fm(ye),Ie);if(ye.$$typeof===W)return Ke(we,km(we,ye),Ie);Um(we,ye)}return null}function De(we,ye,Ie,He){var Dt=ye!==null?ye.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Dt!==null?null:ee(we,ye,""+Ie,He);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case R:return Ie.key===Dt?ge(we,ye,Ie,He):null;case j:return Ie.key===Dt?Oe(we,ye,Ie,He):null;case $:return Ie=_c(Ie),De(we,ye,Ie,He)}if(pe(Ie)||Z(Ie))return Dt!==null?null:Ve(we,ye,Ie,He,null);if(typeof Ie.then=="function")return De(we,ye,Fm(Ie),He);if(Ie.$$typeof===W)return De(we,ye,km(we,Ie),He);Um(we,Ie)}return null}function je(we,ye,Ie,He,Dt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return we=we.get(Ie)||null,ee(ye,we,""+He,Dt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case R:return we=we.get(He.key===null?Ie:He.key)||null,ge(ye,we,He,Dt);case j:return we=we.get(He.key===null?Ie:He.key)||null,Oe(ye,we,He,Dt);case $:return He=_c(He),je(we,ye,Ie,He,Dt)}if(pe(He)||Z(He))return we=we.get(Ie)||null,Ve(ye,we,He,Dt,null);if(typeof He.then=="function")return je(we,ye,Ie,Fm(He),Dt);if(He.$$typeof===W)return je(we,ye,Ie,km(ye,He),Dt);Um(ye,He)}return null}function wt(we,ye,Ie,He){for(var Dt=null,Fn=null,St=ye,ln=ye=0,Cn=null;St!==null&&ln<Ie.length;ln++){St.index>ln?(Cn=St,St=null):Cn=St.sibling;var Un=De(we,St,Ie[ln],He);if(Un===null){St===null&&(St=Cn);break}s&&St&&Un.alternate===null&&l(we,St),ye=N(Un,ye,ln),Fn===null?Dt=Un:Fn.sibling=Un,Fn=Un,St=Cn}if(ln===Ie.length)return m(we,St),Dn&&yl(we,ln),Dt;if(St===null){for(;ln<Ie.length;ln++)St=Ke(we,Ie[ln],He),St!==null&&(ye=N(St,ye,ln),Fn===null?Dt=St:Fn.sibling=St,Fn=St);return Dn&&yl(we,ln),Dt}for(St=b(St);ln<Ie.length;ln++)Cn=je(St,we,ln,Ie[ln],He),Cn!==null&&(s&&Cn.alternate!==null&&St.delete(Cn.key===null?ln:Cn.key),ye=N(Cn,ye,ln),Fn===null?Dt=Cn:Fn.sibling=Cn,Fn=Cn);return s&&St.forEach(function(Du){return l(we,Du)}),Dn&&yl(we,ln),Dt}function Bt(we,ye,Ie,He){if(Ie==null)throw Error(r(151));for(var Dt=null,Fn=null,St=ye,ln=ye=0,Cn=null,Un=Ie.next();St!==null&&!Un.done;ln++,Un=Ie.next()){St.index>ln?(Cn=St,St=null):Cn=St.sibling;var Du=De(we,St,Un.value,He);if(Du===null){St===null&&(St=Cn);break}s&&St&&Du.alternate===null&&l(we,St),ye=N(Du,ye,ln),Fn===null?Dt=Du:Fn.sibling=Du,Fn=Du,St=Cn}if(Un.done)return m(we,St),Dn&&yl(we,ln),Dt;if(St===null){for(;!Un.done;ln++,Un=Ie.next())Un=Ke(we,Un.value,He),Un!==null&&(ye=N(Un,ye,ln),Fn===null?Dt=Un:Fn.sibling=Un,Fn=Un);return Dn&&yl(we,ln),Dt}for(St=b(St);!Un.done;ln++,Un=Ie.next())Un=je(St,we,ln,Un.value,He),Un!==null&&(s&&Un.alternate!==null&&St.delete(Un.key===null?ln:Un.key),ye=N(Un,ye,ln),Fn===null?Dt=Un:Fn.sibling=Un,Fn=Un);return s&&St.forEach(function(tF){return l(we,tF)}),Dn&&yl(we,ln),Dt}function fr(we,ye,Ie,He){if(typeof Ie=="object"&&Ie!==null&&Ie.type===k&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case R:e:{for(var Dt=Ie.key;ye!==null;){if(ye.key===Dt){if(Dt=Ie.type,Dt===k){if(ye.tag===7){m(we,ye.sibling),He=T(ye,Ie.props.children),He.return=we,we=He;break e}}else if(ye.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===$&&_c(Dt)===ye.type){m(we,ye.sibling),He=T(ye,Ie.props),lh(He,Ie),He.return=we,we=He;break e}m(we,ye);break}else l(we,ye);ye=ye.sibling}Ie.type===k?(He=vc(Ie.props.children,we.mode,He,Ie.key),He.return=we,we=He):(He=Pm(Ie.type,Ie.key,Ie.props,null,we.mode,He),lh(He,Ie),He.return=we,we=He)}return V(we);case j:e:{for(Dt=Ie.key;ye!==null;){if(ye.key===Dt)if(ye.tag===4&&ye.stateNode.containerInfo===Ie.containerInfo&&ye.stateNode.implementation===Ie.implementation){m(we,ye.sibling),He=T(ye,Ie.children||[]),He.return=we,we=He;break e}else{m(we,ye);break}else l(we,ye);ye=ye.sibling}He=hv(Ie,we.mode,He),He.return=we,we=He}return V(we);case $:return Ie=_c(Ie),fr(we,ye,Ie,He)}if(pe(Ie))return wt(we,ye,Ie,He);if(Z(Ie)){if(Dt=Z(Ie),typeof Dt!="function")throw Error(r(150));return Ie=Dt.call(Ie),Bt(we,ye,Ie,He)}if(typeof Ie.then=="function")return fr(we,ye,Fm(Ie),He);if(Ie.$$typeof===W)return fr(we,ye,km(we,Ie),He);Um(we,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,ye!==null&&ye.tag===6?(m(we,ye.sibling),He=T(ye,Ie),He.return=we,we=He):(m(we,ye),He=dv(Ie,we.mode,He),He.return=we,we=He),V(we)):m(we,ye)}return function(we,ye,Ie,He){try{oh=0;var Dt=fr(we,ye,Ie,He);return Mf=null,Dt}catch(St){if(St===Df||St===Lm)throw St;var Fn=As(29,St,null,we.mode);return Fn.lanes=He,Fn.return=we,Fn}}}var Sc=ZS(!0),QS=ZS(!1),pu=!1;function Sv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cv(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function yu(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vu(s,l,m){var b=s.updateQueue;if(b===null)return null;if(b=b.shared,(Kn&2)!==0){var T=b.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),b.pending=l,l=fu(s),Mo(s,null,m),l}return lr(s,b,l,m),fu(s)}function uh(s,l,m){if(l=l.updateQueue,l!==null&&(l=l.shared,(m&4194048)!==0)){var b=l.lanes;b&=s.pendingLanes,m|=b,l.lanes=m,xn(s,m)}}function Tv(s,l){var m=s.updateQueue,b=s.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var T=null,N=null;if(m=m.firstBaseUpdate,m!==null){do{var V={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};N===null?T=N=V:N=N.next=V,m=m.next}while(m!==null);N===null?T=N=l:N=N.next=l}else T=N=l;m={baseState:b.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:b.shared,callbacks:b.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=l:s.next=l,m.lastBaseUpdate=l}var Iv=!1;function ch(){if(Iv){var s=Pf;if(s!==null)throw s}}function fh(s,l,m,b){Iv=!1;var T=s.updateQueue;pu=!1;var N=T.firstBaseUpdate,V=T.lastBaseUpdate,ee=T.shared.pending;if(ee!==null){T.shared.pending=null;var ge=ee,Oe=ge.next;ge.next=null,V===null?N=Oe:V.next=Oe,V=ge;var Ve=s.alternate;Ve!==null&&(Ve=Ve.updateQueue,ee=Ve.lastBaseUpdate,ee!==V&&(ee===null?Ve.firstBaseUpdate=Oe:ee.next=Oe,Ve.lastBaseUpdate=ge))}if(N!==null){var Ke=T.baseState;V=0,Ve=Oe=ge=null,ee=N;do{var De=ee.lane&-536870913,je=De!==ee.lane;if(je?(Sn&De)===De:(b&De)===De){De!==0&&De===Rf&&(Iv=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var wt=s,Bt=ee;De=l;var fr=m;switch(Bt.tag){case 1:if(wt=Bt.payload,typeof wt=="function"){Ke=wt.call(fr,Ke,De);break e}Ke=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Bt.payload,De=typeof wt=="function"?wt.call(fr,Ke,De):wt,De==null)break e;Ke=A({},Ke,De);break e;case 2:pu=!0}}De=ee.callback,De!==null&&(s.flags|=64,je&&(s.flags|=8192),je=T.callbacks,je===null?T.callbacks=[De]:je.push(De))}else je={lane:De,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ve===null?(Oe=Ve=je,ge=Ke):Ve=Ve.next=je,V|=De;if(ee=ee.next,ee===null){if(ee=T.shared.pending,ee===null)break;je=ee,ee=je.next,je.next=null,T.lastBaseUpdate=je,T.shared.pending=null}}while(!0);Ve===null&&(ge=Ke),T.baseState=ge,T.firstBaseUpdate=Oe,T.lastBaseUpdate=Ve,N===null&&(T.shared.lanes=0),_u|=V,s.lanes=V,s.memoizedState=Ke}}function JS(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function eC(s,l){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)JS(m[s],l)}var kf=he(null),Vm=he(0);function tC(s,l){s=Il,Ge(Vm,s),Ge(kf,l),Il=s|l.baseLanes}function Ov(){Ge(Vm,Il),Ge(kf,kf.current)}function Nv(){Il=Vm.current,_e(kf),_e(Vm)}var Ss=he(null),Gs=null;function xu(s){var l=s.alternate;Ge(hi,hi.current&1),Ge(Ss,s),Gs===null&&(l===null||kf.current!==null||l.memoizedState!==null)&&(Gs=s)}function Rv(s){Ge(hi,hi.current),Ge(Ss,s),Gs===null&&(Gs=s)}function nC(s){s.tag===22?(Ge(hi,hi.current),Ge(Ss,s),Gs===null&&(Gs=s)):bu()}function bu(){Ge(hi,hi.current),Ge(Ss,Ss.current)}function Cs(s){_e(Ss),Gs===s&&(Gs=null),_e(hi)}var hi=he(0);function zm(s){for(var l=s;l!==null;){if(l.tag===13){var m=l.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Lx(m)||Bx(m)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var bl=0,an=null,ur=null,Ai=null,qm=!1,jf=!1,Cc=!1,Hm=0,dh=0,Lf=null,GL=0;function ri(){throw Error(r(321))}function Pv(s,l){if(l===null)return!1;for(var m=0;m<l.length&&m<s.length;m++)if(!E(s[m],l[m]))return!1;return!0}function Dv(s,l,m,b,T,N){return bl=N,an=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ve.H=s===null||s.memoizedState===null?FC:Yv,Cc=!1,N=m(b,T),Cc=!1,jf&&(N=iC(l,m,b,T)),rC(s),N}function rC(s){ve.H=gh;var l=ur!==null&&ur.next!==null;if(bl=0,Ai=ur=an=null,qm=!1,dh=0,Lf=null,l)throw Error(r(300));s===null||Si||(s=s.dependencies,s!==null&&Mm(s)&&(Si=!0))}function iC(s,l,m,b){an=s;var T=0;do{if(jf&&(Lf=null),dh=0,jf=!1,25<=T)throw Error(r(301));if(T+=1,Ai=ur=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}ve.H=UC,N=l(m,b)}while(jf);return N}function WL(){var s=ve.H,l=s.useState()[0];return l=typeof l.then=="function"?hh(l):l,s=s.useState()[0],(ur!==null?ur.memoizedState:null)!==s&&(an.flags|=1024),l}function Mv(){var s=Hm!==0;return Hm=0,s}function kv(s,l,m){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~m}function jv(s){if(qm){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}qm=!1}bl=0,Ai=ur=an=null,jf=!1,dh=Hm=0,Lf=null}function Ya(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ai===null?an.memoizedState=Ai=s:Ai=Ai.next=s,Ai}function mi(){if(ur===null){var s=an.alternate;s=s!==null?s.memoizedState:null}else s=ur.next;var l=Ai===null?an.memoizedState:Ai.next;if(l!==null)Ai=l,ur=s;else{if(s===null)throw an.alternate===null?Error(r(467)):Error(r(310));ur=s,s={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},Ai===null?an.memoizedState=Ai=s:Ai=Ai.next=s}return Ai}function Gm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hh(s){var l=dh;return dh+=1,Lf===null&&(Lf=[]),s=YS(Lf,s,l),l=an,(Ai===null?l.memoizedState:Ai.next)===null&&(l=l.alternate,ve.H=l===null||l.memoizedState===null?FC:Yv),s}function Wm(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return hh(s);if(s.$$typeof===W)return ga(s)}throw Error(r(438,String(s)))}function Lv(s){var l=null,m=an.updateQueue;if(m!==null&&(l=m.memoCache),l==null){var b=an.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(l={data:b.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),m===null&&(m=Gm(),an.updateQueue=m),m.memoCache=l,m=l.data[l.index],m===void 0)for(m=l.data[l.index]=Array(s),b=0;b<s;b++)m[b]=ae;return l.index++,m}function wl(s,l){return typeof l=="function"?l(s):l}function Km(s){var l=mi();return Bv(l,ur,s)}function Bv(s,l,m){var b=s.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=m;var T=s.baseQueue,N=b.pending;if(N!==null){if(T!==null){var V=T.next;T.next=N.next,N.next=V}l.baseQueue=T=N,b.pending=null}if(N=s.baseState,T===null)s.memoizedState=N;else{l=T.next;var ee=V=null,ge=null,Oe=l,Ve=!1;do{var Ke=Oe.lane&-536870913;if(Ke!==Oe.lane?(Sn&Ke)===Ke:(bl&Ke)===Ke){var De=Oe.revertLane;if(De===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ke===Rf&&(Ve=!0);else if((bl&De)===De){Oe=Oe.next,De===Rf&&(Ve=!0);continue}else Ke={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ge===null?(ee=ge=Ke,V=N):ge=ge.next=Ke,an.lanes|=De,_u|=De;Ke=Oe.action,Cc&&m(N,Ke),N=Oe.hasEagerState?Oe.eagerState:m(N,Ke)}else De={lane:Ke,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ge===null?(ee=ge=De,V=N):ge=ge.next=De,an.lanes|=Ke,_u|=Ke;Oe=Oe.next}while(Oe!==null&&Oe!==l);if(ge===null?V=N:ge.next=ee,!E(N,s.memoizedState)&&(Si=!0,Ve&&(m=Pf,m!==null)))throw m;s.memoizedState=N,s.baseState=V,s.baseQueue=ge,b.lastRenderedState=N}return T===null&&(b.lanes=0),[s.memoizedState,b.dispatch]}function Fv(s){var l=mi(),m=l.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var b=m.dispatch,T=m.pending,N=l.memoizedState;if(T!==null){m.pending=null;var V=T=T.next;do N=s(N,V.action),V=V.next;while(V!==T);E(N,l.memoizedState)||(Si=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),m.lastRenderedState=N}return[N,b]}function aC(s,l,m){var b=an,T=mi(),N=Dn;if(N){if(m===void 0)throw Error(r(407));m=m()}else m=l();var V=!E((ur||T).memoizedState,m);if(V&&(T.memoizedState=m,Si=!0),T=T.queue,zv(lC.bind(null,b,T,s),[s]),T.getSnapshot!==l||V||Ai!==null&&Ai.memoizedState.tag&1){if(b.flags|=2048,Bf(9,{destroy:void 0},oC.bind(null,b,T,m,l),null),xr===null)throw Error(r(349));N||(bl&127)!==0||sC(b,l,m)}return m}function sC(s,l,m){s.flags|=16384,s={getSnapshot:l,value:m},l=an.updateQueue,l===null?(l=Gm(),an.updateQueue=l,l.stores=[s]):(m=l.stores,m===null?l.stores=[s]:m.push(s))}function oC(s,l,m,b){l.value=m,l.getSnapshot=b,uC(l)&&cC(s)}function lC(s,l,m){return m(function(){uC(l)&&cC(s)})}function uC(s){var l=s.getSnapshot;s=s.value;try{var m=l();return!E(s,m)}catch{return!0}}function cC(s){var l=Qn(s,2);l!==null&&ms(l,s,2)}function Uv(s){var l=Ya();if(typeof s=="function"){var m=s;if(s=m(),Cc){sn(!0);try{m()}finally{sn(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:s},l}function fC(s,l,m,b){return s.baseState=m,Bv(s,ur,typeof b=="function"?b:wl)}function KL(s,l,m,b,T){if(Xm(s))throw Error(r(485));if(s=l.action,s!==null){var N={payload:T,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){N.listeners.push(V)}};ve.T!==null?m(!0):N.isTransition=!1,b(N),m=l.pending,m===null?(N.next=l.pending=N,dC(l,N)):(N.next=m.next,l.pending=m.next=N)}}function dC(s,l){var m=l.action,b=l.payload,T=s.state;if(l.isTransition){var N=ve.T,V={};ve.T=V;try{var ee=m(T,b),ge=ve.S;ge!==null&&ge(V,ee),hC(s,l,ee)}catch(Oe){Vv(s,l,Oe)}finally{N!==null&&V.types!==null&&(N.types=V.types),ve.T=N}}else try{N=m(T,b),hC(s,l,N)}catch(Oe){Vv(s,l,Oe)}}function hC(s,l,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(b){mC(s,l,b)},function(b){return Vv(s,l,b)}):mC(s,l,m)}function mC(s,l,m){l.status="fulfilled",l.value=m,gC(l),s.state=m,l=s.pending,l!==null&&(m=l.next,m===l?s.pending=null:(m=m.next,l.next=m,dC(s,m)))}function Vv(s,l,m){var b=s.pending;if(s.pending=null,b!==null){b=b.next;do l.status="rejected",l.reason=m,gC(l),l=l.next;while(l!==b)}s.action=null}function gC(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function pC(s,l){return l}function yC(s,l){if(Dn){var m=xr.formState;if(m!==null){e:{var b=an;if(Dn){if(Or){t:{for(var T=Or,N=Hs;T.nodeType!==8;){if(!N){T=null;break t}if(T=Ws(T.nextSibling),T===null){T=null;break t}}N=T.data,T=N==="F!"||N==="F"?T:null}if(T){Or=Ws(T.nextSibling),b=T.data==="F!";break e}}mu(b)}b=!1}b&&(l=m[0])}}return m=Ya(),m.memoizedState=m.baseState=l,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pC,lastRenderedState:l},m.queue=b,m=jC.bind(null,an,b),b.dispatch=m,b=Uv(!1),N=Kv.bind(null,an,!1,b.queue),b=Ya(),T={state:l,dispatch:null,action:s,pending:null},b.queue=T,m=KL.bind(null,an,T,N,m),T.dispatch=m,b.memoizedState=s,[l,m,!1]}function vC(s){var l=mi();return xC(l,ur,s)}function xC(s,l,m){if(l=Bv(s,l,pC)[0],s=Km(wl)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var b=hh(l)}catch(V){throw V===Df?Lm:V}else b=l;l=mi();var T=l.queue,N=T.dispatch;return m!==l.memoizedState&&(an.flags|=2048,Bf(9,{destroy:void 0},YL.bind(null,T,m),null)),[b,N,s]}function YL(s,l){s.action=l}function bC(s){var l=mi(),m=ur;if(m!==null)return xC(l,m,s);mi(),l=l.memoizedState,m=mi();var b=m.queue.dispatch;return m.memoizedState=s,[l,b,!1]}function Bf(s,l,m,b){return s={tag:s,create:m,deps:b,inst:l,next:null},l=an.updateQueue,l===null&&(l=Gm(),an.updateQueue=l),m=l.lastEffect,m===null?l.lastEffect=s.next=s:(b=m.next,m.next=s,s.next=b,l.lastEffect=s),s}function wC(){return mi().memoizedState}function Ym(s,l,m,b){var T=Ya();an.flags|=s,T.memoizedState=Bf(1|l,{destroy:void 0},m,b===void 0?null:b)}function $m(s,l,m,b){var T=mi();b=b===void 0?null:b;var N=T.memoizedState.inst;ur!==null&&b!==null&&Pv(b,ur.memoizedState.deps)?T.memoizedState=Bf(l,N,m,b):(an.flags|=s,T.memoizedState=Bf(1|l,N,m,b))}function EC(s,l){Ym(8390656,8,s,l)}function zv(s,l){$m(2048,8,s,l)}function $L(s){an.flags|=4;var l=an.updateQueue;if(l===null)l=Gm(),an.updateQueue=l,l.events=[s];else{var m=l.events;m===null?l.events=[s]:m.push(s)}}function _C(s){var l=mi().memoizedState;return $L({ref:l,nextImpl:s}),function(){if((Kn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function AC(s,l){return $m(4,2,s,l)}function SC(s,l){return $m(4,4,s,l)}function CC(s,l){if(typeof l=="function"){s=s();var m=l(s);return function(){typeof m=="function"?m():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function TC(s,l,m){m=m!=null?m.concat([s]):null,$m(4,4,CC.bind(null,l,s),m)}function qv(){}function IC(s,l){var m=mi();l=l===void 0?null:l;var b=m.memoizedState;return l!==null&&Pv(l,b[1])?b[0]:(m.memoizedState=[s,l],s)}function OC(s,l){var m=mi();l=l===void 0?null:l;var b=m.memoizedState;if(l!==null&&Pv(l,b[1]))return b[0];if(b=s(),Cc){sn(!0);try{s()}finally{sn(!1)}}return m.memoizedState=[b,l],b}function Hv(s,l,m){return m===void 0||(bl&1073741824)!==0&&(Sn&261930)===0?s.memoizedState=l:(s.memoizedState=m,s=NT(),an.lanes|=s,_u|=s,m)}function NC(s,l,m,b){return E(m,l)?m:kf.current!==null?(s=Hv(s,m,b),E(s,l)||(Si=!0),s):(bl&42)===0||(bl&1073741824)!==0&&(Sn&261930)===0?(Si=!0,s.memoizedState=m):(s=NT(),an.lanes|=s,_u|=s,l)}function RC(s,l,m,b,T){var N=Ae.p;Ae.p=N!==0&&8>N?N:8;var V=ve.T,ee={};ve.T=ee,Kv(s,!1,l,m);try{var ge=T(),Oe=ve.S;if(Oe!==null&&Oe(ee,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ve=HL(ge,b);mh(s,l,Ve,Os(s))}else mh(s,l,b,Os(s))}catch(Ke){mh(s,l,{then:function(){},status:"rejected",reason:Ke},Os())}finally{Ae.p=N,V!==null&&ee.types!==null&&(V.types=ee.types),ve.T=V}}function XL(){}function Gv(s,l,m,b){if(s.tag!==5)throw Error(r(476));var T=PC(s).queue;RC(s,T,l,We,m===null?XL:function(){return DC(s),m(b)})}function PC(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:We,baseState:We,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:We},next:null};var m={};return l.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:m},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function DC(s){var l=PC(s);l.next===null&&(l=s.alternate.memoizedState),mh(s,l.next.queue,{},Os())}function Wv(){return ga(Rh)}function MC(){return mi().memoizedState}function kC(){return mi().memoizedState}function ZL(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var m=Os();s=yu(m);var b=vu(l,s,m);b!==null&&(ms(b,l,m),uh(b,l,m)),l={cache:wv()},s.payload=l;return}l=l.return}}function QL(s,l,m){var b=Os();m={lane:b,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Xm(s)?LC(l,m):(m=ka(s,l,m,b),m!==null&&(ms(m,s,b),BC(m,l,b)))}function jC(s,l,m){var b=Os();mh(s,l,m,b)}function mh(s,l,m,b){var T={lane:b,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Xm(s))LC(l,T);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var V=l.lastRenderedState,ee=N(V,m);if(T.hasEagerState=!0,T.eagerState=ee,E(ee,V))return lr(s,l,T,0),xr===null&&Yt(),!1}catch{}if(m=ka(s,l,T,b),m!==null)return ms(m,s,b),BC(m,l,b),!0}return!1}function Kv(s,l,m,b){if(b={lane:2,revertLane:Sx(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},Xm(s)){if(l)throw Error(r(479))}else l=ka(s,m,b,2),l!==null&&ms(l,s,2)}function Xm(s){var l=s.alternate;return s===an||l!==null&&l===an}function LC(s,l){jf=qm=!0;var m=s.pending;m===null?l.next=l:(l.next=m.next,m.next=l),s.pending=l}function BC(s,l,m){if((m&4194048)!==0){var b=l.lanes;b&=s.pendingLanes,m|=b,l.lanes=m,xn(s,m)}}var gh={readContext:ga,use:Wm,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useInsertionEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useSyncExternalStore:ri,useId:ri,useHostTransitionStatus:ri,useFormState:ri,useActionState:ri,useOptimistic:ri,useMemoCache:ri,useCacheRefresh:ri};gh.useEffectEvent=ri;var FC={readContext:ga,use:Wm,useCallback:function(s,l){return Ya().memoizedState=[s,l===void 0?null:l],s},useContext:ga,useEffect:EC,useImperativeHandle:function(s,l,m){m=m!=null?m.concat([s]):null,Ym(4194308,4,CC.bind(null,l,s),m)},useLayoutEffect:function(s,l){return Ym(4194308,4,s,l)},useInsertionEffect:function(s,l){Ym(4,2,s,l)},useMemo:function(s,l){var m=Ya();l=l===void 0?null:l;var b=s();if(Cc){sn(!0);try{s()}finally{sn(!1)}}return m.memoizedState=[b,l],b},useReducer:function(s,l,m){var b=Ya();if(m!==void 0){var T=m(l);if(Cc){sn(!0);try{m(l)}finally{sn(!1)}}}else T=l;return b.memoizedState=b.baseState=T,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:T},b.queue=s,s=s.dispatch=QL.bind(null,an,s),[b.memoizedState,s]},useRef:function(s){var l=Ya();return s={current:s},l.memoizedState=s},useState:function(s){s=Uv(s);var l=s.queue,m=jC.bind(null,an,l);return l.dispatch=m,[s.memoizedState,m]},useDebugValue:qv,useDeferredValue:function(s,l){var m=Ya();return Hv(m,s,l)},useTransition:function(){var s=Uv(!1);return s=RC.bind(null,an,s.queue,!0,!1),Ya().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,m){var b=an,T=Ya();if(Dn){if(m===void 0)throw Error(r(407));m=m()}else{if(m=l(),xr===null)throw Error(r(349));(Sn&127)!==0||sC(b,l,m)}T.memoizedState=m;var N={value:m,getSnapshot:l};return T.queue=N,EC(lC.bind(null,b,N,s),[s]),b.flags|=2048,Bf(9,{destroy:void 0},oC.bind(null,b,N,m,l),null),m},useId:function(){var s=Ya(),l=xr.identifierPrefix;if(Dn){var m=jo,b=ko;m=(b&~(1<<32-Xe(b)-1)).toString(32)+m,l="_"+l+"R_"+m,m=Hm++,0<m&&(l+="H"+m.toString(32)),l+="_"}else m=GL++,l="_"+l+"r_"+m.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:Wv,useFormState:yC,useActionState:yC,useOptimistic:function(s){var l=Ya();l.memoizedState=l.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=m,l=Kv.bind(null,an,!0,m),m.dispatch=l,[s,l]},useMemoCache:Lv,useCacheRefresh:function(){return Ya().memoizedState=ZL.bind(null,an)},useEffectEvent:function(s){var l=Ya(),m={impl:s};return l.memoizedState=m,function(){if((Kn&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},Yv={readContext:ga,use:Wm,useCallback:IC,useContext:ga,useEffect:zv,useImperativeHandle:TC,useInsertionEffect:AC,useLayoutEffect:SC,useMemo:OC,useReducer:Km,useRef:wC,useState:function(){return Km(wl)},useDebugValue:qv,useDeferredValue:function(s,l){var m=mi();return NC(m,ur.memoizedState,s,l)},useTransition:function(){var s=Km(wl)[0],l=mi().memoizedState;return[typeof s=="boolean"?s:hh(s),l]},useSyncExternalStore:aC,useId:MC,useHostTransitionStatus:Wv,useFormState:vC,useActionState:vC,useOptimistic:function(s,l){var m=mi();return fC(m,ur,s,l)},useMemoCache:Lv,useCacheRefresh:kC};Yv.useEffectEvent=_C;var UC={readContext:ga,use:Wm,useCallback:IC,useContext:ga,useEffect:zv,useImperativeHandle:TC,useInsertionEffect:AC,useLayoutEffect:SC,useMemo:OC,useReducer:Fv,useRef:wC,useState:function(){return Fv(wl)},useDebugValue:qv,useDeferredValue:function(s,l){var m=mi();return ur===null?Hv(m,s,l):NC(m,ur.memoizedState,s,l)},useTransition:function(){var s=Fv(wl)[0],l=mi().memoizedState;return[typeof s=="boolean"?s:hh(s),l]},useSyncExternalStore:aC,useId:MC,useHostTransitionStatus:Wv,useFormState:bC,useActionState:bC,useOptimistic:function(s,l){var m=mi();return ur!==null?fC(m,ur,s,l):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:Lv,useCacheRefresh:kC};UC.useEffectEvent=_C;function $v(s,l,m,b){l=s.memoizedState,m=m(b,l),m=m==null?l:A({},l,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var Xv={enqueueSetState:function(s,l,m){s=s._reactInternals;var b=Os(),T=yu(b);T.payload=l,m!=null&&(T.callback=m),l=vu(s,T,b),l!==null&&(ms(l,s,b),uh(l,s,b))},enqueueReplaceState:function(s,l,m){s=s._reactInternals;var b=Os(),T=yu(b);T.tag=1,T.payload=l,m!=null&&(T.callback=m),l=vu(s,T,b),l!==null&&(ms(l,s,b),uh(l,s,b))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var m=Os(),b=yu(m);b.tag=2,l!=null&&(b.callback=l),l=vu(s,b,m),l!==null&&(ms(l,s,m),uh(l,s,m))}};function VC(s,l,m,b,T,N,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(b,N,V):l.prototype&&l.prototype.isPureReactComponent?!f(m,b)||!f(T,N):!0}function zC(s,l,m,b){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(m,b),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(m,b),l.state!==s&&Xv.enqueueReplaceState(l,l.state,null)}function Tc(s,l){var m=l;if("ref"in l){m={};for(var b in l)b!=="ref"&&(m[b]=l[b])}if(s=s.defaultProps){m===l&&(m=A({},m));for(var T in s)m[T]===void 0&&(m[T]=s[T])}return m}function qC(s){mt(s)}function HC(s){console.error(s)}function GC(s){mt(s)}function Zm(s,l){try{var m=s.onUncaughtError;m(l.value,{componentStack:l.stack})}catch(b){setTimeout(function(){throw b})}}function WC(s,l,m){try{var b=s.onCaughtError;b(m.value,{componentStack:m.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Zv(s,l,m){return m=yu(m),m.tag=3,m.payload={element:null},m.callback=function(){Zm(s,l)},m}function KC(s){return s=yu(s),s.tag=3,s}function YC(s,l,m,b){var T=m.type.getDerivedStateFromError;if(typeof T=="function"){var N=b.value;s.payload=function(){return T(N)},s.callback=function(){WC(l,m,b)}}var V=m.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(s.callback=function(){WC(l,m,b),typeof T!="function"&&(Au===null?Au=new Set([this]):Au.add(this));var ee=b.stack;this.componentDidCatch(b.value,{componentStack:ee!==null?ee:""})})}function JL(s,l,m,b,T){if(m.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(l=m.alternate,l!==null&&Nf(l,m,T,!0),m=Ss.current,m!==null){switch(m.tag){case 31:case 13:return Gs===null?ug():m.alternate===null&&ii===0&&(ii=3),m.flags&=-257,m.flags|=65536,m.lanes=T,b===Bm?m.flags|=16384:(l=m.updateQueue,l===null?m.updateQueue=new Set([b]):l.add(b),Ex(s,b,T)),!1;case 22:return m.flags|=65536,b===Bm?m.flags|=16384:(l=m.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([b])},m.updateQueue=l):(m=l.retryQueue,m===null?l.retryQueue=new Set([b]):m.add(b)),Ex(s,b,T)),!1}throw Error(r(435,m.tag))}return Ex(s,b,T),ug(),!1}if(Dn)return l=Ss.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,b!==pv&&(s=Error(r(422),{cause:b}),ih(Vs(s,m)))):(b!==pv&&(l=Error(r(423),{cause:b}),ih(Vs(l,m))),s=s.current.alternate,s.flags|=65536,T&=-T,s.lanes|=T,b=Vs(b,m),T=Zv(s.stateNode,b,T),Tv(s,T),ii!==4&&(ii=2)),!1;var N=Error(r(520),{cause:b});if(N=Vs(N,m),_h===null?_h=[N]:_h.push(N),ii!==4&&(ii=2),l===null)return!0;b=Vs(b,m),m=l;do{switch(m.tag){case 3:return m.flags|=65536,s=T&-T,m.lanes|=s,s=Zv(m.stateNode,b,s),Tv(m,s),!1;case 1:if(l=m.type,N=m.stateNode,(m.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Au===null||!Au.has(N))))return m.flags|=65536,T&=-T,m.lanes|=T,T=KC(T),YC(T,s,m,b),Tv(m,T),!1}m=m.return}while(m!==null);return!1}var Qv=Error(r(461)),Si=!1;function pa(s,l,m,b){l.child=s===null?QS(l,null,m,b):Sc(l,s.child,m,b)}function $C(s,l,m,b,T){m=m.render;var N=l.ref;if("ref"in b){var V={};for(var ee in b)ee!=="ref"&&(V[ee]=b[ee])}else V=b;return wc(l),b=Dv(s,l,m,V,N,T),ee=Mv(),s!==null&&!Si?(kv(s,l,T),El(s,l,T)):(Dn&&ee&&mv(l),l.flags|=1,pa(s,l,b,T),l.child)}function XC(s,l,m,b,T){if(s===null){var N=m.type;return typeof N=="function"&&!fv(N)&&N.defaultProps===void 0&&m.compare===null?(l.tag=15,l.type=N,ZC(s,l,N,b,T)):(s=Pm(m.type,null,b,l,l.mode,T),s.ref=l.ref,s.return=l,l.child=s)}if(N=s.child,!sx(s,T)){var V=N.memoizedProps;if(m=m.compare,m=m!==null?m:f,m(V,b)&&s.ref===l.ref)return El(s,l,T)}return l.flags|=1,s=pl(N,b),s.ref=l.ref,s.return=l,l.child=s}function ZC(s,l,m,b,T){if(s!==null){var N=s.memoizedProps;if(f(N,b)&&s.ref===l.ref)if(Si=!1,l.pendingProps=b=N,sx(s,T))(s.flags&131072)!==0&&(Si=!0);else return l.lanes=s.lanes,El(s,l,T)}return Jv(s,l,m,b,T)}function QC(s,l,m,b){var T=b.children,N=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((l.flags&128)!==0){if(N=N!==null?N.baseLanes|m:m,s!==null){for(b=l.child=s.child,T=0;b!==null;)T=T|b.lanes|b.childLanes,b=b.sibling;b=T&~N}else b=0,l.child=null;return JC(s,l,N,m,b)}if((m&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&jm(l,N!==null?N.cachePool:null),N!==null?tC(l,N):Ov(),nC(l);else return b=l.lanes=536870912,JC(s,l,N!==null?N.baseLanes|m:m,m,b)}else N!==null?(jm(l,N.cachePool),tC(l,N),bu(),l.memoizedState=null):(s!==null&&jm(l,null),Ov(),bu());return pa(s,l,T,m),l.child}function ph(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function JC(s,l,m,b,T){var N=_v();return N=N===null?null:{parent:_i._currentValue,pool:N},l.memoizedState={baseLanes:m,cachePool:N},s!==null&&jm(l,null),Ov(),nC(l),s!==null&&Nf(s,l,b,!0),l.childLanes=T,null}function Qm(s,l){return l=eg({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function eT(s,l,m){return Sc(l,s.child,null,m),s=Qm(l,l.pendingProps),s.flags|=2,Cs(l),l.memoizedState=null,s}function eB(s,l,m){var b=l.pendingProps,T=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(Dn){if(b.mode==="hidden")return s=Qm(l,b),l.lanes=536870912,ph(null,s);if(Rv(l),(s=Or)?(s=dI(s,Hs),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:du!==null?{id:ko,overflow:jo}:null,retryLane:536870912,hydrationErrors:null},m=LS(s),m.return=l,l.child=m,ma=l,Or=null)):s=null,s===null)throw mu(l);return l.lanes=536870912,null}return Qm(l,b)}var N=s.memoizedState;if(N!==null){var V=N.dehydrated;if(Rv(l),T)if(l.flags&256)l.flags&=-257,l=eT(s,l,m);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(Si||Nf(s,l,m,!1),T=(m&s.childLanes)!==0,Si||T){if(b=xr,b!==null&&(V=or(b,m),V!==0&&V!==N.retryLane))throw N.retryLane=V,Qn(s,V),ms(b,s,V),Qv;ug(),l=eT(s,l,m)}else s=N.treeContext,Or=Ws(V.nextSibling),ma=l,Dn=!0,hu=null,Hs=!1,s!==null&&US(l,s),l=Qm(l,b),l.flags|=4096;return l}return s=pl(s.child,{mode:b.mode,children:b.children}),s.ref=l.ref,l.child=s,s.return=l,s}function Jm(s,l){var m=l.ref;if(m===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(l.flags|=4194816)}}function Jv(s,l,m,b,T){return wc(l),m=Dv(s,l,m,b,void 0,T),b=Mv(),s!==null&&!Si?(kv(s,l,T),El(s,l,T)):(Dn&&b&&mv(l),l.flags|=1,pa(s,l,m,T),l.child)}function tT(s,l,m,b,T,N){return wc(l),l.updateQueue=null,m=iC(l,b,m,T),rC(s),b=Mv(),s!==null&&!Si?(kv(s,l,N),El(s,l,N)):(Dn&&b&&mv(l),l.flags|=1,pa(s,l,m,N),l.child)}function nT(s,l,m,b,T){if(wc(l),l.stateNode===null){var N=Cf,V=m.contextType;typeof V=="object"&&V!==null&&(N=ga(V)),N=new m(b,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Xv,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=b,N.state=l.memoizedState,N.refs={},Sv(l),V=m.contextType,N.context=typeof V=="object"&&V!==null?ga(V):Cf,N.state=l.memoizedState,V=m.getDerivedStateFromProps,typeof V=="function"&&($v(l,m,V,b),N.state=l.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(V=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),V!==N.state&&Xv.enqueueReplaceState(N,N.state,null),fh(l,b,N,T),ch(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),b=!0}else if(s===null){N=l.stateNode;var ee=l.memoizedProps,ge=Tc(m,ee);N.props=ge;var Oe=N.context,Ve=m.contextType;V=Cf,typeof Ve=="object"&&Ve!==null&&(V=ga(Ve));var Ke=m.getDerivedStateFromProps;Ve=typeof Ke=="function"||typeof N.getSnapshotBeforeUpdate=="function",ee=l.pendingProps!==ee,Ve||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(ee||Oe!==V)&&zC(l,N,b,V),pu=!1;var De=l.memoizedState;N.state=De,fh(l,b,N,T),ch(),Oe=l.memoizedState,ee||De!==Oe||pu?(typeof Ke=="function"&&($v(l,m,Ke,b),Oe=l.memoizedState),(ge=pu||VC(l,m,ge,b,De,Oe,V))?(Ve||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=b,l.memoizedState=Oe),N.props=b,N.state=Oe,N.context=V,b=ge):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),b=!1)}else{N=l.stateNode,Cv(s,l),V=l.memoizedProps,Ve=Tc(m,V),N.props=Ve,Ke=l.pendingProps,De=N.context,Oe=m.contextType,ge=Cf,typeof Oe=="object"&&Oe!==null&&(ge=ga(Oe)),ee=m.getDerivedStateFromProps,(Oe=typeof ee=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==Ke||De!==ge)&&zC(l,N,b,ge),pu=!1,De=l.memoizedState,N.state=De,fh(l,b,N,T),ch();var je=l.memoizedState;V!==Ke||De!==je||pu||s!==null&&s.dependencies!==null&&Mm(s.dependencies)?(typeof ee=="function"&&($v(l,m,ee,b),je=l.memoizedState),(Ve=pu||VC(l,m,Ve,b,De,je,ge)||s!==null&&s.dependencies!==null&&Mm(s.dependencies))?(Oe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(b,je,ge),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(b,je,ge)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===s.memoizedProps&&De===s.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&De===s.memoizedState||(l.flags|=1024),l.memoizedProps=b,l.memoizedState=je),N.props=b,N.state=je,N.context=ge,b=Ve):(typeof N.componentDidUpdate!="function"||V===s.memoizedProps&&De===s.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&De===s.memoizedState||(l.flags|=1024),b=!1)}return N=b,Jm(s,l),b=(l.flags&128)!==0,N||b?(N=l.stateNode,m=b&&typeof m.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,s!==null&&b?(l.child=Sc(l,s.child,null,T),l.child=Sc(l,null,m,T)):pa(s,l,m,T),l.memoizedState=N.state,s=l.child):s=El(s,l,T),s}function rT(s,l,m,b){return xc(),l.flags|=256,pa(s,l,m,b),l.child}var ex={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tx(s){return{baseLanes:s,cachePool:WS()}}function nx(s,l,m){return s=s!==null?s.childLanes&~m:0,l&&(s|=Is),s}function iT(s,l,m){var b=l.pendingProps,T=!1,N=(l.flags&128)!==0,V;if((V=N)||(V=s!==null&&s.memoizedState===null?!1:(hi.current&2)!==0),V&&(T=!0,l.flags&=-129),V=(l.flags&32)!==0,l.flags&=-33,s===null){if(Dn){if(T?xu(l):bu(),(s=Or)?(s=dI(s,Hs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:du!==null?{id:ko,overflow:jo}:null,retryLane:536870912,hydrationErrors:null},m=LS(s),m.return=l,l.child=m,ma=l,Or=null)):s=null,s===null)throw mu(l);return Bx(s)?l.lanes=32:l.lanes=536870912,null}var ee=b.children;return b=b.fallback,T?(bu(),T=l.mode,ee=eg({mode:"hidden",children:ee},T),b=vc(b,T,m,null),ee.return=l,b.return=l,ee.sibling=b,l.child=ee,b=l.child,b.memoizedState=tx(m),b.childLanes=nx(s,V,m),l.memoizedState=ex,ph(null,b)):(xu(l),rx(l,ee))}var ge=s.memoizedState;if(ge!==null&&(ee=ge.dehydrated,ee!==null)){if(N)l.flags&256?(xu(l),l.flags&=-257,l=ix(s,l,m)):l.memoizedState!==null?(bu(),l.child=s.child,l.flags|=128,l=null):(bu(),ee=b.fallback,T=l.mode,b=eg({mode:"visible",children:b.children},T),ee=vc(ee,T,m,null),ee.flags|=2,b.return=l,ee.return=l,b.sibling=ee,l.child=b,Sc(l,s.child,null,m),b=l.child,b.memoizedState=tx(m),b.childLanes=nx(s,V,m),l.memoizedState=ex,l=ph(null,b));else if(xu(l),Bx(ee)){if(V=ee.nextSibling&&ee.nextSibling.dataset,V)var Oe=V.dgst;V=Oe,b=Error(r(419)),b.stack="",b.digest=V,ih({value:b,source:null,stack:null}),l=ix(s,l,m)}else if(Si||Nf(s,l,m,!1),V=(m&s.childLanes)!==0,Si||V){if(V=xr,V!==null&&(b=or(V,m),b!==0&&b!==ge.retryLane))throw ge.retryLane=b,Qn(s,b),ms(V,s,b),Qv;Lx(ee)||ug(),l=ix(s,l,m)}else Lx(ee)?(l.flags|=192,l.child=s.child,l=null):(s=ge.treeContext,Or=Ws(ee.nextSibling),ma=l,Dn=!0,hu=null,Hs=!1,s!==null&&US(l,s),l=rx(l,b.children),l.flags|=4096);return l}return T?(bu(),ee=b.fallback,T=l.mode,ge=s.child,Oe=ge.sibling,b=pl(ge,{mode:"hidden",children:b.children}),b.subtreeFlags=ge.subtreeFlags&65011712,Oe!==null?ee=pl(Oe,ee):(ee=vc(ee,T,m,null),ee.flags|=2),ee.return=l,b.return=l,b.sibling=ee,l.child=b,ph(null,b),b=l.child,ee=s.child.memoizedState,ee===null?ee=tx(m):(T=ee.cachePool,T!==null?(ge=_i._currentValue,T=T.parent!==ge?{parent:ge,pool:ge}:T):T=WS(),ee={baseLanes:ee.baseLanes|m,cachePool:T}),b.memoizedState=ee,b.childLanes=nx(s,V,m),l.memoizedState=ex,ph(s.child,b)):(xu(l),m=s.child,s=m.sibling,m=pl(m,{mode:"visible",children:b.children}),m.return=l,m.sibling=null,s!==null&&(V=l.deletions,V===null?(l.deletions=[s],l.flags|=16):V.push(s)),l.child=m,l.memoizedState=null,m)}function rx(s,l){return l=eg({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function eg(s,l){return s=As(22,s,null,l),s.lanes=0,s}function ix(s,l,m){return Sc(l,s.child,null,m),s=rx(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function aT(s,l,m){s.lanes|=l;var b=s.alternate;b!==null&&(b.lanes|=l),xv(s.return,l,m)}function ax(s,l,m,b,T,N){var V=s.memoizedState;V===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:T,treeForkCount:N}:(V.isBackwards=l,V.rendering=null,V.renderingStartTime=0,V.last=b,V.tail=m,V.tailMode=T,V.treeForkCount=N)}function sT(s,l,m){var b=l.pendingProps,T=b.revealOrder,N=b.tail;b=b.children;var V=hi.current,ee=(V&2)!==0;if(ee?(V=V&1|2,l.flags|=128):V&=1,Ge(hi,V),pa(s,l,b,m),b=Dn?rh:0,!ee&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&aT(s,m,l);else if(s.tag===19)aT(s,m,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(T){case"forwards":for(m=l.child,T=null;m!==null;)s=m.alternate,s!==null&&zm(s)===null&&(T=m),m=m.sibling;m=T,m===null?(T=l.child,l.child=null):(T=m.sibling,m.sibling=null),ax(l,!1,T,m,N,b);break;case"backwards":case"unstable_legacy-backwards":for(m=null,T=l.child,l.child=null;T!==null;){if(s=T.alternate,s!==null&&zm(s)===null){l.child=T;break}s=T.sibling,T.sibling=m,m=T,T=s}ax(l,!0,m,null,N,b);break;case"together":ax(l,!1,null,null,void 0,b);break;default:l.memoizedState=null}return l.child}function El(s,l,m){if(s!==null&&(l.dependencies=s.dependencies),_u|=l.lanes,(m&l.childLanes)===0)if(s!==null){if(Nf(s,l,m,!1),(m&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,m=pl(s,s.pendingProps),l.child=m,m.return=l;s.sibling!==null;)s=s.sibling,m=m.sibling=pl(s,s.pendingProps),m.return=l;m.sibling=null}return l.child}function sx(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Mm(s)))}function tB(s,l,m){switch(l.tag){case 3:Tt(l,l.stateNode.containerInfo),gu(l,_i,s.memoizedState.cache),xc();break;case 27:case 5:Ye(l);break;case 4:Tt(l,l.stateNode.containerInfo);break;case 10:gu(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Rv(l),null;break;case 13:var b=l.memoizedState;if(b!==null)return b.dehydrated!==null?(xu(l),l.flags|=128,null):(m&l.child.childLanes)!==0?iT(s,l,m):(xu(l),s=El(s,l,m),s!==null?s.sibling:null);xu(l);break;case 19:var T=(s.flags&128)!==0;if(b=(m&l.childLanes)!==0,b||(Nf(s,l,m,!1),b=(m&l.childLanes)!==0),T){if(b)return sT(s,l,m);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Ge(hi,hi.current),b)break;return null;case 22:return l.lanes=0,QC(s,l,m,l.pendingProps);case 24:gu(l,_i,s.memoizedState.cache)}return El(s,l,m)}function oT(s,l,m){if(s!==null)if(s.memoizedProps!==l.pendingProps)Si=!0;else{if(!sx(s,m)&&(l.flags&128)===0)return Si=!1,tB(s,l,m);Si=(s.flags&131072)!==0}else Si=!1,Dn&&(l.flags&1048576)!==0&&FS(l,rh,l.index);switch(l.lanes=0,l.tag){case 16:e:{var b=l.pendingProps;if(s=_c(l.elementType),l.type=s,typeof s=="function")fv(s)?(b=Tc(s,b),l.tag=1,l=nT(null,l,s,b,m)):(l.tag=0,l=Jv(null,l,s,b,m));else{if(s!=null){var T=s.$$typeof;if(T===ne){l.tag=11,l=$C(null,l,s,b,m);break e}else if(T===U){l.tag=14,l=XC(null,l,s,b,m);break e}}throw l=Be(s)||s,Error(r(306,l,""))}}return l;case 0:return Jv(s,l,l.type,l.pendingProps,m);case 1:return b=l.type,T=Tc(b,l.pendingProps),nT(s,l,b,T,m);case 3:e:{if(Tt(l,l.stateNode.containerInfo),s===null)throw Error(r(387));b=l.pendingProps;var N=l.memoizedState;T=N.element,Cv(s,l),fh(l,b,null,m);var V=l.memoizedState;if(b=V.cache,gu(l,_i,b),b!==N.cache&&bv(l,[_i],m,!0),ch(),b=V.element,N.isDehydrated)if(N={element:b,isDehydrated:!1,cache:V.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=rT(s,l,b,m);break e}else if(b!==T){T=Vs(Error(r(424)),l),ih(T),l=rT(s,l,b,m);break e}else for(s=l.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Or=Ws(s.firstChild),ma=l,Dn=!0,hu=null,Hs=!0,m=QS(l,null,b,m),l.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(xc(),b===T){l=El(s,l,m);break e}pa(s,l,b,m)}l=l.child}return l;case 26:return Jm(s,l),s===null?(m=vI(l.type,null,l.pendingProps,null))?l.memoizedState=m:Dn||(m=l.type,s=l.pendingProps,b=pg(Ne.current).createElement(m),b[jn]=l,b[dn]=s,ya(b,m,s),gr(b),l.stateNode=b):l.memoizedState=vI(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Ye(l),s===null&&Dn&&(b=l.stateNode=gI(l.type,l.pendingProps,Ne.current),ma=l,Hs=!0,T=Or,Iu(l.type)?(Fx=T,Or=Ws(b.firstChild)):Or=T),pa(s,l,l.pendingProps.children,m),Jm(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Dn&&((T=b=Or)&&(b=RB(b,l.type,l.pendingProps,Hs),b!==null?(l.stateNode=b,ma=l,Or=Ws(b.firstChild),Hs=!1,T=!0):T=!1),T||mu(l)),Ye(l),T=l.type,N=l.pendingProps,V=s!==null?s.memoizedProps:null,b=N.children,Mx(T,N)?b=null:V!==null&&Mx(T,V)&&(l.flags|=32),l.memoizedState!==null&&(T=Dv(s,l,WL,null,null,m),Rh._currentValue=T),Jm(s,l),pa(s,l,b,m),l.child;case 6:return s===null&&Dn&&((s=m=Or)&&(m=PB(m,l.pendingProps,Hs),m!==null?(l.stateNode=m,ma=l,Or=null,s=!0):s=!1),s||mu(l)),null;case 13:return iT(s,l,m);case 4:return Tt(l,l.stateNode.containerInfo),b=l.pendingProps,s===null?l.child=Sc(l,null,b,m):pa(s,l,b,m),l.child;case 11:return $C(s,l,l.type,l.pendingProps,m);case 7:return pa(s,l,l.pendingProps,m),l.child;case 8:return pa(s,l,l.pendingProps.children,m),l.child;case 12:return pa(s,l,l.pendingProps.children,m),l.child;case 10:return b=l.pendingProps,gu(l,l.type,b.value),pa(s,l,b.children,m),l.child;case 9:return T=l.type._context,b=l.pendingProps.children,wc(l),T=ga(T),b=b(T),l.flags|=1,pa(s,l,b,m),l.child;case 14:return XC(s,l,l.type,l.pendingProps,m);case 15:return ZC(s,l,l.type,l.pendingProps,m);case 19:return sT(s,l,m);case 31:return eB(s,l,m);case 22:return QC(s,l,m,l.pendingProps);case 24:return wc(l),b=ga(_i),s===null?(T=_v(),T===null&&(T=xr,N=wv(),T.pooledCache=N,N.refCount++,N!==null&&(T.pooledCacheLanes|=m),T=N),l.memoizedState={parent:b,cache:T},Sv(l),gu(l,_i,T)):((s.lanes&m)!==0&&(Cv(s,l),fh(l,null,null,m),ch()),T=s.memoizedState,N=l.memoizedState,T.parent!==b?(T={parent:b,cache:b},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),gu(l,_i,b)):(b=N.cache,gu(l,_i,b),b!==T.cache&&bv(l,[_i],m,!0))),pa(s,l,l.pendingProps.children,m),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function _l(s){s.flags|=4}function ox(s,l,m,b,T){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(T&335544128)===T)if(s.stateNode.complete)s.flags|=8192;else if(MT())s.flags|=8192;else throw Ac=Bm,Av}else s.flags&=-16777217}function lT(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!_I(l))if(MT())s.flags|=8192;else throw Ac=Bm,Av}function tg(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Kr():536870912,s.lanes|=l,zf|=l)}function yh(s,l){if(!Dn)switch(s.tailMode){case"hidden":l=s.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:b.sibling=null}}function Nr(s){var l=s.alternate!==null&&s.alternate.child===s.child,m=0,b=0;if(l)for(var T=s.child;T!==null;)m|=T.lanes|T.childLanes,b|=T.subtreeFlags&65011712,b|=T.flags&65011712,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)m|=T.lanes|T.childLanes,b|=T.subtreeFlags,b|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=b,s.childLanes=m,l}function nB(s,l,m){var b=l.pendingProps;switch(gv(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(l),null;case 1:return Nr(l),null;case 3:return m=l.stateNode,b=null,s!==null&&(b=s.memoizedState.cache),l.memoizedState.cache!==b&&(l.flags|=2048),xl(_i),ke(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Of(l)?_l(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,yv())),Nr(l),null;case 26:var T=l.type,N=l.memoizedState;return s===null?(_l(l),N!==null?(Nr(l),lT(l,N)):(Nr(l),ox(l,T,null,b,m))):N?N!==s.memoizedState?(_l(l),Nr(l),lT(l,N)):(Nr(l),l.flags&=-16777217):(s=s.memoizedProps,s!==b&&_l(l),Nr(l),ox(l,T,s,b,m)),null;case 27:if(It(l),m=Ne.current,T=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==b&&_l(l);else{if(!b){if(l.stateNode===null)throw Error(r(166));return Nr(l),null}s=Fe.current,Of(l)?VS(l):(s=gI(T,b,m),l.stateNode=s,_l(l))}return Nr(l),null;case 5:if(It(l),T=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==b&&_l(l);else{if(!b){if(l.stateNode===null)throw Error(r(166));return Nr(l),null}if(N=Fe.current,Of(l))VS(l);else{var V=pg(Ne.current);switch(N){case 1:N=V.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:N=V.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":N=V.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":N=V.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":N=V.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof b.is=="string"?V.createElement("select",{is:b.is}):V.createElement("select"),b.multiple?N.multiple=!0:b.size&&(N.size=b.size);break;default:N=typeof b.is=="string"?V.createElement(T,{is:b.is}):V.createElement(T)}}N[jn]=l,N[dn]=b;e:for(V=l.child;V!==null;){if(V.tag===5||V.tag===6)N.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===l)break e;for(;V.sibling===null;){if(V.return===null||V.return===l)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}l.stateNode=N;e:switch(ya(N,T,b),T){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&_l(l)}}return Nr(l),ox(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,m),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==b&&_l(l);else{if(typeof b!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ne.current,Of(l)){if(s=l.stateNode,m=l.memoizedProps,b=null,T=ma,T!==null)switch(T.tag){case 27:case 5:b=T.memoizedProps}s[jn]=l,s=!!(s.nodeValue===m||b!==null&&b.suppressHydrationWarning===!0||iI(s.nodeValue,m)),s||mu(l,!0)}else s=pg(s).createTextNode(b),s[jn]=l,l.stateNode=s}return Nr(l),null;case 31:if(m=l.memoizedState,s===null||s.memoizedState!==null){if(b=Of(l),m!==null){if(s===null){if(!b)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[jn]=l}else xc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Nr(l),s=!1}else m=yv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return l.flags&256?(Cs(l),l):(Cs(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Nr(l),null;case 13:if(b=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(T=Of(l),b!==null&&b.dehydrated!==null){if(s===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[jn]=l}else xc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Nr(l),T=!1}else T=yv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(Cs(l),l):(Cs(l),null)}return Cs(l),(l.flags&128)!==0?(l.lanes=m,l):(m=b!==null,s=s!==null&&s.memoizedState!==null,m&&(b=l.child,T=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(T=b.alternate.memoizedState.cachePool.pool),N=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(N=b.memoizedState.cachePool.pool),N!==T&&(b.flags|=2048)),m!==s&&m&&(l.child.flags|=8192),tg(l,l.updateQueue),Nr(l),null);case 4:return ke(),s===null&&Ox(l.stateNode.containerInfo),Nr(l),null;case 10:return xl(l.type),Nr(l),null;case 19:if(_e(hi),b=l.memoizedState,b===null)return Nr(l),null;if(T=(l.flags&128)!==0,N=b.rendering,N===null)if(T)yh(b,!1);else{if(ii!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(N=zm(s),N!==null){for(l.flags|=128,yh(b,!1),s=N.updateQueue,l.updateQueue=s,tg(l,s),l.subtreeFlags=0,s=m,m=l.child;m!==null;)jS(m,s),m=m.sibling;return Ge(hi,hi.current&1|2),Dn&&yl(l,b.treeForkCount),l.child}s=s.sibling}b.tail!==null&&Zt()>sg&&(l.flags|=128,T=!0,yh(b,!1),l.lanes=4194304)}else{if(!T)if(s=zm(N),s!==null){if(l.flags|=128,T=!0,s=s.updateQueue,l.updateQueue=s,tg(l,s),yh(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!Dn)return Nr(l),null}else 2*Zt()-b.renderingStartTime>sg&&m!==536870912&&(l.flags|=128,T=!0,yh(b,!1),l.lanes=4194304);b.isBackwards?(N.sibling=l.child,l.child=N):(s=b.last,s!==null?s.sibling=N:l.child=N,b.last=N)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=Zt(),s.sibling=null,m=hi.current,Ge(hi,T?m&1|2:m&1),Dn&&yl(l,b.treeForkCount),s):(Nr(l),null);case 22:case 23:return Cs(l),Nv(),b=l.memoizedState!==null,s!==null?s.memoizedState!==null!==b&&(l.flags|=8192):b&&(l.flags|=8192),b?(m&536870912)!==0&&(l.flags&128)===0&&(Nr(l),l.subtreeFlags&6&&(l.flags|=8192)):Nr(l),m=l.updateQueue,m!==null&&tg(l,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),b=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(b=l.memoizedState.cachePool.pool),b!==m&&(l.flags|=2048),s!==null&&_e(Ec),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),xl(_i),Nr(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function rB(s,l){switch(gv(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return xl(_i),ke(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return It(l),null;case 31:if(l.memoizedState!==null){if(Cs(l),l.alternate===null)throw Error(r(340));xc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(Cs(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));xc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return _e(hi),null;case 4:return ke(),null;case 10:return xl(l.type),null;case 22:case 23:return Cs(l),Nv(),s!==null&&_e(Ec),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return xl(_i),null;case 25:return null;default:return null}}function uT(s,l){switch(gv(l),l.tag){case 3:xl(_i),ke();break;case 26:case 27:case 5:It(l);break;case 4:ke();break;case 31:l.memoizedState!==null&&Cs(l);break;case 13:Cs(l);break;case 19:_e(hi);break;case 10:xl(l.type);break;case 22:case 23:Cs(l),Nv(),s!==null&&_e(Ec);break;case 24:xl(_i)}}function vh(s,l){try{var m=l.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var T=b.next;m=T;do{if((m.tag&s)===s){b=void 0;var N=m.create,V=m.inst;b=N(),V.destroy=b}m=m.next}while(m!==T)}}catch(ee){ir(l,l.return,ee)}}function wu(s,l,m){try{var b=l.updateQueue,T=b!==null?b.lastEffect:null;if(T!==null){var N=T.next;b=N;do{if((b.tag&s)===s){var V=b.inst,ee=V.destroy;if(ee!==void 0){V.destroy=void 0,T=l;var ge=m,Oe=ee;try{Oe()}catch(Ve){ir(T,ge,Ve)}}}b=b.next}while(b!==N)}}catch(Ve){ir(l,l.return,Ve)}}function cT(s){var l=s.updateQueue;if(l!==null){var m=s.stateNode;try{eC(l,m)}catch(b){ir(s,s.return,b)}}}function fT(s,l,m){m.props=Tc(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(b){ir(s,l,b)}}function xh(s,l){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var b=s.stateNode;break;case 30:b=s.stateNode;break;default:b=s.stateNode}typeof m=="function"?s.refCleanup=m(b):m.current=b}}catch(T){ir(s,l,T)}}function Lo(s,l){var m=s.ref,b=s.refCleanup;if(m!==null)if(typeof b=="function")try{b()}catch(T){ir(s,l,T)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(T){ir(s,l,T)}else m.current=null}function dT(s){var l=s.type,m=s.memoizedProps,b=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":m.autoFocus&&b.focus();break e;case"img":m.src?b.src=m.src:m.srcSet&&(b.srcset=m.srcSet)}}catch(T){ir(s,s.return,T)}}function lx(s,l,m){try{var b=s.stateNode;SB(b,s.type,m,l),b[dn]=l}catch(T){ir(s,s.return,T)}}function hT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Iu(s.type)||s.tag===4}function ux(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||hT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Iu(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cx(s,l,m){var b=s.tag;if(b===5||b===6)s=s.stateNode,l?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,l):(l=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,l.appendChild(s),m=m._reactRootContainer,m!=null||l.onclick!==null||(l.onclick=di));else if(b!==4&&(b===27&&Iu(s.type)&&(m=s.stateNode,l=null),s=s.child,s!==null))for(cx(s,l,m),s=s.sibling;s!==null;)cx(s,l,m),s=s.sibling}function ng(s,l,m){var b=s.tag;if(b===5||b===6)s=s.stateNode,l?m.insertBefore(s,l):m.appendChild(s);else if(b!==4&&(b===27&&Iu(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(ng(s,l,m),s=s.sibling;s!==null;)ng(s,l,m),s=s.sibling}function mT(s){var l=s.stateNode,m=s.memoizedProps;try{for(var b=s.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);ya(l,b,m),l[jn]=s,l[dn]=m}catch(N){ir(s,s.return,N)}}var Al=!1,Ci=!1,fx=!1,gT=typeof WeakSet=="function"?WeakSet:Set,Xi=null;function iB(s,l){if(s=s.containerInfo,Px=_g,s=O(s),M(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var T=b.anchorOffset,N=b.focusNode;b=b.focusOffset;try{m.nodeType,N.nodeType}catch{m=null;break e}var V=0,ee=-1,ge=-1,Oe=0,Ve=0,Ke=s,De=null;t:for(;;){for(var je;Ke!==m||T!==0&&Ke.nodeType!==3||(ee=V+T),Ke!==N||b!==0&&Ke.nodeType!==3||(ge=V+b),Ke.nodeType===3&&(V+=Ke.nodeValue.length),(je=Ke.firstChild)!==null;)De=Ke,Ke=je;for(;;){if(Ke===s)break t;if(De===m&&++Oe===T&&(ee=V),De===N&&++Ve===b&&(ge=V),(je=Ke.nextSibling)!==null)break;Ke=De,De=Ke.parentNode}Ke=je}m=ee===-1||ge===-1?null:{start:ee,end:ge}}else m=null}m=m||{start:0,end:0}}else m=null;for(Dx={focusedElem:s,selectionRange:m},_g=!1,Xi=l;Xi!==null;)if(l=Xi,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Xi=s;else for(;Xi!==null;){switch(l=Xi,N=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)T=s[m],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,m=l,T=N.memoizedProps,N=N.memoizedState,b=m.stateNode;try{var wt=Tc(m.type,T);s=b.getSnapshotBeforeUpdate(wt,N),b.__reactInternalSnapshotBeforeUpdate=s}catch(Bt){ir(m,m.return,Bt)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,m=s.nodeType,m===9)jx(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":jx(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Xi=s;break}Xi=l.return}}function pT(s,l,m){var b=m.flags;switch(m.tag){case 0:case 11:case 15:Cl(s,m),b&4&&vh(5,m);break;case 1:if(Cl(s,m),b&4)if(s=m.stateNode,l===null)try{s.componentDidMount()}catch(V){ir(m,m.return,V)}else{var T=Tc(m.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(T,l,s.__reactInternalSnapshotBeforeUpdate)}catch(V){ir(m,m.return,V)}}b&64&&cT(m),b&512&&xh(m,m.return);break;case 3:if(Cl(s,m),b&64&&(s=m.updateQueue,s!==null)){if(l=null,m.child!==null)switch(m.child.tag){case 27:case 5:l=m.child.stateNode;break;case 1:l=m.child.stateNode}try{eC(s,l)}catch(V){ir(m,m.return,V)}}break;case 27:l===null&&b&4&&mT(m);case 26:case 5:Cl(s,m),l===null&&b&4&&dT(m),b&512&&xh(m,m.return);break;case 12:Cl(s,m);break;case 31:Cl(s,m),b&4&&xT(s,m);break;case 13:Cl(s,m),b&4&&bT(s,m),b&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=hB.bind(null,m),DB(s,m))));break;case 22:if(b=m.memoizedState!==null||Al,!b){l=l!==null&&l.memoizedState!==null||Ci,T=Al;var N=Ci;Al=b,(Ci=l)&&!N?Tl(s,m,(m.subtreeFlags&8772)!==0):Cl(s,m),Al=T,Ci=N}break;case 30:break;default:Cl(s,m)}}function yT(s){var l=s.alternate;l!==null&&(s.alternate=null,yT(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&bi(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var zr=null,cs=!1;function Sl(s,l,m){for(m=m.child;m!==null;)vT(s,l,m),m=m.sibling}function vT(s,l,m){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(wn,m)}catch{}switch(m.tag){case 26:Ci||Lo(m,l),Sl(s,l,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Ci||Lo(m,l);var b=zr,T=cs;Iu(m.type)&&(zr=m.stateNode,cs=!1),Sl(s,l,m),Ih(m.stateNode),zr=b,cs=T;break;case 5:Ci||Lo(m,l);case 6:if(b=zr,T=cs,zr=null,Sl(s,l,m),zr=b,cs=T,zr!==null)if(cs)try{(zr.nodeType===9?zr.body:zr.nodeName==="HTML"?zr.ownerDocument.body:zr).removeChild(m.stateNode)}catch(N){ir(m,l,N)}else try{zr.removeChild(m.stateNode)}catch(N){ir(m,l,N)}break;case 18:zr!==null&&(cs?(s=zr,cI(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),Xf(s)):cI(zr,m.stateNode));break;case 4:b=zr,T=cs,zr=m.stateNode.containerInfo,cs=!0,Sl(s,l,m),zr=b,cs=T;break;case 0:case 11:case 14:case 15:wu(2,m,l),Ci||wu(4,m,l),Sl(s,l,m);break;case 1:Ci||(Lo(m,l),b=m.stateNode,typeof b.componentWillUnmount=="function"&&fT(m,l,b)),Sl(s,l,m);break;case 21:Sl(s,l,m);break;case 22:Ci=(b=Ci)||m.memoizedState!==null,Sl(s,l,m),Ci=b;break;default:Sl(s,l,m)}}function xT(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Xf(s)}catch(m){ir(l,l.return,m)}}}function bT(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Xf(s)}catch(m){ir(l,l.return,m)}}function aB(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new gT),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new gT),l;default:throw Error(r(435,s.tag))}}function rg(s,l){var m=aB(s);l.forEach(function(b){if(!m.has(b)){m.add(b);var T=mB.bind(null,s,b);b.then(T,T)}})}function fs(s,l){var m=l.deletions;if(m!==null)for(var b=0;b<m.length;b++){var T=m[b],N=s,V=l,ee=V;e:for(;ee!==null;){switch(ee.tag){case 27:if(Iu(ee.type)){zr=ee.stateNode,cs=!1;break e}break;case 5:zr=ee.stateNode,cs=!1;break e;case 3:case 4:zr=ee.stateNode.containerInfo,cs=!0;break e}ee=ee.return}if(zr===null)throw Error(r(160));vT(N,V,T),zr=null,cs=!1,N=T.alternate,N!==null&&(N.return=null),T.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)wT(l,s),l=l.sibling}var mo=null;function wT(s,l){var m=s.alternate,b=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:fs(l,s),ds(s),b&4&&(wu(3,s,s.return),vh(3,s),wu(5,s,s.return));break;case 1:fs(l,s),ds(s),b&512&&(Ci||m===null||Lo(m,m.return)),b&64&&Al&&(s=s.updateQueue,s!==null&&(b=s.callbacks,b!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?b:m.concat(b))));break;case 26:var T=mo;if(fs(l,s),ds(s),b&512&&(Ci||m===null||Lo(m,m.return)),b&4){var N=m!==null?m.memoizedState:null;if(b=s.memoizedState,m===null)if(b===null)if(s.stateNode===null){e:{b=s.type,m=s.memoizedProps,T=T.ownerDocument||T;t:switch(b){case"title":N=T.getElementsByTagName("title")[0],(!N||N[xi]||N[jn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=T.createElement(b),T.head.insertBefore(N,T.querySelector("head > title"))),ya(N,b,m),N[jn]=s,gr(N),b=N;break e;case"link":var V=wI("link","href",T).get(b+(m.href||""));if(V){for(var ee=0;ee<V.length;ee++)if(N=V[ee],N.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&N.getAttribute("rel")===(m.rel==null?null:m.rel)&&N.getAttribute("title")===(m.title==null?null:m.title)&&N.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){V.splice(ee,1);break t}}N=T.createElement(b),ya(N,b,m),T.head.appendChild(N);break;case"meta":if(V=wI("meta","content",T).get(b+(m.content||""))){for(ee=0;ee<V.length;ee++)if(N=V[ee],N.getAttribute("content")===(m.content==null?null:""+m.content)&&N.getAttribute("name")===(m.name==null?null:m.name)&&N.getAttribute("property")===(m.property==null?null:m.property)&&N.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&N.getAttribute("charset")===(m.charSet==null?null:m.charSet)){V.splice(ee,1);break t}}N=T.createElement(b),ya(N,b,m),T.head.appendChild(N);break;default:throw Error(r(468,b))}N[jn]=s,gr(N),b=N}s.stateNode=b}else EI(T,s.type,s.stateNode);else s.stateNode=bI(T,b,s.memoizedProps);else N!==b?(N===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):N.count--,b===null?EI(T,s.type,s.stateNode):bI(T,b,s.memoizedProps)):b===null&&s.stateNode!==null&&lx(s,s.memoizedProps,m.memoizedProps)}break;case 27:fs(l,s),ds(s),b&512&&(Ci||m===null||Lo(m,m.return)),m!==null&&b&4&&lx(s,s.memoizedProps,m.memoizedProps);break;case 5:if(fs(l,s),ds(s),b&512&&(Ci||m===null||Lo(m,m.return)),s.flags&32){T=s.stateNode;try{Di(T,"")}catch(wt){ir(s,s.return,wt)}}b&4&&s.stateNode!=null&&(T=s.memoizedProps,lx(s,T,m!==null?m.memoizedProps:T)),b&1024&&(fx=!0);break;case 6:if(fs(l,s),ds(s),b&4){if(s.stateNode===null)throw Error(r(162));b=s.memoizedProps,m=s.stateNode;try{m.nodeValue=b}catch(wt){ir(s,s.return,wt)}}break;case 3:if(xg=null,T=mo,mo=yg(l.containerInfo),fs(l,s),mo=T,ds(s),b&4&&m!==null&&m.memoizedState.isDehydrated)try{Xf(l.containerInfo)}catch(wt){ir(s,s.return,wt)}fx&&(fx=!1,ET(s));break;case 4:b=mo,mo=yg(s.stateNode.containerInfo),fs(l,s),ds(s),mo=b;break;case 12:fs(l,s),ds(s);break;case 31:fs(l,s),ds(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,rg(s,b)));break;case 13:fs(l,s),ds(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(ag=Zt()),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,rg(s,b)));break;case 22:T=s.memoizedState!==null;var ge=m!==null&&m.memoizedState!==null,Oe=Al,Ve=Ci;if(Al=Oe||T,Ci=Ve||ge,fs(l,s),Ci=Ve,Al=Oe,ds(s),b&8192)e:for(l=s.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(m===null||ge||Al||Ci||Ic(s)),m=null,l=s;;){if(l.tag===5||l.tag===26){if(m===null){ge=m=l;try{if(N=ge.stateNode,T)V=N.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{ee=ge.stateNode;var Ke=ge.memoizedProps.style,De=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;ee.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(wt){ir(ge,ge.return,wt)}}}else if(l.tag===6){if(m===null){ge=l;try{ge.stateNode.nodeValue=T?"":ge.memoizedProps}catch(wt){ir(ge,ge.return,wt)}}}else if(l.tag===18){if(m===null){ge=l;try{var je=ge.stateNode;T?fI(je,!0):fI(ge.stateNode,!1)}catch(wt){ir(ge,ge.return,wt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;m===l&&(m=null),l=l.return}m===l&&(m=null),l.sibling.return=l.return,l=l.sibling}b&4&&(b=s.updateQueue,b!==null&&(m=b.retryQueue,m!==null&&(b.retryQueue=null,rg(s,m))));break;case 19:fs(l,s),ds(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,rg(s,b)));break;case 30:break;case 21:break;default:fs(l,s),ds(s)}}function ds(s){var l=s.flags;if(l&2){try{for(var m,b=s.return;b!==null;){if(hT(b)){m=b;break}b=b.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var T=m.stateNode,N=ux(s);ng(s,N,T);break;case 5:var V=m.stateNode;m.flags&32&&(Di(V,""),m.flags&=-33);var ee=ux(s);ng(s,ee,V);break;case 3:case 4:var ge=m.stateNode.containerInfo,Oe=ux(s);cx(s,Oe,ge);break;default:throw Error(r(161))}}catch(Ve){ir(s,s.return,Ve)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function ET(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;ET(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Cl(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)pT(s,l.alternate,l),l=l.sibling}function Ic(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:wu(4,l,l.return),Ic(l);break;case 1:Lo(l,l.return);var m=l.stateNode;typeof m.componentWillUnmount=="function"&&fT(l,l.return,m),Ic(l);break;case 27:Ih(l.stateNode);case 26:case 5:Lo(l,l.return),Ic(l);break;case 22:l.memoizedState===null&&Ic(l);break;case 30:Ic(l);break;default:Ic(l)}s=s.sibling}}function Tl(s,l,m){for(m=m&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var b=l.alternate,T=s,N=l,V=N.flags;switch(N.tag){case 0:case 11:case 15:Tl(T,N,m),vh(4,N);break;case 1:if(Tl(T,N,m),b=N,T=b.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Oe){ir(b,b.return,Oe)}if(b=N,T=b.updateQueue,T!==null){var ee=b.stateNode;try{var ge=T.shared.hiddenCallbacks;if(ge!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ge.length;T++)JS(ge[T],ee)}catch(Oe){ir(b,b.return,Oe)}}m&&V&64&&cT(N),xh(N,N.return);break;case 27:mT(N);case 26:case 5:Tl(T,N,m),m&&b===null&&V&4&&dT(N),xh(N,N.return);break;case 12:Tl(T,N,m);break;case 31:Tl(T,N,m),m&&V&4&&xT(T,N);break;case 13:Tl(T,N,m),m&&V&4&&bT(T,N);break;case 22:N.memoizedState===null&&Tl(T,N,m),xh(N,N.return);break;case 30:break;default:Tl(T,N,m)}l=l.sibling}}function dx(s,l){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&ah(m))}function hx(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&ah(s))}function go(s,l,m,b){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)_T(s,l,m,b),l=l.sibling}function _T(s,l,m,b){var T=l.flags;switch(l.tag){case 0:case 11:case 15:go(s,l,m,b),T&2048&&vh(9,l);break;case 1:go(s,l,m,b);break;case 3:go(s,l,m,b),T&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&ah(s)));break;case 12:if(T&2048){go(s,l,m,b),s=l.stateNode;try{var N=l.memoizedProps,V=N.id,ee=N.onPostCommit;typeof ee=="function"&&ee(V,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ge){ir(l,l.return,ge)}}else go(s,l,m,b);break;case 31:go(s,l,m,b);break;case 13:go(s,l,m,b);break;case 23:break;case 22:N=l.stateNode,V=l.alternate,l.memoizedState!==null?N._visibility&2?go(s,l,m,b):bh(s,l):N._visibility&2?go(s,l,m,b):(N._visibility|=2,Ff(s,l,m,b,(l.subtreeFlags&10256)!==0||!1)),T&2048&&dx(V,l);break;case 24:go(s,l,m,b),T&2048&&hx(l.alternate,l);break;default:go(s,l,m,b)}}function Ff(s,l,m,b,T){for(T=T&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var N=s,V=l,ee=m,ge=b,Oe=V.flags;switch(V.tag){case 0:case 11:case 15:Ff(N,V,ee,ge,T),vh(8,V);break;case 23:break;case 22:var Ve=V.stateNode;V.memoizedState!==null?Ve._visibility&2?Ff(N,V,ee,ge,T):bh(N,V):(Ve._visibility|=2,Ff(N,V,ee,ge,T)),T&&Oe&2048&&dx(V.alternate,V);break;case 24:Ff(N,V,ee,ge,T),T&&Oe&2048&&hx(V.alternate,V);break;default:Ff(N,V,ee,ge,T)}l=l.sibling}}function bh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var m=s,b=l,T=b.flags;switch(b.tag){case 22:bh(m,b),T&2048&&dx(b.alternate,b);break;case 24:bh(m,b),T&2048&&hx(b.alternate,b);break;default:bh(m,b)}l=l.sibling}}var wh=8192;function Uf(s,l,m){if(s.subtreeFlags&wh)for(s=s.child;s!==null;)AT(s,l,m),s=s.sibling}function AT(s,l,m){switch(s.tag){case 26:Uf(s,l,m),s.flags&wh&&s.memoizedState!==null&&GB(m,mo,s.memoizedState,s.memoizedProps);break;case 5:Uf(s,l,m);break;case 3:case 4:var b=mo;mo=yg(s.stateNode.containerInfo),Uf(s,l,m),mo=b;break;case 22:s.memoizedState===null&&(b=s.alternate,b!==null&&b.memoizedState!==null?(b=wh,wh=16777216,Uf(s,l,m),wh=b):Uf(s,l,m));break;default:Uf(s,l,m)}}function ST(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Eh(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var m=0;m<l.length;m++){var b=l[m];Xi=b,TT(b,s)}ST(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)CT(s),s=s.sibling}function CT(s){switch(s.tag){case 0:case 11:case 15:Eh(s),s.flags&2048&&wu(9,s,s.return);break;case 3:Eh(s);break;case 12:Eh(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,ig(s)):Eh(s);break;default:Eh(s)}}function ig(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var m=0;m<l.length;m++){var b=l[m];Xi=b,TT(b,s)}ST(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:wu(8,l,l.return),ig(l);break;case 22:m=l.stateNode,m._visibility&2&&(m._visibility&=-3,ig(l));break;default:ig(l)}s=s.sibling}}function TT(s,l){for(;Xi!==null;){var m=Xi;switch(m.tag){case 0:case 11:case 15:wu(8,m,l);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var b=m.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:ah(m.memoizedState.cache)}if(b=m.child,b!==null)b.return=m,Xi=b;else e:for(m=s;Xi!==null;){b=Xi;var T=b.sibling,N=b.return;if(yT(b),b===m){Xi=null;break e}if(T!==null){T.return=N,Xi=T;break e}Xi=N}}}var sB={getCacheForType:function(s){var l=ga(_i),m=l.data.get(s);return m===void 0&&(m=s(),l.data.set(s,m)),m},cacheSignal:function(){return ga(_i).controller.signal}},oB=typeof WeakMap=="function"?WeakMap:Map,Kn=0,xr=null,_n=null,Sn=0,rr=0,Ts=null,Eu=!1,Vf=!1,mx=!1,Il=0,ii=0,_u=0,Oc=0,gx=0,Is=0,zf=0,_h=null,hs=null,px=!1,ag=0,IT=0,sg=1/0,og=null,Au=null,Mi=0,Su=null,qf=null,Ol=0,yx=0,vx=null,OT=null,Ah=0,xx=null;function Os(){return(Kn&2)!==0&&Sn!==0?Sn&-Sn:ve.T!==null?Sx():ti()}function NT(){if(Is===0)if((Sn&536870912)===0||Dn){var s=Qt;Qt<<=1,(Qt&3932160)===0&&(Qt=262144),Is=s}else Is=536870912;return s=Ss.current,s!==null&&(s.flags|=32),Is}function ms(s,l,m){(s===xr&&(rr===2||rr===9)||s.cancelPendingCommit!==null)&&(Hf(s,0),Cu(s,Sn,Is,!1)),Ri(s,m),((Kn&2)===0||s!==xr)&&(s===xr&&((Kn&2)===0&&(Oc|=m),ii===4&&Cu(s,Sn,Is,!1)),Bo(s))}function RT(s,l,m){if((Kn&6)!==0)throw Error(r(327));var b=!m&&(l&127)===0&&(l&s.expiredLanes)===0||mr(s,l),T=b?cB(s,l):wx(s,l,!0),N=b;do{if(T===0){Vf&&!b&&Cu(s,l,0,!1);break}else{if(m=s.current.alternate,N&&!lB(m)){T=wx(s,l,!1),N=!1;continue}if(T===2){if(N=l,s.errorRecoveryDisabledLanes&N)var V=0;else V=s.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){l=V;e:{var ee=s;T=_h;var ge=ee.current.memoizedState.isDehydrated;if(ge&&(Hf(ee,V).flags|=256),V=wx(ee,V,!1),V!==2){if(mx&&!ge){ee.errorRecoveryDisabledLanes|=N,Oc|=N,T=4;break e}N=hs,hs=T,N!==null&&(hs===null?hs=N:hs.push.apply(hs,N))}T=V}if(N=!1,T!==2)continue}}if(T===1){Hf(s,0),Cu(s,l,0,!0);break}e:{switch(b=s,N=T,N){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Cu(b,l,Is,!Eu);break e;case 2:hs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(T=ag+300-Zt(),10<T)){if(Cu(b,l,Is,!Eu),Sa(b,0,!0)!==0)break e;Ol=l,b.timeoutHandle=lI(PT.bind(null,b,m,hs,og,px,l,Is,Oc,zf,Eu,N,"Throttled",-0,0),T);break e}PT(b,m,hs,og,px,l,Is,Oc,zf,Eu,N,null,-0,0)}}break}while(!0);Bo(s)}function PT(s,l,m,b,T,N,V,ee,ge,Oe,Ve,Ke,De,je){if(s.timeoutHandle=-1,Ke=l.subtreeFlags,Ke&8192||(Ke&16785408)===16785408){Ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},AT(l,N,Ke);var wt=(N&62914560)===N?ag-Zt():(N&4194048)===N?IT-Zt():0;if(wt=WB(Ke,wt),wt!==null){Ol=N,s.cancelPendingCommit=wt(UT.bind(null,s,l,N,m,b,T,V,ee,ge,Ve,Ke,null,De,je)),Cu(s,N,V,!Oe);return}}UT(s,l,N,m,b,T,V,ee,ge)}function lB(s){for(var l=s;;){var m=l.tag;if((m===0||m===11||m===15)&&l.flags&16384&&(m=l.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var b=0;b<m.length;b++){var T=m[b],N=T.getSnapshot;T=T.value;try{if(!E(N(),T))return!1}catch{return!1}}if(m=l.child,l.subtreeFlags&16384&&m!==null)m.return=l,l=m;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Cu(s,l,m,b){l&=~gx,l&=~Oc,s.suspendedLanes|=l,s.pingedLanes&=~l,b&&(s.warmLanes|=l),b=s.expirationTimes;for(var T=l;0<T;){var N=31-Xe(T),V=1<<N;b[N]=-1,T&=~V}m!==0&&ns(s,m,l)}function lg(){return(Kn&6)===0?(Sh(0),!1):!0}function bx(){if(_n!==null){if(rr===0)var s=_n.return;else s=_n,vl=bc=null,jv(s),Mf=null,oh=0,s=_n;for(;s!==null;)uT(s.alternate,s),s=s.return;_n=null}}function Hf(s,l){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,IB(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),Ol=0,bx(),xr=s,_n=m=pl(s.current,null),Sn=l,rr=0,Ts=null,Eu=!1,Vf=mr(s,l),mx=!1,zf=Is=gx=Oc=_u=ii=0,hs=_h=null,px=!1,(l&8)!==0&&(l|=l&32);var b=s.entangledLanes;if(b!==0)for(s=s.entanglements,b&=l;0<b;){var T=31-Xe(b),N=1<<T;l|=s[T],b&=~N}return Il=l,Yt(),m}function DT(s,l){an=null,ve.H=gh,l===Df||l===Lm?(l=$S(),rr=3):l===Av?(l=$S(),rr=4):rr=l===Qv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ts=l,_n===null&&(ii=1,Zm(s,Vs(l,s.current)))}function MT(){var s=Ss.current;return s===null?!0:(Sn&4194048)===Sn?Gs===null:(Sn&62914560)===Sn||(Sn&536870912)!==0?s===Gs:!1}function kT(){var s=ve.H;return ve.H=gh,s===null?gh:s}function jT(){var s=ve.A;return ve.A=sB,s}function ug(){ii=4,Eu||(Sn&4194048)!==Sn&&Ss.current!==null||(Vf=!0),(_u&134217727)===0&&(Oc&134217727)===0||xr===null||Cu(xr,Sn,Is,!1)}function wx(s,l,m){var b=Kn;Kn|=2;var T=kT(),N=jT();(xr!==s||Sn!==l)&&(og=null,Hf(s,l)),l=!1;var V=ii;e:do try{if(rr!==0&&_n!==null){var ee=_n,ge=Ts;switch(rr){case 8:bx(),V=6;break e;case 3:case 2:case 9:case 6:Ss.current===null&&(l=!0);var Oe=rr;if(rr=0,Ts=null,Gf(s,ee,ge,Oe),m&&Vf){V=0;break e}break;default:Oe=rr,rr=0,Ts=null,Gf(s,ee,ge,Oe)}}uB(),V=ii;break}catch(Ve){DT(s,Ve)}while(!0);return l&&s.shellSuspendCounter++,vl=bc=null,Kn=b,ve.H=T,ve.A=N,_n===null&&(xr=null,Sn=0,Yt()),V}function uB(){for(;_n!==null;)LT(_n)}function cB(s,l){var m=Kn;Kn|=2;var b=kT(),T=jT();xr!==s||Sn!==l?(og=null,sg=Zt()+500,Hf(s,l)):Vf=mr(s,l);e:do try{if(rr!==0&&_n!==null){l=_n;var N=Ts;t:switch(rr){case 1:rr=0,Ts=null,Gf(s,l,N,1);break;case 2:case 9:if(KS(N)){rr=0,Ts=null,BT(l);break}l=function(){rr!==2&&rr!==9||xr!==s||(rr=7),Bo(s)},N.then(l,l);break e;case 3:rr=7;break e;case 4:rr=5;break e;case 7:KS(N)?(rr=0,Ts=null,BT(l)):(rr=0,Ts=null,Gf(s,l,N,7));break;case 5:var V=null;switch(_n.tag){case 26:V=_n.memoizedState;case 5:case 27:var ee=_n;if(V?_I(V):ee.stateNode.complete){rr=0,Ts=null;var ge=ee.sibling;if(ge!==null)_n=ge;else{var Oe=ee.return;Oe!==null?(_n=Oe,cg(Oe)):_n=null}break t}}rr=0,Ts=null,Gf(s,l,N,5);break;case 6:rr=0,Ts=null,Gf(s,l,N,6);break;case 8:bx(),ii=6;break e;default:throw Error(r(462))}}fB();break}catch(Ve){DT(s,Ve)}while(!0);return vl=bc=null,ve.H=b,ve.A=T,Kn=m,_n!==null?0:(xr=null,Sn=0,Yt(),ii)}function fB(){for(;_n!==null&&!Jr();)LT(_n)}function LT(s){var l=oT(s.alternate,s,Il);s.memoizedProps=s.pendingProps,l===null?cg(s):_n=l}function BT(s){var l=s,m=l.alternate;switch(l.tag){case 15:case 0:l=tT(m,l,l.pendingProps,l.type,void 0,Sn);break;case 11:l=tT(m,l,l.pendingProps,l.type.render,l.ref,Sn);break;case 5:jv(l);default:uT(m,l),l=_n=jS(l,Il),l=oT(m,l,Il)}s.memoizedProps=s.pendingProps,l===null?cg(s):_n=l}function Gf(s,l,m,b){vl=bc=null,jv(l),Mf=null,oh=0;var T=l.return;try{if(JL(s,T,l,m,Sn)){ii=1,Zm(s,Vs(m,s.current)),_n=null;return}}catch(N){if(T!==null)throw _n=T,N;ii=1,Zm(s,Vs(m,s.current)),_n=null;return}l.flags&32768?(Dn||b===1?s=!0:Vf||(Sn&536870912)!==0?s=!1:(Eu=s=!0,(b===2||b===9||b===3||b===6)&&(b=Ss.current,b!==null&&b.tag===13&&(b.flags|=16384))),FT(l,s)):cg(l)}function cg(s){var l=s;do{if((l.flags&32768)!==0){FT(l,Eu);return}s=l.return;var m=nB(l.alternate,l,Il);if(m!==null){_n=m;return}if(l=l.sibling,l!==null){_n=l;return}_n=l=s}while(l!==null);ii===0&&(ii=5)}function FT(s,l){do{var m=rB(s.alternate,s);if(m!==null){m.flags&=32767,_n=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!l&&(s=s.sibling,s!==null)){_n=s;return}_n=s=m}while(s!==null);ii=6,_n=null}function UT(s,l,m,b,T,N,V,ee,ge){s.cancelPendingCommit=null;do fg();while(Mi!==0);if((Kn&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(N=l.lanes|l.childLanes,N|=Pt,Hi(s,m,N,V,ee,ge),s===xr&&(_n=xr=null,Sn=0),qf=l,Su=s,Ol=m,yx=N,vx=T,OT=b,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,gB(ci,function(){return GT(),null})):(s.callbackNode=null,s.callbackPriority=0),b=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||b){b=ve.T,ve.T=null,T=Ae.p,Ae.p=2,V=Kn,Kn|=4;try{iB(s,l,m)}finally{Kn=V,Ae.p=T,ve.T=b}}Mi=1,VT(),zT(),qT()}}function VT(){if(Mi===1){Mi=0;var s=Su,l=qf,m=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||m){m=ve.T,ve.T=null;var b=Ae.p;Ae.p=2;var T=Kn;Kn|=4;try{wT(l,s);var N=Dx,V=O(s.containerInfo),ee=N.focusedElem,ge=N.selectionRange;if(V!==ee&&ee&&ee.ownerDocument&&C(ee.ownerDocument.documentElement,ee)){if(ge!==null&&M(ee)){var Oe=ge.start,Ve=ge.end;if(Ve===void 0&&(Ve=Oe),"selectionStart"in ee)ee.selectionStart=Oe,ee.selectionEnd=Math.min(Ve,ee.value.length);else{var Ke=ee.ownerDocument||document,De=Ke&&Ke.defaultView||window;if(De.getSelection){var je=De.getSelection(),wt=ee.textContent.length,Bt=Math.min(ge.start,wt),fr=ge.end===void 0?Bt:Math.min(ge.end,wt);!je.extend&&Bt>fr&&(V=fr,fr=Bt,Bt=V);var we=_(ee,Bt),ye=_(ee,fr);if(we&&ye&&(je.rangeCount!==1||je.anchorNode!==we.node||je.anchorOffset!==we.offset||je.focusNode!==ye.node||je.focusOffset!==ye.offset)){var Ie=Ke.createRange();Ie.setStart(we.node,we.offset),je.removeAllRanges(),Bt>fr?(je.addRange(Ie),je.extend(ye.node,ye.offset)):(Ie.setEnd(ye.node,ye.offset),je.addRange(Ie))}}}}for(Ke=[],je=ee;je=je.parentNode;)je.nodeType===1&&Ke.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<Ke.length;ee++){var He=Ke[ee];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}_g=!!Px,Dx=Px=null}finally{Kn=T,Ae.p=b,ve.T=m}}s.current=l,Mi=2}}function zT(){if(Mi===2){Mi=0;var s=Su,l=qf,m=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||m){m=ve.T,ve.T=null;var b=Ae.p;Ae.p=2;var T=Kn;Kn|=4;try{pT(s,l.alternate,l)}finally{Kn=T,Ae.p=b,ve.T=m}}Mi=3}}function qT(){if(Mi===4||Mi===3){Mi=0,kr();var s=Su,l=qf,m=Ol,b=OT;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Mi=5:(Mi=0,qf=Su=null,HT(s,s.pendingLanes));var T=s.pendingLanes;if(T===0&&(Au=null),ei(m),l=l.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(wn,l,void 0,(l.current.flags&128)===128)}catch{}if(b!==null){l=ve.T,T=Ae.p,Ae.p=2,ve.T=null;try{for(var N=s.onRecoverableError,V=0;V<b.length;V++){var ee=b[V];N(ee.value,{componentStack:ee.stack})}}finally{ve.T=l,Ae.p=T}}(Ol&3)!==0&&fg(),Bo(s),T=s.pendingLanes,(m&261930)!==0&&(T&42)!==0?s===xx?Ah++:(Ah=0,xx=s):Ah=0,Sh(0)}}function HT(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,ah(l)))}function fg(){return VT(),zT(),qT(),GT()}function GT(){if(Mi!==5)return!1;var s=Su,l=yx;yx=0;var m=ei(Ol),b=ve.T,T=Ae.p;try{Ae.p=32>m?32:m,ve.T=null,m=vx,vx=null;var N=Su,V=Ol;if(Mi=0,qf=Su=null,Ol=0,(Kn&6)!==0)throw Error(r(331));var ee=Kn;if(Kn|=4,CT(N.current),_T(N,N.current,V,m),Kn=ee,Sh(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(wn,N)}catch{}return!0}finally{Ae.p=T,ve.T=b,HT(s,l)}}function WT(s,l,m){l=Vs(m,l),l=Zv(s.stateNode,l,2),s=vu(s,l,2),s!==null&&(Ri(s,2),Bo(s))}function ir(s,l,m){if(s.tag===3)WT(s,s,m);else for(;l!==null;){if(l.tag===3){WT(l,s,m);break}else if(l.tag===1){var b=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Au===null||!Au.has(b))){s=Vs(m,s),m=KC(2),b=vu(l,m,2),b!==null&&(YC(m,b,l,s),Ri(b,2),Bo(b));break}}l=l.return}}function Ex(s,l,m){var b=s.pingCache;if(b===null){b=s.pingCache=new oB;var T=new Set;b.set(l,T)}else T=b.get(l),T===void 0&&(T=new Set,b.set(l,T));T.has(m)||(mx=!0,T.add(m),s=dB.bind(null,s,l,m),l.then(s,s))}function dB(s,l,m){var b=s.pingCache;b!==null&&b.delete(l),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,xr===s&&(Sn&m)===m&&(ii===4||ii===3&&(Sn&62914560)===Sn&&300>Zt()-ag?(Kn&2)===0&&Hf(s,0):gx|=m,zf===Sn&&(zf=0)),Bo(s)}function KT(s,l){l===0&&(l=Kr()),s=Qn(s,l),s!==null&&(Ri(s,l),Bo(s))}function hB(s){var l=s.memoizedState,m=0;l!==null&&(m=l.retryLane),KT(s,m)}function mB(s,l){var m=0;switch(s.tag){case 31:case 13:var b=s.stateNode,T=s.memoizedState;T!==null&&(m=T.retryLane);break;case 19:b=s.stateNode;break;case 22:b=s.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(l),KT(s,m)}function gB(s,l){return nt(s,l)}var dg=null,Wf=null,_x=!1,hg=!1,Ax=!1,Tu=0;function Bo(s){s!==Wf&&s.next===null&&(Wf===null?dg=Wf=s:Wf=Wf.next=s),hg=!0,_x||(_x=!0,yB())}function Sh(s,l){if(!Ax&&hg){Ax=!0;do for(var m=!1,b=dg;b!==null;){if(s!==0){var T=b.pendingLanes;if(T===0)var N=0;else{var V=b.suspendedLanes,ee=b.pingedLanes;N=(1<<31-Xe(42|s)+1)-1,N&=T&~(V&~ee),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(m=!0,ZT(b,N))}else N=Sn,N=Sa(b,b===xr?N:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(N&3)===0||mr(b,N)||(m=!0,ZT(b,N));b=b.next}while(m);Ax=!1}}function pB(){YT()}function YT(){hg=_x=!1;var s=0;Tu!==0&&TB()&&(s=Tu);for(var l=Zt(),m=null,b=dg;b!==null;){var T=b.next,N=$T(b,l);N===0?(b.next=null,m===null?dg=T:m.next=T,T===null&&(Wf=m)):(m=b,(s!==0||(N&3)!==0)&&(hg=!0)),b=T}Mi!==0&&Mi!==5||Sh(s),Tu!==0&&(Tu=0)}function $T(s,l){for(var m=s.suspendedLanes,b=s.pingedLanes,T=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var V=31-Xe(N),ee=1<<V,ge=T[V];ge===-1?((ee&m)===0||(ee&b)!==0)&&(T[V]=cl(ee,l)):ge<=l&&(s.expiredLanes|=ee),N&=~ee}if(l=xr,m=Sn,m=Sa(s,s===l?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b=s.callbackNode,m===0||s===l&&(rr===2||rr===9)||s.cancelPendingCommit!==null)return b!==null&&b!==null&&ot(b),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||mr(s,m)){if(l=m&-m,l===s.callbackPriority)return l;switch(b!==null&&ot(b),ei(m)){case 2:case 8:m=Aa;break;case 32:m=ci;break;case 268435456:m=lo;break;default:m=ci}return b=XT.bind(null,s),m=nt(m,b),s.callbackPriority=l,s.callbackNode=m,l}return b!==null&&b!==null&&ot(b),s.callbackPriority=2,s.callbackNode=null,2}function XT(s,l){if(Mi!==0&&Mi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(fg()&&s.callbackNode!==m)return null;var b=Sn;return b=Sa(s,s===xr?b:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b===0?null:(RT(s,b,l),$T(s,Zt()),s.callbackNode!=null&&s.callbackNode===m?XT.bind(null,s):null)}function ZT(s,l){if(fg())return null;RT(s,l,!0)}function yB(){OB(function(){(Kn&6)!==0?nt(Gn,pB):YT()})}function Sx(){if(Tu===0){var s=Rf;s===0&&(s=ut,ut<<=1,(ut&261888)===0&&(ut=256)),Tu=s}return Tu}function QT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:aa(""+s)}function JT(s,l){var m=l.ownerDocument.createElement("input");return m.name=l.name,m.value=l.value,s.id&&m.setAttribute("form",s.id),l.parentNode.insertBefore(m,l),s=new FormData(s),m.parentNode.removeChild(m),s}function vB(s,l,m,b,T){if(l==="submit"&&m&&m.stateNode===T){var N=QT((T[dn]||null).action),V=b.submitter;V&&(l=(l=V[dn]||null)?QT(l.formAction):V.getAttribute("formAction"),l!==null&&(N=l,V=null));var ee=new vr("action","action",null,b,T);s.push({event:ee,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Tu!==0){var ge=V?JT(T,V):new FormData(T);Gv(m,{pending:!0,data:ge,method:T.method,action:N},null,ge)}}else typeof N=="function"&&(ee.preventDefault(),ge=V?JT(T,V):new FormData(T),Gv(m,{pending:!0,data:ge,method:T.method,action:N},N,ge))},currentTarget:T}]})}}for(var Cx=0;Cx<ft.length;Cx++){var Tx=ft[Cx],xB=Tx.toLowerCase(),bB=Tx[0].toUpperCase()+Tx.slice(1);tt(xB,"on"+bB)}tt(Ce,"onAnimationEnd"),tt(xe,"onAnimationIteration"),tt(Pe,"onAnimationStart"),tt("dblclick","onDoubleClick"),tt("focusin","onFocus"),tt("focusout","onBlur"),tt(qe,"onTransitionRun"),tt(it,"onTransitionStart"),tt(lt,"onTransitionCancel"),tt(Ze,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ch));function eI(s,l){l=(l&4)!==0;for(var m=0;m<s.length;m++){var b=s[m],T=b.event;b=b.listeners;e:{var N=void 0;if(l)for(var V=b.length-1;0<=V;V--){var ee=b[V],ge=ee.instance,Oe=ee.currentTarget;if(ee=ee.listener,ge!==N&&T.isPropagationStopped())break e;N=ee,T.currentTarget=Oe;try{N(T)}catch(Ve){mt(Ve)}T.currentTarget=null,N=ge}else for(V=0;V<b.length;V++){if(ee=b[V],ge=ee.instance,Oe=ee.currentTarget,ee=ee.listener,ge!==N&&T.isPropagationStopped())break e;N=ee,T.currentTarget=Oe;try{N(T)}catch(Ve){mt(Ve)}T.currentTarget=null,N=ge}}}}function An(s,l){var m=l[Ca];m===void 0&&(m=l[Ca]=new Set);var b=s+"__bubble";m.has(b)||(tI(l,s,2,!1),m.add(b))}function Ix(s,l,m){var b=0;l&&(b|=4),tI(m,s,b,l)}var mg="_reactListening"+Math.random().toString(36).slice(2);function Ox(s){if(!s[mg]){s[mg]=!0,ze.forEach(function(m){m!=="selectionchange"&&(wB.has(m)||Ix(m,!1,s),Ix(m,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[mg]||(l[mg]=!0,Ix("selectionchange",!1,l))}}function tI(s,l,m,b){switch(NI(l)){case 2:var T=$B;break;case 8:T=XB;break;default:T=Hx}m=T.bind(null,l,m,s),T=void 0,!uo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),b?T!==void 0?s.addEventListener(l,m,{capture:!0,passive:T}):s.addEventListener(l,m,!0):T!==void 0?s.addEventListener(l,m,{passive:T}):s.addEventListener(l,m,!1)}function Nx(s,l,m,b,T){var N=b;if((l&1)===0&&(l&2)===0&&b!==null)e:for(;;){if(b===null)return;var V=b.tag;if(V===3||V===4){var ee=b.stateNode.containerInfo;if(ee===T)break;if(V===4)for(V=b.return;V!==null;){var ge=V.tag;if((ge===3||ge===4)&&V.stateNode.containerInfo===T)return;V=V.return}for(;ee!==null;){if(V=Yn(ee),V===null)return;if(ge=V.tag,ge===5||ge===6||ge===26||ge===27){b=N=V;continue e}ee=ee.parentNode}}b=b.return}Ta(function(){var Oe=N,Ve=sa(m),Ke=[];e:{var De=ht.get(s);if(De!==void 0){var je=vr,wt=s;switch(s){case"keypress":if(ua(m)===0)break e;case"keydown":case"keyup":je=ss;break;case"focusin":wt="focus",je=as;break;case"focusout":wt="blur",je=as;break;case"beforeblur":case"afterblur":je=as;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=Fs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=B;break;case Ce:case xe:case Pe:je=Ht;break;case Ze:je=se;break;case"scroll":case"scrollend":je=Es;break;case"wheel":je=Me;break;case"copy":case"cut":case"paste":je=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=hn;break;case"toggle":case"beforetoggle":je=Ft}var Bt=(l&4)!==0,fr=!Bt&&(s==="scroll"||s==="scrollend"),we=Bt?De!==null?De+"Capture":null:De;Bt=[];for(var ye=Oe,Ie;ye!==null;){var He=ye;if(Ie=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Ie===null||we===null||(He=Rt(ye,we),He!=null&&Bt.push(Th(ye,He,Ie))),fr)break;ye=ye.return}0<Bt.length&&(De=new je(De,wt,null,m,Ve),Ke.push({event:De,listeners:Bt}))}}if((l&7)===0){e:{if(De=s==="mouseover"||s==="pointerover",je=s==="mouseout"||s==="pointerout",De&&m!==Gi&&(wt=m.relatedTarget||m.fromElement)&&(Yn(wt)||wt[wr]))break e;if((je||De)&&(De=Ve.window===Ve?Ve:(De=Ve.ownerDocument)?De.defaultView||De.parentWindow:window,je?(wt=m.relatedTarget||m.toElement,je=Oe,wt=wt?Yn(wt):null,wt!==null&&(fr=a(wt),Bt=wt.tag,wt!==fr||Bt!==5&&Bt!==27&&Bt!==6)&&(wt=null)):(je=null,wt=Oe),je!==wt)){if(Bt=bn,He="onMouseLeave",we="onMouseEnter",ye="mouse",(s==="pointerout"||s==="pointerover")&&(Bt=hn,He="onPointerLeave",we="onPointerEnter",ye="pointer"),fr=je==null?De:Ur(je),Ie=wt==null?De:Ur(wt),De=new Bt(He,ye+"leave",je,m,Ve),De.target=fr,De.relatedTarget=Ie,He=null,Yn(Ve)===Oe&&(Bt=new Bt(we,ye+"enter",wt,m,Ve),Bt.target=Ie,Bt.relatedTarget=fr,He=Bt),fr=He,je&&wt)t:{for(Bt=EB,we=je,ye=wt,Ie=0,He=we;He;He=Bt(He))Ie++;He=0;for(var Dt=ye;Dt;Dt=Bt(Dt))He++;for(;0<Ie-He;)we=Bt(we),Ie--;for(;0<He-Ie;)ye=Bt(ye),He--;for(;Ie--;){if(we===ye||ye!==null&&we===ye.alternate){Bt=we;break t}we=Bt(we),ye=Bt(ye)}Bt=null}else Bt=null;je!==null&&nI(Ke,De,je,Bt,!1),wt!==null&&fr!==null&&nI(Ke,fr,wt,Bt,!0)}}e:{if(De=Oe?Ur(Oe):window,je=De.nodeName&&De.nodeName.toLowerCase(),je==="select"||je==="input"&&De.type==="file")var Fn=$i;else if(hl(De))if(ls)Fn=p;else{Fn=u;var St=o}else je=De.nodeName,!je||je.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Oe&&Ln(Oe.elementType)&&(Fn=$i):Fn=d;if(Fn&&(Fn=Fn(s,Oe))){Ma(Ke,Fn,m,Ve);break e}St&&St(s,De,Oe),s==="focusout"&&Oe&&De.type==="number"&&Oe.memoizedProps.value!=null&&ue(De,"number",De.value)}switch(St=Oe?Ur(Oe):window,s){case"focusin":(hl(St)||St.contentEditable==="true")&&(z=St,X=Oe,re=null);break;case"focusout":re=X=z=null;break;case"mousedown":te=!0;break;case"contextmenu":case"mouseup":case"dragend":te=!1,oe(Ke,m,Ve);break;case"selectionchange":if(F)break;case"keydown":case"keyup":oe(Ke,m,Ve)}var ln;if(yn)e:{switch(s){case"compositionstart":var Cn="onCompositionStart";break e;case"compositionend":Cn="onCompositionEnd";break e;case"compositionupdate":Cn="onCompositionUpdate";break e}Cn=void 0}else fo?Us(s,m)&&(Cn="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(Cn="onCompositionStart");Cn&&(Da&&m.locale!=="ko"&&(fo||Cn!=="onCompositionStart"?Cn==="onCompositionEnd"&&fo&&(ln=la()):(oa=Ve,Ia="value"in oa?oa.value:oa.textContent,fo=!0)),St=gg(Oe,Cn),0<St.length&&(Cn=new Pa(Cn,s,null,m,Ve),Ke.push({event:Cn,listeners:St}),ln?Cn.data=ln:(ln=os(m),ln!==null&&(Cn.data=ln)))),(ln=fa?_s(s,m):cu(s,m))&&(Cn=gg(Oe,"onBeforeInput"),0<Cn.length&&(St=new Pa("onBeforeInput","beforeinput",null,m,Ve),Ke.push({event:St,listeners:Cn}),St.data=ln)),vB(Ke,s,Oe,m,Ve)}eI(Ke,l)})}function Th(s,l,m){return{instance:s,listener:l,currentTarget:m}}function gg(s,l){for(var m=l+"Capture",b=[];s!==null;){var T=s,N=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||N===null||(T=Rt(s,m),T!=null&&b.unshift(Th(s,T,N)),T=Rt(s,l),T!=null&&b.push(Th(s,T,N))),s.tag===3)return b;s=s.return}return[]}function EB(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function nI(s,l,m,b,T){for(var N=l._reactName,V=[];m!==null&&m!==b;){var ee=m,ge=ee.alternate,Oe=ee.stateNode;if(ee=ee.tag,ge!==null&&ge===b)break;ee!==5&&ee!==26&&ee!==27||Oe===null||(ge=Oe,T?(Oe=Rt(m,N),Oe!=null&&V.unshift(Th(m,Oe,ge))):T||(Oe=Rt(m,N),Oe!=null&&V.push(Th(m,Oe,ge)))),m=m.return}V.length!==0&&s.push({event:l,listeners:V})}var _B=/\r\n?/g,AB=/\u0000|\uFFFD/g;function rI(s){return(typeof s=="string"?s:""+s).replace(_B,`
`).replace(AB,"")}function iI(s,l){return l=rI(l),rI(s)===l}function cr(s,l,m,b,T,N){switch(m){case"children":typeof b=="string"?l==="body"||l==="textarea"&&b===""||Di(s,b):(typeof b=="number"||typeof b=="bigint")&&l!=="body"&&Di(s,""+b);break;case"className":wi(s,"class",b);break;case"tabIndex":wi(s,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":wi(s,m,b);break;case"style":Et(s,b,N);break;case"data":if(l!=="object"){wi(s,"data",b);break}case"src":case"href":if(b===""&&(l!=="a"||m!=="href")){s.removeAttribute(m);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(m);break}b=aa(""+b),s.setAttribute(m,b);break;case"action":case"formAction":if(typeof b=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(m==="formAction"?(l!=="input"&&cr(s,l,"name",T.name,T,null),cr(s,l,"formEncType",T.formEncType,T,null),cr(s,l,"formMethod",T.formMethod,T,null),cr(s,l,"formTarget",T.formTarget,T,null)):(cr(s,l,"encType",T.encType,T,null),cr(s,l,"method",T.method,T,null),cr(s,l,"target",T.target,T,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(m);break}b=aa(""+b),s.setAttribute(m,b);break;case"onClick":b!=null&&(s.onclick=di);break;case"onScroll":b!=null&&An("scroll",s);break;case"onScrollEnd":b!=null&&An("scrollend",s);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(m=b.__html,m!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":s.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){s.removeAttribute("xlink:href");break}m=aa(""+b),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(m,""+b):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":b===!0?s.setAttribute(m,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(m,b):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?s.setAttribute(m,b):s.removeAttribute(m);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?s.removeAttribute(m):s.setAttribute(m,b);break;case"popover":An("beforetoggle",s),An("toggle",s),Wt(s,"popover",b);break;case"xlinkActuate":pr(s,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":pr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":pr(s,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":pr(s,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":pr(s,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":pr(s,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":pr(s,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":pr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":pr(s,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Wt(s,"is",b);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=dl.get(m)||m,Wt(s,m,b))}}function Rx(s,l,m,b,T,N){switch(m){case"style":Et(s,b,N);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(m=b.__html,m!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof b=="string"?Di(s,b):(typeof b=="number"||typeof b=="bigint")&&Di(s,""+b);break;case"onScroll":b!=null&&An("scroll",s);break;case"onScrollEnd":b!=null&&An("scrollend",s);break;case"onClick":b!=null&&(s.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(T=m.endsWith("Capture"),l=m.slice(2,T?m.length-7:void 0),N=s[dn]||null,N=N!=null?N[m]:null,typeof N=="function"&&s.removeEventListener(l,N,T),typeof b=="function")){typeof N!="function"&&N!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(l,b,T);break e}m in s?s[m]=b:b===!0?s.setAttribute(m,""):Wt(s,m,b)}}}function ya(s,l,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":An("error",s),An("load",s);var b=!1,T=!1,N;for(N in m)if(m.hasOwnProperty(N)){var V=m[N];if(V!=null)switch(N){case"src":b=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:cr(s,l,N,V,m,null)}}T&&cr(s,l,"srcSet",m.srcSet,m,null),b&&cr(s,l,"src",m.src,m,null);return;case"input":An("invalid",s);var ee=N=V=T=null,ge=null,Oe=null;for(b in m)if(m.hasOwnProperty(b)){var Ve=m[b];if(Ve!=null)switch(b){case"name":T=Ve;break;case"type":V=Ve;break;case"checked":ge=Ve;break;case"defaultChecked":Oe=Ve;break;case"value":N=Ve;break;case"defaultValue":ee=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(r(137,l));break;default:cr(s,l,b,Ve,m,null)}}Se(s,N,ee,ge,Oe,V,T,!1);return;case"select":An("invalid",s),b=V=N=null;for(T in m)if(m.hasOwnProperty(T)&&(ee=m[T],ee!=null))switch(T){case"value":N=ee;break;case"defaultValue":V=ee;break;case"multiple":b=ee;default:cr(s,l,T,ee,m,null)}l=N,m=V,s.multiple=!!b,l!=null?gt(s,!!b,l,!1):m!=null&&gt(s,!!b,m,!0);return;case"textarea":An("invalid",s),N=T=b=null;for(V in m)if(m.hasOwnProperty(V)&&(ee=m[V],ee!=null))switch(V){case"value":b=ee;break;case"defaultValue":T=ee;break;case"children":N=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(91));break;default:cr(s,l,V,ee,m,null)}_r(s,b,T,N);return;case"option":for(ge in m)m.hasOwnProperty(ge)&&(b=m[ge],b!=null)&&(ge==="selected"?s.selected=b&&typeof b!="function"&&typeof b!="symbol":cr(s,l,ge,b,m,null));return;case"dialog":An("beforetoggle",s),An("toggle",s),An("cancel",s),An("close",s);break;case"iframe":case"object":An("load",s);break;case"video":case"audio":for(b=0;b<Ch.length;b++)An(Ch[b],s);break;case"image":An("error",s),An("load",s);break;case"details":An("toggle",s);break;case"embed":case"source":case"link":An("error",s),An("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in m)if(m.hasOwnProperty(Oe)&&(b=m[Oe],b!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:cr(s,l,Oe,b,m,null)}return;default:if(Ln(l)){for(Ve in m)m.hasOwnProperty(Ve)&&(b=m[Ve],b!==void 0&&Rx(s,l,Ve,b,m,void 0));return}}for(ee in m)m.hasOwnProperty(ee)&&(b=m[ee],b!=null&&cr(s,l,ee,b,m,null))}function SB(s,l,m,b){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,N=null,V=null,ee=null,ge=null,Oe=null,Ve=null;for(je in m){var Ke=m[je];if(m.hasOwnProperty(je)&&Ke!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":ge=Ke;default:b.hasOwnProperty(je)||cr(s,l,je,null,b,Ke)}}for(var De in b){var je=b[De];if(Ke=m[De],b.hasOwnProperty(De)&&(je!=null||Ke!=null))switch(De){case"type":N=je;break;case"name":T=je;break;case"checked":Oe=je;break;case"defaultChecked":Ve=je;break;case"value":V=je;break;case"defaultValue":ee=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,l));break;default:je!==Ke&&cr(s,l,De,je,b,Ke)}}$n(s,V,ee,ge,Oe,Ve,N,T);return;case"select":je=V=ee=De=null;for(N in m)if(ge=m[N],m.hasOwnProperty(N)&&ge!=null)switch(N){case"value":break;case"multiple":je=ge;default:b.hasOwnProperty(N)||cr(s,l,N,null,b,ge)}for(T in b)if(N=b[T],ge=m[T],b.hasOwnProperty(T)&&(N!=null||ge!=null))switch(T){case"value":De=N;break;case"defaultValue":ee=N;break;case"multiple":V=N;default:N!==ge&&cr(s,l,T,N,b,ge)}l=ee,m=V,b=je,De!=null?gt(s,!!m,De,!1):!!b!=!!m&&(l!=null?gt(s,!!m,l,!0):gt(s,!!m,m?[]:"",!1));return;case"textarea":je=De=null;for(ee in m)if(T=m[ee],m.hasOwnProperty(ee)&&T!=null&&!b.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:cr(s,l,ee,null,b,T)}for(V in b)if(T=b[V],N=m[V],b.hasOwnProperty(V)&&(T!=null||N!=null))switch(V){case"value":De=T;break;case"defaultValue":je=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==N&&cr(s,l,V,T,b,N)}Er(s,De,je);return;case"option":for(var wt in m)De=m[wt],m.hasOwnProperty(wt)&&De!=null&&!b.hasOwnProperty(wt)&&(wt==="selected"?s.selected=!1:cr(s,l,wt,null,b,De));for(ge in b)De=b[ge],je=m[ge],b.hasOwnProperty(ge)&&De!==je&&(De!=null||je!=null)&&(ge==="selected"?s.selected=De&&typeof De!="function"&&typeof De!="symbol":cr(s,l,ge,De,b,je));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in m)De=m[Bt],m.hasOwnProperty(Bt)&&De!=null&&!b.hasOwnProperty(Bt)&&cr(s,l,Bt,null,b,De);for(Oe in b)if(De=b[Oe],je=m[Oe],b.hasOwnProperty(Oe)&&De!==je&&(De!=null||je!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,l));break;default:cr(s,l,Oe,De,b,je)}return;default:if(Ln(l)){for(var fr in m)De=m[fr],m.hasOwnProperty(fr)&&De!==void 0&&!b.hasOwnProperty(fr)&&Rx(s,l,fr,void 0,b,De);for(Ve in b)De=b[Ve],je=m[Ve],!b.hasOwnProperty(Ve)||De===je||De===void 0&&je===void 0||Rx(s,l,Ve,De,b,je);return}}for(var we in m)De=m[we],m.hasOwnProperty(we)&&De!=null&&!b.hasOwnProperty(we)&&cr(s,l,we,null,b,De);for(Ke in b)De=b[Ke],je=m[Ke],!b.hasOwnProperty(Ke)||De===je||De==null&&je==null||cr(s,l,Ke,De,b,je)}function aI(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CB(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,m=performance.getEntriesByType("resource"),b=0;b<m.length;b++){var T=m[b],N=T.transferSize,V=T.initiatorType,ee=T.duration;if(N&&ee&&aI(V)){for(V=0,ee=T.responseEnd,b+=1;b<m.length;b++){var ge=m[b],Oe=ge.startTime;if(Oe>ee)break;var Ve=ge.transferSize,Ke=ge.initiatorType;Ve&&aI(Ke)&&(ge=ge.responseEnd,V+=Ve*(ge<ee?1:(ee-Oe)/(ge-Oe)))}if(--b,l+=8*(N+V)/(T.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Px=null,Dx=null;function pg(s){return s.nodeType===9?s:s.ownerDocument}function sI(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oI(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function Mx(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var kx=null;function TB(){var s=window.event;return s&&s.type==="popstate"?s===kx?!1:(kx=s,!0):(kx=null,!1)}var lI=typeof setTimeout=="function"?setTimeout:void 0,IB=typeof clearTimeout=="function"?clearTimeout:void 0,uI=typeof Promise=="function"?Promise:void 0,OB=typeof queueMicrotask=="function"?queueMicrotask:typeof uI<"u"?function(s){return uI.resolve(null).then(s).catch(NB)}:lI;function NB(s){setTimeout(function(){throw s})}function Iu(s){return s==="head"}function cI(s,l){var m=l,b=0;do{var T=m.nextSibling;if(s.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"||m==="/&"){if(b===0){s.removeChild(T),Xf(l);return}b--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")b++;else if(m==="html")Ih(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,Ih(m);for(var N=m.firstChild;N;){var V=N.nextSibling,ee=N.nodeName;N[xi]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&N.rel.toLowerCase()==="stylesheet"||m.removeChild(N),N=V}}else m==="body"&&Ih(s.ownerDocument.body);m=T}while(m);Xf(l)}function fI(s,l){var m=s;s=0;do{var b=m.nextSibling;if(m.nodeType===1?l?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(l?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),b&&b.nodeType===8)if(m=b.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=b}while(m)}function jx(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var m=l;switch(l=l.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":jx(m),bi(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function RB(s,l,m,b){for(;s.nodeType===1;){var T=m;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!b&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(b){if(!s[xi])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==T.rel||s.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||s.getAttribute("title")!==(T.title==null?null:T.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(T.src==null?null:T.src)||s.getAttribute("type")!==(T.type==null?null:T.type)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var N=T.name==null?null:""+T.name;if(T.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=Ws(s.nextSibling),s===null)break}return null}function PB(s,l,m){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=Ws(s.nextSibling),s===null))return null;return s}function dI(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Ws(s.nextSibling),s===null))return null;return s}function Lx(s){return s.data==="$?"||s.data==="$~"}function Bx(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function DB(s,l){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||m.readyState!=="loading")l();else{var b=function(){l(),m.removeEventListener("DOMContentLoaded",b)};m.addEventListener("DOMContentLoaded",b),s._reactRetry=b}}function Ws(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var Fx=null;function hI(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(l===0)return Ws(s.nextSibling);l--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||l++}s=s.nextSibling}return null}function mI(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(l===0)return s;l--}else m!=="/$"&&m!=="/&"||l++}s=s.previousSibling}return null}function gI(s,l,m){switch(l=pg(m),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Ih(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);bi(s)}var Ks=new Map,pI=new Set;function yg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Nl=Ae.d;Ae.d={f:MB,r:kB,D:jB,C:LB,L:BB,m:FB,X:VB,S:UB,M:zB};function MB(){var s=Nl.f(),l=lg();return s||l}function kB(s){var l=Nt(s);l!==null&&l.tag===5&&l.type==="form"?DC(l):Nl.r(s)}var Kf=typeof document>"u"?null:document;function yI(s,l,m){var b=Kf;if(b&&typeof l=="string"&&l){var T=qt(l);T='link[rel="'+s+'"][href="'+T+'"]',typeof m=="string"&&(T+='[crossorigin="'+m+'"]'),pI.has(T)||(pI.add(T),s={rel:s,crossOrigin:m,href:l},b.querySelector(T)===null&&(l=b.createElement("link"),ya(l,"link",s),gr(l),b.head.appendChild(l)))}}function jB(s){Nl.D(s),yI("dns-prefetch",s,null)}function LB(s,l){Nl.C(s,l),yI("preconnect",s,l)}function BB(s,l,m){Nl.L(s,l,m);var b=Kf;if(b&&s&&l){var T='link[rel="preload"][as="'+qt(l)+'"]';l==="image"&&m&&m.imageSrcSet?(T+='[imagesrcset="'+qt(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(T+='[imagesizes="'+qt(m.imageSizes)+'"]')):T+='[href="'+qt(s)+'"]';var N=T;switch(l){case"style":N=Yf(s);break;case"script":N=$f(s)}Ks.has(N)||(s=A({rel:"preload",href:l==="image"&&m&&m.imageSrcSet?void 0:s,as:l},m),Ks.set(N,s),b.querySelector(T)!==null||l==="style"&&b.querySelector(Oh(N))||l==="script"&&b.querySelector(Nh(N))||(l=b.createElement("link"),ya(l,"link",s),gr(l),b.head.appendChild(l)))}}function FB(s,l){Nl.m(s,l);var m=Kf;if(m&&s){var b=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+qt(b)+'"][href="'+qt(s)+'"]',N=T;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=$f(s)}if(!Ks.has(N)&&(s=A({rel:"modulepreload",href:s},l),Ks.set(N,s),m.querySelector(T)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Nh(N)))return}b=m.createElement("link"),ya(b,"link",s),gr(b),m.head.appendChild(b)}}}function UB(s,l,m){Nl.S(s,l,m);var b=Kf;if(b&&s){var T=er(b).hoistableStyles,N=Yf(s);l=l||"default";var V=T.get(N);if(!V){var ee={loading:0,preload:null};if(V=b.querySelector(Oh(N)))ee.loading=5;else{s=A({rel:"stylesheet",href:s,"data-precedence":l},m),(m=Ks.get(N))&&Ux(s,m);var ge=V=b.createElement("link");gr(ge),ya(ge,"link",s),ge._p=new Promise(function(Oe,Ve){ge.onload=Oe,ge.onerror=Ve}),ge.addEventListener("load",function(){ee.loading|=1}),ge.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,vg(V,l,b)}V={type:"stylesheet",instance:V,count:1,state:ee},T.set(N,V)}}}function VB(s,l){Nl.X(s,l);var m=Kf;if(m&&s){var b=er(m).hoistableScripts,T=$f(s),N=b.get(T);N||(N=m.querySelector(Nh(T)),N||(s=A({src:s,async:!0},l),(l=Ks.get(T))&&Vx(s,l),N=m.createElement("script"),gr(N),ya(N,"link",s),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},b.set(T,N))}}function zB(s,l){Nl.M(s,l);var m=Kf;if(m&&s){var b=er(m).hoistableScripts,T=$f(s),N=b.get(T);N||(N=m.querySelector(Nh(T)),N||(s=A({src:s,async:!0,type:"module"},l),(l=Ks.get(T))&&Vx(s,l),N=m.createElement("script"),gr(N),ya(N,"link",s),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},b.set(T,N))}}function vI(s,l,m,b){var T=(T=Ne.current)?yg(T):null;if(!T)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(l=Yf(m.href),m=er(T).hoistableStyles,b=m.get(l),b||(b={type:"style",instance:null,count:0,state:null},m.set(l,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=Yf(m.href);var N=er(T).hoistableStyles,V=N.get(s);if(V||(T=T.ownerDocument||T,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,V),(N=T.querySelector(Oh(s)))&&!N._p&&(V.instance=N,V.state.loading=5),Ks.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Ks.set(s,m),N||qB(T,s,m,V.state))),l&&b===null)throw Error(r(528,""));return V}if(l&&b!==null)throw Error(r(529,""));return null;case"script":return l=m.async,m=m.src,typeof m=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=$f(m),m=er(T).hoistableScripts,b=m.get(l),b||(b={type:"script",instance:null,count:0,state:null},m.set(l,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Yf(s){return'href="'+qt(s)+'"'}function Oh(s){return'link[rel="stylesheet"]['+s+"]"}function xI(s){return A({},s,{"data-precedence":s.precedence,precedence:null})}function qB(s,l,m,b){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?b.loading=1:(l=s.createElement("link"),b.preload=l,l.addEventListener("load",function(){return b.loading|=1}),l.addEventListener("error",function(){return b.loading|=2}),ya(l,"link",m),gr(l),s.head.appendChild(l))}function $f(s){return'[src="'+qt(s)+'"]'}function Nh(s){return"script[async]"+s}function bI(s,l,m){if(l.count++,l.instance===null)switch(l.type){case"style":var b=s.querySelector('style[data-href~="'+qt(m.href)+'"]');if(b)return l.instance=b,gr(b),b;var T=A({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return b=(s.ownerDocument||s).createElement("style"),gr(b),ya(b,"style",T),vg(b,m.precedence,s),l.instance=b;case"stylesheet":T=Yf(m.href);var N=s.querySelector(Oh(T));if(N)return l.state.loading|=4,l.instance=N,gr(N),N;b=xI(m),(T=Ks.get(T))&&Ux(b,T),N=(s.ownerDocument||s).createElement("link"),gr(N);var V=N;return V._p=new Promise(function(ee,ge){V.onload=ee,V.onerror=ge}),ya(N,"link",b),l.state.loading|=4,vg(N,m.precedence,s),l.instance=N;case"script":return N=$f(m.src),(T=s.querySelector(Nh(N)))?(l.instance=T,gr(T),T):(b=m,(T=Ks.get(N))&&(b=A({},m),Vx(b,T)),s=s.ownerDocument||s,T=s.createElement("script"),gr(T),ya(T,"link",b),s.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(b=l.instance,l.state.loading|=4,vg(b,m.precedence,s));return l.instance}function vg(s,l,m){for(var b=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=b.length?b[b.length-1]:null,N=T,V=0;V<b.length;V++){var ee=b[V];if(ee.dataset.precedence===l)N=ee;else if(N!==T)break}N?N.parentNode.insertBefore(s,N.nextSibling):(l=m.nodeType===9?m.head:m,l.insertBefore(s,l.firstChild))}function Ux(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Vx(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var xg=null;function wI(s,l,m){if(xg===null){var b=new Map,T=xg=new Map;T.set(m,b)}else T=xg,b=T.get(m),b||(b=new Map,T.set(m,b));if(b.has(s))return b;for(b.set(s,null),m=m.getElementsByTagName(s),T=0;T<m.length;T++){var N=m[T];if(!(N[xi]||N[jn]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var V=N.getAttribute(l)||"";V=s+V;var ee=b.get(V);ee?ee.push(N):b.set(V,[N])}}return b}function EI(s,l,m){s=s.ownerDocument||s,s.head.insertBefore(m,l==="title"?s.querySelector("head > title"):null)}function HB(s,l,m){if(m===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(s=l.disabled,typeof l.precedence=="string"&&s==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function _I(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function GB(s,l,m,b){if(m.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var T=Yf(b.href),N=l.querySelector(Oh(T));if(N){l=N._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=bg.bind(s),l.then(s,s)),m.state.loading|=4,m.instance=N,gr(N);return}N=l.ownerDocument||l,b=xI(b),(T=Ks.get(T))&&Ux(b,T),N=N.createElement("link"),gr(N);var V=N;V._p=new Promise(function(ee,ge){V.onload=ee,V.onerror=ge}),ya(N,"link",b),m.instance=N}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,l),(l=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=bg.bind(s),l.addEventListener("load",m),l.addEventListener("error",m))}}var zx=0;function WB(s,l){return s.stylesheets&&s.count===0&&Eg(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var b=setTimeout(function(){if(s.stylesheets&&Eg(s,s.stylesheets),s.unsuspend){var N=s.unsuspend;s.unsuspend=null,N()}},6e4+l);0<s.imgBytes&&zx===0&&(zx=62500*CB());var T=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Eg(s,s.stylesheets),s.unsuspend)){var N=s.unsuspend;s.unsuspend=null,N()}},(s.imgBytes>zx?50:800)+l);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(b),clearTimeout(T)}}:null}function bg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var wg=null;function Eg(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,wg=new Map,l.forEach(KB,s),wg=null,bg.call(s))}function KB(s,l){if(!(l.state.loading&4)){var m=wg.get(s);if(m)var b=m.get(null);else{m=new Map,wg.set(s,m);for(var T=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<T.length;N++){var V=T[N];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(m.set(V.dataset.precedence,V),b=V)}b&&m.set(null,b)}T=l.instance,V=T.getAttribute("data-precedence"),N=m.get(V)||b,N===b&&m.set(null,T),m.set(V,T),this.count++,b=bg.bind(this),T.addEventListener("load",b),T.addEventListener("error",b),N?N.parentNode.insertBefore(T,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(T,s.firstChild)),l.state.loading|=4}}var Rh={$$typeof:W,Provider:null,Consumer:null,_currentValue:We,_currentValue2:We,_threadCount:0};function YB(s,l,m,b,T,N,V,ee,ge){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=b,this.onUncaughtError=T,this.onCaughtError=N,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function AI(s,l,m,b,T,N,V,ee,ge,Oe,Ve,Ke){return s=new YB(s,l,m,V,ge,Oe,Ve,Ke,ee),l=1,N===!0&&(l|=24),N=As(3,null,null,l),s.current=N,N.stateNode=s,l=wv(),l.refCount++,s.pooledCache=l,l.refCount++,N.memoizedState={element:b,isDehydrated:m,cache:l},Sv(N),s}function SI(s){return s?(s=Cf,s):Cf}function CI(s,l,m,b,T,N){T=SI(T),b.context===null?b.context=T:b.pendingContext=T,b=yu(l),b.payload={element:m},N=N===void 0?null:N,N!==null&&(b.callback=N),m=vu(s,b,l),m!==null&&(ms(m,s,l),uh(m,s,l))}function TI(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<l?m:l}}function qx(s,l){TI(s,l),(s=s.alternate)&&TI(s,l)}function II(s){if(s.tag===13||s.tag===31){var l=Qn(s,67108864);l!==null&&ms(l,s,67108864),qx(s,67108864)}}function OI(s){if(s.tag===13||s.tag===31){var l=Os();l=Br(l);var m=Qn(s,l);m!==null&&ms(m,s,l),qx(s,l)}}var _g=!0;function $B(s,l,m,b){var T=ve.T;ve.T=null;var N=Ae.p;try{Ae.p=2,Hx(s,l,m,b)}finally{Ae.p=N,ve.T=T}}function XB(s,l,m,b){var T=ve.T;ve.T=null;var N=Ae.p;try{Ae.p=8,Hx(s,l,m,b)}finally{Ae.p=N,ve.T=T}}function Hx(s,l,m,b){if(_g){var T=Gx(b);if(T===null)Nx(s,l,b,Ag,m),RI(s,b);else if(QB(T,s,l,m,b))b.stopPropagation();else if(RI(s,b),l&4&&-1<ZB.indexOf(s)){for(;T!==null;){var N=Nt(T);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var V=ia(N.pendingLanes);if(V!==0){var ee=N;for(ee.pendingLanes|=2,ee.entangledLanes|=2;V;){var ge=1<<31-Xe(V);ee.entanglements[1]|=ge,V&=~ge}Bo(N),(Kn&6)===0&&(sg=Zt()+500,Sh(0))}}break;case 31:case 13:ee=Qn(N,2),ee!==null&&ms(ee,N,2),lg(),qx(N,2)}if(N=Gx(b),N===null&&Nx(s,l,b,Ag,m),N===T)break;T=N}T!==null&&b.stopPropagation()}else Nx(s,l,b,null,m)}}function Gx(s){return s=sa(s),Wx(s)}var Ag=null;function Wx(s){if(Ag=null,s=Yn(s),s!==null){var l=a(s);if(l===null)s=null;else{var m=l.tag;if(m===13){if(s=c(l),s!==null)return s;s=null}else if(m===31){if(s=h(l),s!==null)return s;s=null}else if(m===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Ag=s,null}function NI(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jr()){case Gn:return 2;case Aa:return 8;case ci:case Tr:return 32;case lo:return 268435456;default:return 32}default:return 32}}var Kx=!1,Ou=null,Nu=null,Ru=null,Ph=new Map,Dh=new Map,Pu=[],ZB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RI(s,l){switch(s){case"focusin":case"focusout":Ou=null;break;case"dragenter":case"dragleave":Nu=null;break;case"mouseover":case"mouseout":Ru=null;break;case"pointerover":case"pointerout":Ph.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dh.delete(l.pointerId)}}function Mh(s,l,m,b,T,N){return s===null||s.nativeEvent!==N?(s={blockedOn:l,domEventName:m,eventSystemFlags:b,nativeEvent:N,targetContainers:[T]},l!==null&&(l=Nt(l),l!==null&&II(l)),s):(s.eventSystemFlags|=b,l=s.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),s)}function QB(s,l,m,b,T){switch(l){case"focusin":return Ou=Mh(Ou,s,l,m,b,T),!0;case"dragenter":return Nu=Mh(Nu,s,l,m,b,T),!0;case"mouseover":return Ru=Mh(Ru,s,l,m,b,T),!0;case"pointerover":var N=T.pointerId;return Ph.set(N,Mh(Ph.get(N)||null,s,l,m,b,T)),!0;case"gotpointercapture":return N=T.pointerId,Dh.set(N,Mh(Dh.get(N)||null,s,l,m,b,T)),!0}return!1}function PI(s){var l=Yn(s.target);if(l!==null){var m=a(l);if(m!==null){if(l=m.tag,l===13){if(l=c(m),l!==null){s.blockedOn=l,ct(s.priority,function(){OI(m)});return}}else if(l===31){if(l=h(m),l!==null){s.blockedOn=l,ct(s.priority,function(){OI(m)});return}}else if(l===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Sg(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var m=Gx(s.nativeEvent);if(m===null){m=s.nativeEvent;var b=new m.constructor(m.type,m);Gi=b,m.target.dispatchEvent(b),Gi=null}else return l=Nt(m),l!==null&&II(l),s.blockedOn=m,!1;l.shift()}return!0}function DI(s,l,m){Sg(s)&&m.delete(l)}function JB(){Kx=!1,Ou!==null&&Sg(Ou)&&(Ou=null),Nu!==null&&Sg(Nu)&&(Nu=null),Ru!==null&&Sg(Ru)&&(Ru=null),Ph.forEach(DI),Dh.forEach(DI)}function Cg(s,l){s.blockedOn===l&&(s.blockedOn=null,Kx||(Kx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,JB)))}var Tg=null;function MI(s){Tg!==s&&(Tg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Tg===s&&(Tg=null);for(var l=0;l<s.length;l+=3){var m=s[l],b=s[l+1],T=s[l+2];if(typeof b!="function"){if(Wx(b||m)===null)continue;break}var N=Nt(m);N!==null&&(s.splice(l,3),l-=3,Gv(N,{pending:!0,data:T,method:m.method,action:b},b,T))}}))}function Xf(s){function l(ge){return Cg(ge,s)}Ou!==null&&Cg(Ou,s),Nu!==null&&Cg(Nu,s),Ru!==null&&Cg(Ru,s),Ph.forEach(l),Dh.forEach(l);for(var m=0;m<Pu.length;m++){var b=Pu[m];b.blockedOn===s&&(b.blockedOn=null)}for(;0<Pu.length&&(m=Pu[0],m.blockedOn===null);)PI(m),m.blockedOn===null&&Pu.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(b=0;b<m.length;b+=3){var T=m[b],N=m[b+1],V=T[dn]||null;if(typeof N=="function")V||MI(m);else if(V){var ee=null;if(N&&N.hasAttribute("formAction")){if(T=N,V=N[dn]||null)ee=V.formAction;else if(Wx(T)!==null)continue}else ee=V.action;typeof ee=="function"?m[b+1]=ee:(m.splice(b,3),b-=3),MI(m)}}}function kI(){function s(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(V){return T=V})},focusReset:"manual",scroll:"manual"})}function l(){T!==null&&(T(),T=null),b||setTimeout(m,20)}function m(){if(!b&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,T=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(m,100),function(){b=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),T!==null&&(T(),T=null)}}}function Yx(s){this._internalRoot=s}Ig.prototype.render=Yx.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var m=l.current,b=Os();CI(m,b,s,l,null,null)},Ig.prototype.unmount=Yx.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;CI(s.current,2,null,s,null,null),lg(),l[wr]=null}};function Ig(s){this._internalRoot=s}Ig.prototype.unstable_scheduleHydration=function(s){if(s){var l=ti();s={blockedOn:null,target:s,priority:l};for(var m=0;m<Pu.length&&l!==0&&l<Pu[m].priority;m++);Pu.splice(m,0,s),m===0&&PI(s)}};var jI=e.version;if(jI!=="19.2.4")throw Error(r(527,jI,"19.2.4"));Ae.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=g(l),s=s!==null?w(s):null,s=s===null?null:s.stateNode,s};var eF={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ve,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Og.isDisabled&&Og.supportsFiber)try{wn=Og.inject(eF),Je=Og}catch{}}return jh.createRoot=function(s,l){if(!i(s))throw Error(r(299));var m=!1,b="",T=qC,N=HC,V=GC;return l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(V=l.onRecoverableError)),l=AI(s,1,!1,null,null,m,b,null,T,N,V,kI),s[wr]=l.current,Ox(s),new Yx(l)},jh.hydrateRoot=function(s,l,m){if(!i(s))throw Error(r(299));var b=!1,T="",N=qC,V=HC,ee=GC,ge=null;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onUncaughtError!==void 0&&(N=m.onUncaughtError),m.onCaughtError!==void 0&&(V=m.onCaughtError),m.onRecoverableError!==void 0&&(ee=m.onRecoverableError),m.formState!==void 0&&(ge=m.formState)),l=AI(s,1,!0,l,m??null,b,T,ge,N,V,ee,kI),l.context=SI(null),m=l.current,b=Os(),b=Br(b),T=yu(b),T.callback=null,vu(m,T,b),m=b,l.current.lanes=m,Ri(l,m),Bo(l),s[wr]=l.current,Ox(s),new Ig(l)},jh.version="19.2.4",jh}var WI;function fF(){if(WI)return Zx.exports;WI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zx.exports=cF(),Zx.exports}var dF=fF();var KI="popstate";function hF(t={}){function e(r,i){let{pathname:a,search:c,hash:h}=r.location;return Qw("",{pathname:a,search:c,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:x0(i)}return gF(e,n,null,t)}function Wr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function no(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mF(){return Math.random().toString(36).substring(2,10)}function YI(t,e){return{usr:t.state,key:t.key,idx:e}}function Qw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?jd(e):e,state:n,key:e&&e.key||r||mF()}}function x0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function gF(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,c=i.history,h="POP",y=null,g=w();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function w(){return(c.state||{idx:null}).idx}function A(){h="POP";let L=w(),G=L==null?null:L-g;g=L,y&&y({action:h,location:k.location,delta:G})}function I(L,G){h="PUSH";let K=Qw(k.location,L,G);g=w()+1;let W=YI(K,g),ne=k.createHref(K);try{c.pushState(W,"",ne)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;i.location.assign(ne)}a&&y&&y({action:h,location:k.location,delta:1})}function R(L,G){h="REPLACE";let K=Qw(k.location,L,G);g=w();let W=YI(K,g),ne=k.createHref(K);c.replaceState(W,"",ne),a&&y&&y({action:h,location:k.location,delta:0})}function j(L){return pF(L)}let k={get action(){return h},get location(){return t(i,c)},listen(L){if(y)throw new Error("A history only accepts one active listener");return i.addEventListener(KI,A),y=L,()=>{i.removeEventListener(KI,A),y=null}},createHref(L){return e(i,L)},createURL:j,encodeLocation(L){let G=j(L);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:I,replace:R,go(L){return c.go(L)}};return k}function pF(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:x0(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function o6(t,e,n="/"){return yF(t,e,n,!1)}function yF(t,e,n,r){let i=typeof e=="string"?jd(e):e,a=Hl(i.pathname||"/",n);if(a==null)return null;let c=l6(t);vF(c);let h=null;for(let y=0;h==null&&y<c.length;++y){let g=OF(a);h=TF(c[y],g,r)}return h}function l6(t,e=[],n=[],r="",i=!1){let a=(c,h,y=i,g)=>{let w={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(r)&&y)return;Wr(w.relativePath.startsWith(r),`Absolute route path "${w.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(r.length)}let A=Bl([r,w.relativePath]),I=n.concat(w);c.children&&c.children.length>0&&(Wr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),l6(c.children,e,I,A,y)),!(c.path==null&&!c.index)&&e.push({path:A,score:SF(A,c.index),routesMeta:I})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))a(c,h);else for(let y of u6(c.path))a(c,h,!0,y)}),e}function u6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let c=u6(r.join("/")),h=[];return h.push(...c.map(y=>y===""?a:[a,y].join("/"))),i&&h.push(...c),h.map(y=>t.startsWith("/")&&y===""?"/":y)}function vF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xF=/^:[\w-]+$/,bF=3,wF=2,EF=1,_F=10,AF=-2,$I=t=>t==="*";function SF(t,e){let n=t.split("/"),r=n.length;return n.some($I)&&(r+=AF),e&&(r+=wF),n.filter(i=>!$I(i)).reduce((i,a)=>i+(xF.test(a)?bF:a===""?EF:_F),r)}function CF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TF(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",c=[];for(let h=0;h<r.length;++h){let y=r[h],g=h===r.length-1,w=a==="/"?e:e.slice(a.length)||"/",A=Ap({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},w),I=y.route;if(!A&&g&&n&&!r[r.length-1].route.index&&(A=Ap({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},w)),!A)return null;Object.assign(i,A.params),c.push({params:i,pathname:Bl([a,A.pathname]),pathnameBase:DF(Bl([a,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(a=Bl([a,A.pathnameBase]))}return c}function Ap(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((g,{paramName:w,isOptional:A},I)=>{if(w==="*"){let j=h[I]||"";c=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const R=h[I];return A&&!R?g[w]=void 0:g[w]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:t}}function IF(t,e=!1,n=!0){no(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,y)=>(r.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function OF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return no(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var NF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function RF(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?jd(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=XI(n.substring(1),"/"):a=XI(n,e)):a=e,{pathname:a,search:MF(r),hash:kF(i)}}function XI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kE(t){let e=PF(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jE(t,e,n,r=!1){let i;typeof t=="string"?i=jd(t):(i={...t},Wr(!i.pathname||!i.pathname.includes("?"),tb("?","pathname","search",i)),Wr(!i.pathname||!i.pathname.includes("#"),tb("#","pathname","hash",i)),Wr(!i.search||!i.search.includes("#"),tb("#","search","hash",i)));let a=t===""||i.pathname==="",c=a?"/":i.pathname,h;if(c==null)h=n;else{let A=e.length-1;if(!r&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),A-=1;i.pathname=I.join("/")}h=A>=0?e[A]:"/"}let y=RF(i,h),g=c&&c!=="/"&&c.endsWith("/"),w=(a||c===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||w)&&(y.pathname+="/"),y}var Bl=t=>t.join("/").replace(/\/\/+/g,"/"),DF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,jF=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function LF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function BF(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var c6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function f6(t,e){let n=t;if(typeof n!="string"||!NF.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(c6)try{let a=new URL(window.location.href),c=n.startsWith("//")?new URL(a.protocol+n):new URL(n),h=Hl(c.pathname,e);c.origin===a.origin&&h!=null?n=h+c.search+c.hash:i=!0}catch{no(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var d6=["POST","PUT","PATCH","DELETE"];new Set(d6);var FF=["GET",...d6];new Set(FF);var Ld=D.createContext(null);Ld.displayName="DataRouter";var $1=D.createContext(null);$1.displayName="DataRouterState";var UF=D.createContext(!1),h6=D.createContext({isTransitioning:!1});h6.displayName="ViewTransition";var VF=D.createContext(new Map);VF.displayName="Fetchers";var zF=D.createContext(null);zF.displayName="Await";var Ls=D.createContext(null);Ls.displayName="Navigation";var K0=D.createContext(null);K0.displayName="Location";var sl=D.createContext({outlet:null,matches:[],isDataRoute:!1});sl.displayName="Route";var LE=D.createContext(null);LE.displayName="RouteError";var m6="REACT_ROUTER_ERROR",qF="REDIRECT",HF="ROUTE_ERROR_RESPONSE";function GF(t){if(t.startsWith(`${m6}:${qF}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function WF(t){if(t.startsWith(`${m6}:${HF}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new jF(e.status,e.statusText,e.data)}catch{}}function KF(t,{relative:e}={}){Wr(Bd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(Ls),{hash:i,pathname:a,search:c}=Y0(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:Bl([n,a])),r.createHref({pathname:h,search:c,hash:i})}function Bd(){return D.useContext(K0)!=null}function ol(){return Wr(Bd(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(K0).location}var g6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p6(t){D.useContext(Ls).static||D.useLayoutEffect(t)}function mf(){let{isDataRoute:t}=D.useContext(sl);return t?sU():YF()}function YF(){Wr(Bd(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Ld),{basename:e,navigator:n}=D.useContext(Ls),{matches:r}=D.useContext(sl),{pathname:i}=ol(),a=JSON.stringify(kE(r)),c=D.useRef(!1);return p6(()=>{c.current=!0}),D.useCallback((y,g={})=>{if(no(c.current,g6),!c.current)return;if(typeof y=="number"){n.go(y);return}let w=jE(y,JSON.parse(a),i,g.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Bl([e,w.pathname])),(g.replace?n.replace:n.push)(w,g.state,g)},[e,n,a,i,t])}D.createContext(null);function Y0(t,{relative:e}={}){let{matches:n}=D.useContext(sl),{pathname:r}=ol(),i=JSON.stringify(kE(n));return D.useMemo(()=>jE(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function $F(t,e){return y6(t,e)}function y6(t,e,n,r,i){Wr(Bd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=D.useContext(Ls),{matches:c}=D.useContext(sl),h=c[c.length-1],y=h?h.params:{},g=h?h.pathname:"/",w=h?h.pathnameBase:"/",A=h&&h.route;{let K=A&&A.path||"";x6(g,!A||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let I=ol(),R;if(e){let K=typeof e=="string"?jd(e):e;Wr(w==="/"||K.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${K.pathname}" was given in the \`location\` prop.`),R=K}else R=I;let j=R.pathname||"/",k=j;if(w!=="/"){let K=w.replace(/^\//,"").split("/");k="/"+j.replace(/^\//,"").split("/").slice(K.length).join("/")}let L=o6(t,{pathname:k});no(A||L!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),no(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=eU(L&&L.map(K=>Object.assign({},K,{params:Object.assign({},y,K.params),pathname:Bl([w,a.encodeLocation?a.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?w:Bl([w,a.encodeLocation?a.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),c,n,r,i);return e&&G?D.createElement(K0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},G):G}function XF(){let t=aU(),e=LF(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:a},"ErrorBoundary")," or"," ",D.createElement("code",{style:a},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,c)}var ZF=D.createElement(XF,null),v6=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=WF(t.digest);n&&(t=n)}let e=t!==void 0?D.createElement(sl.Provider,{value:this.props.routeContext},D.createElement(LE.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?D.createElement(QF,{error:t},e):e}};v6.contextType=UF;var nb=new WeakMap;function QF({children:t,error:e}){let{basename:n}=D.useContext(Ls);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=GF(e.digest);if(r){let i=nb.get(e);if(i)throw i;let a=f6(r.location,n);if(c6&&!nb.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw nb.set(e,c),c}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function JF({routeContext:t,match:e,children:n}){let r=D.useContext(Ld);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(sl.Provider,{value:t},n)}function eU(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=n?.errors;if(c!=null){let w=a.findIndex(A=>A.route.id&&c?.[A.route.id]!==void 0);Wr(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,w+1))}let h=!1,y=-1;if(n)for(let w=0;w<a.length;w++){let A=a[w];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(y=w),A.route.id){let{loaderData:I,errors:R}=n,j=A.route.loader&&!I.hasOwnProperty(A.route.id)&&(!R||R[A.route.id]===void 0);if(A.route.lazy||j){h=!0,y>=0?a=a.slice(0,y+1):a=[a[0]];break}}}let g=n&&r?(w,A)=>{r(w,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:BF(n.matches),errorInfo:A})}:void 0;return a.reduceRight((w,A,I)=>{let R,j=!1,k=null,L=null;n&&(R=c&&A.route.id?c[A.route.id]:void 0,k=A.route.errorElement||ZF,h&&(y<0&&I===0?(x6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,L=null):y===I&&(j=!0,L=A.route.hydrateFallbackElement||null)));let G=e.concat(a.slice(0,I+1)),K=()=>{let W;return R?W=k:j?W=L:A.route.Component?W=D.createElement(A.route.Component,null):A.route.element?W=A.route.element:W=w,D.createElement(JF,{match:A,routeContext:{outlet:w,matches:G,isDataRoute:n!=null},children:W})};return n&&(A.route.ErrorBoundary||A.route.errorElement||I===0)?D.createElement(v6,{location:n.location,revalidation:n.revalidation,component:k,error:R,children:K(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:g}):K()},null)}function BE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tU(t){let e=D.useContext(Ld);return Wr(e,BE(t)),e}function nU(t){let e=D.useContext($1);return Wr(e,BE(t)),e}function rU(t){let e=D.useContext(sl);return Wr(e,BE(t)),e}function FE(t){let e=rU(t),n=e.matches[e.matches.length-1];return Wr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function iU(){return FE("useRouteId")}function aU(){let t=D.useContext(LE),e=nU("useRouteError"),n=FE("useRouteError");return t!==void 0?t:e.errors?.[n]}function sU(){let{router:t}=tU("useNavigate"),e=FE("useNavigate"),n=D.useRef(!1);return p6(()=>{n.current=!0}),D.useCallback(async(i,a={})=>{no(n.current,g6),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var ZI={};function x6(t,e,n){!e&&!ZI[t]&&(ZI[t]=!0,no(!1,n))}D.memo(oU);function oU({routes:t,future:e,state:n,onError:r}){return y6(t,void 0,n,r,e)}function lU({to:t,replace:e,state:n,relative:r}){Wr(Bd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=D.useContext(Ls);no(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=D.useContext(sl),{pathname:c}=ol(),h=mf(),y=jE(t,kE(a),c,r==="path"),g=JSON.stringify(y);return D.useEffect(()=>{h(JSON.parse(g),{replace:e,state:n,relative:r})},[h,g,r,e,n]),null}function ju(t){Wr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uU({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:c}){Wr(!Bd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),y=D.useMemo(()=>({basename:h,navigator:i,static:a,unstable_useTransitions:c,future:{}}),[h,i,a,c]);typeof n=="string"&&(n=jd(n));let{pathname:g="/",search:w="",hash:A="",state:I=null,key:R="default"}=n,j=D.useMemo(()=>{let k=Hl(g,h);return k==null?null:{location:{pathname:k,search:w,hash:A,state:I,key:R},navigationType:r}},[h,g,w,A,I,R,r]);return no(j!=null,`<Router basename="${h}"> is not able to match the URL "${g}${w}${A}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:D.createElement(Ls.Provider,{value:y},D.createElement(K0.Provider,{children:e,value:j}))}function cU({children:t,location:e}){return $F(Jw(t),e)}function Jw(t,e=[]){let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let a=[...e,i];if(r.type===D.Fragment){n.push.apply(n,Jw(r.props.children,a));return}Wr(r.type===ju,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Jw(r.props.children,a)),n.push(c)}),n}var np="get",rp="application/x-www-form-urlencoded";function X1(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function fU(t){return X1(t)&&t.tagName.toLowerCase()==="button"}function dU(t){return X1(t)&&t.tagName.toLowerCase()==="form"}function hU(t){return X1(t)&&t.tagName.toLowerCase()==="input"}function mU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gU(t,e){return t.button===0&&(!e||e==="_self")&&!mU(t)}function e2(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function pU(t,e){let n=e2(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var Ng=null;function yU(){if(Ng===null)try{new FormData(document.createElement("form"),0),Ng=!1}catch{Ng=!0}return Ng}var vU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rb(t){return t!=null&&!vU.has(t)?(no(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rp}"`),null):t}function xU(t,e){let n,r,i,a,c;if(dU(t)){let h=t.getAttribute("action");r=h?Hl(h,e):null,n=t.getAttribute("method")||np,i=rb(t.getAttribute("enctype"))||rp,a=new FormData(t)}else if(fU(t)||hU(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=t.getAttribute("formaction")||h.getAttribute("action");if(r=y?Hl(y,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||np,i=rb(t.getAttribute("formenctype"))||rb(h.getAttribute("enctype"))||rp,a=new FormData(h,t),!yU()){let{name:g,type:w,value:A}=t;if(w==="image"){let I=g?`${g}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else g&&a.append(g,A)}}else{if(X1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=np,r=null,i=rp,c=t}return a&&i==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function UE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bU(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&Hl(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function wU(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _U(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let c=await wU(a,n);return c.links?c.links():[]}return[]}));return TU(r.flat(1).filter(EU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function QI(t,e,n,r,i,a){let c=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,h=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return a==="assets"?e.filter((y,g)=>c(y,g)||h(y,g)):a==="data"?e.filter((y,g)=>{let w=r.routes[y.route.id];if(!w||!w.hasLoader)return!1;if(c(y,g)||h(y,g))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function AU(t,e,{includeHydrateFallback:n}={}){return SU(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function SU(t){return[...new Set(t)]}function CU(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function TU(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(CU(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function b6(){let t=D.useContext(Ld);return UE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function IU(){let t=D.useContext($1);return UE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var VE=D.createContext(void 0);VE.displayName="FrameworkContext";function w6(){let t=D.useContext(VE);return UE(t,"You must render this element inside a <HydratedRouter> element"),t}function OU(t,e){let n=D.useContext(VE),[r,i]=D.useState(!1),[a,c]=D.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:g,onMouseLeave:w,onTouchStart:A}=e,I=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let k=G=>{G.forEach(K=>{c(K.isIntersecting)})},L=new IntersectionObserver(k,{threshold:.5});return I.current&&L.observe(I.current),()=>{L.disconnect()}}},[t]),D.useEffect(()=>{if(r){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[r]);let R=()=>{i(!0)},j=()=>{i(!1),c(!1)};return n?t!=="intent"?[a,I,{}]:[a,I,{onFocus:Lh(h,R),onBlur:Lh(y,j),onMouseEnter:Lh(g,R),onMouseLeave:Lh(w,j),onTouchStart:Lh(A,R)}]:[!1,I,{}]}function Lh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function NU({page:t,...e}){let{router:n}=b6(),r=D.useMemo(()=>o6(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?D.createElement(PU,{page:t,matches:r,...e}):null}function RU(t){let{manifest:e,routeModules:n}=w6(),[r,i]=D.useState([]);return D.useEffect(()=>{let a=!1;return _U(t,e,n).then(c=>{a||i(c)}),()=>{a=!0}},[t,e,n]),r}function PU({page:t,matches:e,...n}){let r=ol(),{future:i,manifest:a,routeModules:c}=w6(),{basename:h}=b6(),{loaderData:y,matches:g}=IU(),w=D.useMemo(()=>QI(t,e,g,a,r,"data"),[t,e,g,a,r]),A=D.useMemo(()=>QI(t,e,g,a,r,"assets"),[t,e,g,a,r]),I=D.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let k=new Set,L=!1;if(e.forEach(K=>{let W=a.routes[K.route.id];!W||!W.hasLoader||(!w.some(ne=>ne.route.id===K.route.id)&&K.route.id in y&&c[K.route.id]?.shouldRevalidate||W.hasClientLoader?L=!0:k.add(K.route.id))}),k.size===0)return[];let G=bU(t,h,i.unstable_trailingSlashAwareDataRequests,"data");return L&&k.size>0&&G.searchParams.set("_routes",e.filter(K=>k.has(K.route.id)).map(K=>K.route.id).join(",")),[G.pathname+G.search]},[h,i.unstable_trailingSlashAwareDataRequests,y,r,a,w,e,t,c]),R=D.useMemo(()=>AU(A,a),[A,a]),j=RU(A);return D.createElement(D.Fragment,null,I.map(k=>D.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),R.map(k=>D.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),j.map(({key:k,link:L})=>D.createElement("link",{key:k,nonce:n.nonce,...L,crossOrigin:L.crossOrigin??n.crossOrigin})))}function DU(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MU&&(window.__reactRouterVersion="7.13.0")}catch{}function kU({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=D.useRef();i.current==null&&(i.current=hF({window:r,v5Compat:!0}));let a=i.current,[c,h]=D.useState({action:a.action,location:a.location}),y=D.useCallback(g=>{n===!1?h(g):D.startTransition(()=>h(g))},[n]);return D.useLayoutEffect(()=>a.listen(y),[a,y]),D.createElement(uU,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a,unstable_useTransitions:n})}var E6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_6=D.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:c,state:h,target:y,to:g,preventScrollReset:w,viewTransition:A,unstable_defaultShouldRevalidate:I,...R},j){let{basename:k,unstable_useTransitions:L}=D.useContext(Ls),G=typeof g=="string"&&E6.test(g),K=f6(g,k);g=K.to;let W=KF(g,{relative:i}),[ne,fe,Q]=OU(r,R),U=FU(g,{replace:c,state:h,target:y,preventScrollReset:w,relative:i,viewTransition:A,unstable_defaultShouldRevalidate:I,unstable_useTransitions:L});function $(ae){e&&e(ae),ae.defaultPrevented||U(ae)}let H=D.createElement("a",{...R,...Q,href:K.absoluteURL||W,onClick:K.isExternal||a?e:$,ref:DU(j,fe),target:y,"data-discover":!G&&n==="render"?"true":void 0});return ne&&!G?D.createElement(D.Fragment,null,H,D.createElement(NU,{page:W})):H});_6.displayName="Link";var jU=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:c,viewTransition:h,children:y,...g},w){let A=Y0(c,{relative:g.relative}),I=ol(),R=D.useContext($1),{navigator:j,basename:k}=D.useContext(Ls),L=R!=null&&GU(A)&&h===!0,G=j.encodeLocation?j.encodeLocation(A).pathname:A.pathname,K=I.pathname,W=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(K=K.toLowerCase(),W=W?W.toLowerCase():null,G=G.toLowerCase()),W&&k&&(W=Hl(W,k)||W);const ne=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let fe=K===G||!i&&K.startsWith(G)&&K.charAt(ne)==="/",Q=W!=null&&(W===G||!i&&W.startsWith(G)&&W.charAt(G.length)==="/"),U={isActive:fe,isPending:Q,isTransitioning:L},$=fe?e:void 0,H;typeof r=="function"?H=r(U):H=[r,fe?"active":null,Q?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let ae=typeof a=="function"?a(U):a;return D.createElement(_6,{...g,"aria-current":$,className:H,ref:w,style:ae,to:c,viewTransition:h},typeof y=="function"?y(U):y)});jU.displayName="NavLink";var LU=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:c=np,action:h,onSubmit:y,relative:g,preventScrollReset:w,viewTransition:A,unstable_defaultShouldRevalidate:I,...R},j)=>{let{unstable_useTransitions:k}=D.useContext(Ls),L=qU(),G=HU(h,{relative:g}),K=c.toLowerCase()==="get"?"get":"post",W=typeof h=="string"&&E6.test(h),ne=fe=>{if(y&&y(fe),fe.defaultPrevented)return;fe.preventDefault();let Q=fe.nativeEvent.submitter,U=Q?.getAttribute("formmethod")||c,$=()=>L(Q||fe.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:i,state:a,relative:g,preventScrollReset:w,viewTransition:A,unstable_defaultShouldRevalidate:I});k&&n!==!1?D.startTransition(()=>$()):$()};return D.createElement("form",{ref:j,method:K,action:G,onSubmit:r?y:ne,...R,"data-discover":!W&&t==="render"?"true":void 0})});LU.displayName="Form";function BU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A6(t){let e=D.useContext(Ld);return Wr(e,BU(t)),e}function FU(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:y}={}){let g=mf(),w=ol(),A=Y0(t,{relative:a});return D.useCallback(I=>{if(gU(I,e)){I.preventDefault();let R=n!==void 0?n:x0(w)===x0(A),j=()=>g(t,{replace:R,state:r,preventScrollReset:i,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:h});y?D.startTransition(()=>j()):j()}},[w,g,A,n,r,e,t,i,a,c,h,y])}function UU(t){no(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(e2(t)),n=D.useRef(!1),r=ol(),i=D.useMemo(()=>pU(r.search,n.current?null:e.current),[r.search]),a=mf(),c=D.useCallback((h,y)=>{const g=e2(typeof h=="function"?h(new URLSearchParams(i)):h);n.current=!0,a("?"+g,y)},[a,i]);return[i,c]}var VU=0,zU=()=>`__${String(++VU)}__`;function qU(){let{router:t}=A6("useSubmit"),{basename:e}=D.useContext(Ls),n=iU(),r=t.fetch,i=t.navigate;return D.useCallback(async(a,c={})=>{let{action:h,method:y,encType:g,formData:w,body:A}=xU(a,e);if(c.navigate===!1){let I=c.fetcherKey||zU();await r(I,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:w,body:A,formMethod:c.method||y,formEncType:c.encType||g,flushSync:c.flushSync})}else await i(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:w,body:A,formMethod:c.method||y,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,i,e,n])}function HU(t,{relative:e}={}){let{basename:n}=D.useContext(Ls),r=D.useContext(sl);Wr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Y0(t||".",{relative:e})},c=ol();if(t==null){a.search=c.search;let h=new URLSearchParams(a.search),y=h.getAll("index");if(y.some(w=>w==="")){h.delete("index"),y.filter(A=>A).forEach(A=>h.append("index",A));let w=h.toString();a.search=w?`?${w}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Bl([n,a.pathname])),x0(a)}function GU(t,{relative:e}={}){let n=D.useContext(h6);Wr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=A6("useViewTransitionState"),i=Y0(t,{relative:e});if(!n.isTransitioning)return!1;let a=Hl(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Hl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ap(i.pathname,c)!=null||Ap(i.pathname,a)!=null}var S6=s6();const JI=t=>{let e;const n=new Set,r=(g,w)=>{const A=typeof g=="function"?g(e):g;if(!Object.is(A,e)){const I=e;e=w??(typeof A!="object"||A===null)?A:Object.assign({},e,A),n.forEach(R=>R(e,I))}},i=()=>e,h={setState:r,getState:i,getInitialState:()=>y,subscribe:g=>(n.add(g),()=>n.delete(g))},y=e=t(r,i,h);return h},WU=(t=>t?JI(t):JI),KU=t=>t;function YU(t,e=KU){const n=$h.useSyncExternalStore(t.subscribe,$h.useCallback(()=>e(t.getState()),[t,e]),$h.useCallback(()=>e(t.getInitialState()),[t,e]));return $h.useDebugValue(n),n}const e3=t=>{const e=WU(t),n=r=>YU(e,r);return Object.assign(n,e),n},zE=(t=>t?e3(t):e3);var ip={exports:{}},$U=ip.exports,t3;function XU(){return t3||(t3=1,(function(t,e){((n,r)=>{t.exports=r()})($U,function(){var n=function(f,v){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(_,C){_.__proto__=C}:function(_,C){for(var O in C)Object.prototype.hasOwnProperty.call(C,O)&&(_[O]=C[O])}))(f,v)},r=function(){return(r=Object.assign||function(f){for(var v,_=1,C=arguments.length;_<C;_++)for(var O in v=arguments[_])Object.prototype.hasOwnProperty.call(v,O)&&(f[O]=v[O]);return f}).apply(this,arguments)};function i(f,v,_){for(var C,O=0,M=v.length;O<M;O++)!C&&O in v||((C=C||Array.prototype.slice.call(v,0,O))[O]=v[O]);return f.concat(C||Array.prototype.slice.call(v))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Yh,c=Object.keys,h=Array.isArray;function y(f,v){return typeof v=="object"&&c(v).forEach(function(_){f[_]=v[_]}),f}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var g=Object.getPrototypeOf,w={}.hasOwnProperty;function A(f,v){return w.call(f,v)}function I(f,v){typeof v=="function"&&(v=v(g(f))),(typeof Reflect>"u"?c:Reflect.ownKeys)(v).forEach(function(_){j(f,_,v[_])})}var R=Object.defineProperty;function j(f,v,_,C){R(f,v,y(_&&A(_,"get")&&typeof _.get=="function"?{get:_.get,set:_.set,configurable:!0}:{value:_,configurable:!0,writable:!0},C))}function k(f){return{from:function(v){return f.prototype=Object.create(v.prototype),j(f.prototype,"constructor",f),{extend:I.bind(null,f.prototype)}}}}var L=Object.getOwnPropertyDescriptor,G=[].slice;function K(f,v,_){return G.call(f,v,_)}function W(f,v){return v(f)}function ne(f){if(!f)throw new Error("Assertion Failed")}function fe(f){a.setImmediate?setImmediate(f):setTimeout(f,0)}function Q(f,v){if(typeof v=="string"&&A(f,v))return f[v];if(!v)return f;if(typeof v!="string"){for(var _=[],C=0,O=v.length;C<O;++C){var M=Q(f,v[C]);_.push(M)}return _}var F,z=v.indexOf(".");return z===-1||(F=f[v.substr(0,z)])==null?void 0:Q(F,v.substr(z+1))}function U(f,v,_){if(f&&v!==void 0&&!("isFrozen"in Object&&Object.isFrozen(f)))if(typeof v!="string"&&"length"in v){ne(typeof _!="string"&&"length"in _);for(var C=0,O=v.length;C<O;++C)U(f,v[C],_[C])}else{var M,F,z=v.indexOf(".");z!==-1?(M=v.substr(0,z),(z=v.substr(z+1))===""?_===void 0?h(f)&&!isNaN(parseInt(M))?f.splice(M,1):delete f[M]:f[M]=_:U(F=(F=f[M])&&A(f,M)?F:f[M]={},z,_)):_===void 0?h(f)&&!isNaN(parseInt(v))?f.splice(v,1):delete f[v]:f[v]=_}}function $(f){var v,_={};for(v in f)A(f,v)&&(_[v]=f[v]);return _}var H=[].concat;function ae(f){return H.apply([],f)}var _e="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ae([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(v){return v+f+"Array"})}))).filter(function(f){return a[f]}),ie=new Set(_e.map(function(f){return a[f]})),Z=null;function J(f){return Z=new WeakMap,f=(function v(_){if(!_||typeof _!="object")return _;var C=Z.get(_);if(C)return C;if(h(_)){C=[],Z.set(_,C);for(var O=0,M=_.length;O<M;++O)C.push(v(_[O]))}else if(ie.has(_.constructor))C=_;else{var F,z=g(_);for(F in C=z===Object.prototype?{}:Object.create(z),Z.set(_,C),_)A(_,F)&&(C[F]=v(_[F]))}return C})(f),Z=null,f}var Be={}.toString;function pe(f){return Be.call(f).slice(8,-1)}var ve=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ae=typeof ve=="symbol"?function(f){var v;return f!=null&&(v=f[ve])&&v.apply(f)}:function(){return null};function We(f,v){v=f.indexOf(v),0<=v&&f.splice(v,1)}var Ue={};function st(f){var v,_,C,O;if(arguments.length===1){if(h(f))return f.slice();if(this===Ue&&typeof f=="string")return[f];if(O=Ae(f))for(_=[];!(C=O.next()).done;)_.push(C.value);else{if(f==null)return[f];if(typeof(v=f.length)!="number")return[f];for(_=new Array(v);v--;)_[v]=f[v]}}else for(v=arguments.length,_=new Array(v);v--;)_[v]=arguments[v];return _}var he=typeof Symbol<"u"?function(f){return f[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},_e=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Gn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(_e),Ge={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Fe(f,v){this.name=f,this.message=v}function dt(f,v){return f+". Errors: "+Object.keys(v).map(function(_){return v[_].toString()}).filter(function(_,C,O){return O.indexOf(_)===C}).join(`
`)}function Ne(f,v,_,C){this.failures=v,this.failedKeys=C,this.successCount=_,this.message=dt(f,v)}function et(f,v){this.name="BulkError",this.failures=Object.keys(v).map(function(_){return v[_]}),this.failuresByPos=v,this.message=dt(f,this.failures)}k(Fe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),k(Ne).from(Fe),k(et).from(Fe);var Tt=Gn.reduce(function(f,v){return f[v]=v+"Error",f},{}),ke=Fe,Ye=Gn.reduce(function(f,v){var _=v+"Error";function C(O,M){this.name=_,O?typeof O=="string"?(this.message="".concat(O).concat(M?`
 `+M:""),this.inner=M||null):typeof O=="object"&&(this.message="".concat(O.name," ").concat(O.message),this.inner=O):(this.message=Ge[v]||_,this.inner=null)}return k(C).from(ke),f[v]=C,f},{}),It=(Ye.Syntax=SyntaxError,Ye.Type=TypeError,Ye.Range=RangeError,_e.reduce(function(f,v){return f[v+"Error"]=Ye[v],f},{}));_e=Gn.reduce(function(f,v){return["Syntax","Type","Range"].indexOf(v)===-1&&(f[v+"Error"]=Ye[v]),f},{});function Le(){}function At(f){return f}function zt(f,v){return f==null||f===At?v:function(_){return v(f(_))}}function cn(f,v){return function(){f.apply(this,arguments),v.apply(this,arguments)}}function Hn(f,v){return f===Le?v:function(){var _=f.apply(this,arguments),C=(_!==void 0&&(arguments[0]=_),this.onsuccess),O=this.onerror,M=(this.onsuccess=null,this.onerror=null,v.apply(this,arguments));return C&&(this.onsuccess=this.onsuccess?cn(C,this.onsuccess):C),O&&(this.onerror=this.onerror?cn(O,this.onerror):O),M!==void 0?M:_}}function Rn(f,v){return f===Le?v:function(){f.apply(this,arguments);var _=this.onsuccess,C=this.onerror;this.onsuccess=this.onerror=null,v.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?cn(_,this.onsuccess):_),C&&(this.onerror=this.onerror?cn(C,this.onerror):C)}}function fn(f,v){return f===Le?v:function(O){var C=f.apply(this,arguments),O=(y(O,C),this.onsuccess),M=this.onerror,F=(this.onsuccess=null,this.onerror=null,v.apply(this,arguments));return O&&(this.onsuccess=this.onsuccess?cn(O,this.onsuccess):O),M&&(this.onerror=this.onerror?cn(M,this.onerror):M),C===void 0?F===void 0?void 0:F:y(C,F)}}function Ot(f,v){return f===Le?v:function(){return v.apply(this,arguments)!==!1&&f.apply(this,arguments)}}function nt(f,v){return f===Le?v:function(){var _=f.apply(this,arguments);if(_&&typeof _.then=="function"){for(var C=this,O=arguments.length,M=new Array(O);O--;)M[O]=arguments[O];return _.then(function(){return v.apply(C,M)})}return v.apply(this,arguments)}}_e.ModifyError=Ne,_e.DexieError=Fe,_e.BulkError=et;var ot=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Jr(f){ot=f}var kr={},Zt=100,jr=typeof Promise>"u"?[]:(Gn=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[jr=crypto.subtle.digest("SHA-512",new Uint8Array([0])),g(jr),Gn]:[Gn,g(Gn),Gn]),Gn=jr[0],nn=jr[1],nn=nn&&nn.then,Aa=Gn&&Gn.constructor,ci=!!jr[2],Tr=function(f,v){kn.push([f,v]),es&&(queueMicrotask(Kr),es=!1)},lo=!0,es=!0,ts=[],wn=[],Je=At,sn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Le,pgp:!1,env:{},finalize:Le},Xe=sn,kn=[],yi=0,bs=[];function ut(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var v=this._PSD=Xe;if(typeof f!="function"){if(f!==kr)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ia(this,this._value)}else this._state=null,this._value=null,++v.ref,(function _(C,O){try{O(function(M){if(C._state===null){if(M===C)throw new TypeError("A promise cannot be resolved with itself.");var F=C._lib&&Lr();M&&typeof M.then=="function"?_(C,function(z,X){M instanceof ut?M._then(z,X):M.then(z,X)}):(C._state=!0,C._value=M,Sa(C)),F&&Ri()}},ia.bind(null,C))}catch(M){ia(C,M)}})(this,f)}var Qt={get:function(){var f=Xe,v=ct;function _(C,O){var M=this,F=!f.global&&(f!==Xe||v!==ct),z=F&&!wr(),X=new ut(function(re,te){mr(M,new Wn(bi(C,f,F,z),bi(O,f,F,z),re,te,f))});return this._consoleTask&&(X._consoleTask=this._consoleTask),X}return _.prototype=kr,_},set:function(f){j(this,"then",f&&f.prototype===kr?Qt:{get:function(){return f},set:Qt.set})}};function Wn(f,v,_,C,O){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof v=="function"?v:null,this.resolve=_,this.reject=C,this.psd=O}function ia(f,v){var _,C;wn.push(v),f._state===null&&(_=f._lib&&Lr(),v=Je(v),f._state=!1,f._value=v,C=f,ts.some(function(O){return O._value===C._value})||ts.push(C),Sa(f),_)&&Ri()}function Sa(f){var v=f._listeners;f._listeners=[];for(var _=0,C=v.length;_<C;++_)mr(f,v[_]);var O=f._PSD;--O.ref||O.finalize(),yi===0&&(++yi,Tr(function(){--yi==0&&Hi()},[]))}function mr(f,v){if(f._state===null)f._listeners.push(v);else{var _=f._state?v.onFulfilled:v.onRejected;if(_===null)return(f._state?v.resolve:v.reject)(f._value);++v.psd.ref,++yi,Tr(cl,[_,f,v])}}function cl(f,v,_){try{var C,O=v._value;!v._state&&wn.length&&(wn=[]),C=ot&&v._consoleTask?v._consoleTask.run(function(){return f(O)}):f(O),v._state||wn.indexOf(O)!==-1||(M=>{for(var F=ts.length;F;)if(ts[--F]._value===M._value)return ts.splice(F,1)})(v),_.resolve(C)}catch(M){_.reject(M)}finally{--yi==0&&Hi(),--_.psd.ref||_.psd.finalize()}}function Kr(){xi(sn,function(){Lr()&&Ri()})}function Lr(){var f=lo;return es=lo=!1,f}function Ri(){var f,v,_;do for(;0<kn.length;)for(f=kn,kn=[],_=f.length,v=0;v<_;++v){var C=f[v];C[0].apply(null,C[1])}while(0<kn.length);es=lo=!0}function Hi(){for(var f=ts,v=(ts=[],f.forEach(function(C){C._PSD.onunhandled.call(null,C._value,C)}),bs.slice(0)),_=v.length;_;)v[--_]()}function ns(f){return new ut(kr,!1,f)}function xn(f,v){var _=Xe;return function(){var C=Lr(),O=Xe;try{return Fr(_,!0),f.apply(this,arguments)}catch(M){v&&v(M)}finally{Fr(O,!1),C&&Ri()}}}I(ut.prototype,{then:Qt,_then:function(f,v){mr(this,new Wn(null,null,f,v,Xe))},catch:function(f){var v,_;return arguments.length===1?this.then(null,f):(v=f,_=arguments[1],typeof v=="function"?this.then(null,function(C){return(C instanceof v?_:ns)(C)}):this.then(null,function(C){return(C&&C.name===v?_:ns)(C)}))},finally:function(f){return this.then(function(v){return ut.resolve(f()).then(function(){return v})},function(v){return ut.resolve(f()).then(function(){return ns(v)})})},timeout:function(f,v){var _=this;return f<1/0?new ut(function(C,O){var M=setTimeout(function(){return O(new Ye.Timeout(v))},f);_.then(C,O).finally(clearTimeout.bind(null,M))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&j(ut.prototype,Symbol.toStringTag,"Dexie.Promise"),sn.env=fl(),I(ut,{all:function(){var f=st.apply(null,arguments).map(Ca);return new ut(function(v,_){f.length===0&&v([]);var C=f.length;f.forEach(function(O,M){return ut.resolve(O).then(function(F){f[M]=F,--C||v(f)},_)})})},resolve:function(f){return f instanceof ut?f:f&&typeof f.then=="function"?new ut(function(v,_){f.then(v,_)}):new ut(kr,!0,f)},reject:ns,race:function(){var f=st.apply(null,arguments).map(Ca);return new ut(function(v,_){f.map(function(C){return ut.resolve(C).then(v,_)})})},PSD:{get:function(){return Xe},set:function(f){return Xe=f}},totalEchoes:{get:function(){return ct}},newPSD:jn,usePSD:xi,scheduler:{get:function(){return Tr},set:function(f){Tr=f}},rejectionMapper:{get:function(){return Je},set:function(f){Je=f}},follow:function(f,v){return new ut(function(_,C){return jn(function(O,M){var F=Xe;F.unhandleds=[],F.onunhandled=M,F.finalize=cn(function(){var z,X=this;z=function(){X.unhandleds.length===0?O():M(X.unhandleds[0])},bs.push(function re(){z(),bs.splice(bs.indexOf(re),1)}),++yi,Tr(function(){--yi==0&&Hi()},[])},F.finalize),f()},v,_,C)})}}),Aa&&(Aa.allSettled&&j(ut,"allSettled",function(){var f=st.apply(null,arguments).map(Ca);return new ut(function(v){f.length===0&&v([]);var _=f.length,C=new Array(_);f.forEach(function(O,M){return ut.resolve(O).then(function(F){return C[M]={status:"fulfilled",value:F}},function(F){return C[M]={status:"rejected",reason:F}}).then(function(){return--_||v(C)})})})}),Aa.any&&typeof AggregateError<"u"&&j(ut,"any",function(){var f=st.apply(null,arguments).map(Ca);return new ut(function(v,_){f.length===0&&_(new AggregateError([]));var C=f.length,O=new Array(C);f.forEach(function(M,F){return ut.resolve(M).then(function(z){return v(z)},function(z){O[F]=z,--C||_(new AggregateError(O))})})})}),Aa.withResolvers)&&(ut.withResolvers=Aa.withResolvers);var or={awaits:0,echoes:0,id:0},Br=0,ei=[],ti=0,ct=0,vi=0;function jn(f,F,_,C){var O=Xe,M=Object.create(O),F=(M.parent=O,M.ref=0,M.global=!1,M.id=++vi,sn.env,M.env=ci?{Promise:ut,PromiseProp:{value:ut,configurable:!0,writable:!0},all:ut.all,race:ut.race,allSettled:ut.allSettled,any:ut.any,resolve:ut.resolve,reject:ut.reject}:{},F&&y(M,F),++O.ref,M.finalize=function(){--this.parent.ref||this.parent.finalize()},xi(M,f,_,C));return M.ref===0&&M.finalize(),F}function dn(){return or.id||(or.id=++Br),++or.awaits,or.echoes+=Zt,or.id}function wr(){return!!or.awaits&&(--or.awaits==0&&(or.id=0),or.echoes=or.awaits*Zt,!0)}function Ca(f){return or.echoes&&f&&f.constructor===Aa?(dn(),f.then(function(v){return wr(),v},function(v){return wr(),Nt(v)})):f}function Co(){var f=ei[ei.length-1];ei.pop(),Fr(f,!1)}function Fr(f,v){var _,C,O=Xe;(v?!or.echoes||ti++&&f===Xe:!ti||--ti&&f===Xe)||queueMicrotask(v?(function(M){++ct,or.echoes&&--or.echoes!=0||(or.echoes=or.awaits=or.id=0),ei.push(Xe),Fr(M,!0)}).bind(null,f):Co),f!==Xe&&(Xe=f,O===sn&&(sn.env=fl()),ci)&&(_=sn.env.Promise,C=f.env,O.global||f.global)&&(Object.defineProperty(a,"Promise",C.PromiseProp),_.all=C.all,_.race=C.race,_.resolve=C.resolve,_.reject=C.reject,C.allSettled&&(_.allSettled=C.allSettled),C.any)&&(_.any=C.any)}function fl(){var f=a.Promise;return ci?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function xi(f,v,_,C,O){var M=Xe;try{return Fr(f,!0),v(_,C,O)}finally{Fr(M,!1)}}function bi(f,v,_,C){return typeof f!="function"?f:function(){var O=Xe;_&&dn(),Fr(v,!0);try{return f.apply(this,arguments)}finally{Fr(O,!1),C&&queueMicrotask(wr)}}}function Yn(f){Promise===Aa&&or.echoes===0?ti===0?f():enqueueNativeMicroTask(f):setTimeout(f,0)}(""+nn).indexOf("[native code]")===-1&&(dn=wr=Le);var Nt=ut.reject,Ur="",er="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",gr="String expected.",ze=[],Bs="__dbnames",En="readonly",fi="readwrite";function Ga(f,v){return f?v?function(){return f.apply(this,arguments)&&v.apply(this,arguments)}:f:v}var mn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function rn(f){return typeof f!="string"||/\./.test(f)?function(v){return v}:function(v){return v[f]===void 0&&f in v&&delete(v=J(v))[f],v}}function Jt(){throw Ye.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Wt(f,v){try{var _=wi(f),C=wi(v);if(_!==C)return _==="Array"?1:C==="Array"?-1:_==="binary"?1:C==="binary"?-1:_==="string"?1:C==="string"?-1:_==="Date"?1:C!=="Date"?NaN:-1;switch(_){case"number":case"Date":case"string":return v<f?1:f<v?-1:0;case"binary":for(var O=pr(f),M=pr(v),F=O.length,z=M.length,X=F<z?F:z,re=0;re<X;++re)if(O[re]!==M[re])return O[re]<M[re]?-1:1;return F===z?0:F<z?-1:1;case"Array":for(var te=f,oe=v,ce=te.length,le=oe.length,me=ce<le?ce:le,de=0;de<me;++de){var be=Wt(te[de],oe[de]);if(be!==0)return be}return ce===le?0:ce<le?-1:1}}catch{}return NaN}function wi(f){var v=typeof f;return v=="object"&&(ArrayBuffer.isView(f)||(v=pe(f))==="ArrayBuffer")?"binary":v}function pr(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}function en(f,v,_){var C=f.schema.yProps;return C?(v&&0<_.numFailures&&(v=v.filter(function(O,M){return!_.failures[M]})),Promise.all(C.map(function(O){return O=O.updatesTable,v?f.db.table(O).where("k").anyOf(v).delete():f.db.table(O).clear()})).then(function(){return _})):_}To.prototype.execute=function(f){var v=this["@@propmod"];if(v.add!==void 0){var _=v.add;if(h(_))return i(i([],h(f)?f:[],!0),_).sort();if(typeof _=="number")return(Number(f)||0)+_;if(typeof _=="bigint")try{return BigInt(f)+_}catch{return BigInt(0)+_}throw new TypeError("Invalid term ".concat(_))}if(v.remove!==void 0){var C=v.remove;if(h(C))return h(f)?f.filter(function(O){return!C.includes(O)}).sort():[];if(typeof C=="number")return Number(f)-C;if(typeof C=="bigint")try{return BigInt(f)-C}catch{return BigInt(0)-C}throw new TypeError("Invalid subtrahend ".concat(C))}return _=(_=v.replacePrefix)==null?void 0:_[0],_&&typeof f=="string"&&f.startsWith(_)?v.replacePrefix[1]+f.substring(_.length):f};var Yr=To;function To(f){this["@@propmod"]=f}function Mt(f,v){for(var _=c(v),C=_.length,O=!1,M=0;M<C;++M){var F=_[M],z=v[F],X=Q(f,F);z instanceof Yr?(U(f,F,z.execute(X)),O=!0):X!==z&&(U(f,F,z),O=!0)}return O}gn.prototype._trans=function(f,v,_){var C=this._tx||Xe.trans,O=this.name,M=ot&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(f==="readonly"?"read":"write"," ").concat(this.name));function F(re,te,oe){if(oe.schema[O])return v(oe.idbtrans,oe);throw new Ye.NotFound("Table "+O+" not part of transaction")}var z=Lr();try{var X=C&&C.db._novip===this.db._novip?C===Xe.trans?C._promise(f,F,_):jn(function(){return C._promise(f,F,_)},{trans:C,transless:Xe.transless||Xe}):(function re(te,oe,ce,le){if(te.idbdb&&(te._state.openComplete||Xe.letThrough||te._vip)){var me=te._createTransaction(oe,ce,te._dbSchema);try{me.create(),te._state.PR1398_maxLoop=3}catch(de){return de.name===Tt.InvalidState&&te.isOpen()&&0<--te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),te.close({disableAutoOpen:!1}),te.open().then(function(){return re(te,oe,ce,le)})):Nt(de)}return me._promise(oe,function(de,be){return jn(function(){return Xe.trans=me,le(de,be,me)})}).then(function(de){if(oe==="readwrite")try{me.idbtrans.commit()}catch{}return oe==="readonly"?de:me._completion.then(function(){return de})})}if(te._state.openComplete)return Nt(new Ye.DatabaseClosed(te._state.dbOpenError));if(!te._state.isBeingOpened){if(!te._state.autoOpen)return Nt(new Ye.DatabaseClosed);te.open().catch(Le)}return te._state.dbReadyPromise.then(function(){return re(te,oe,ce,le)})})(this.db,f,[this.name],F);return M&&(X._consoleTask=M,X=X.catch(function(re){return console.trace(re),Nt(re)})),X}finally{z&&Ri()}},gn.prototype.get=function(f,v){var _=this;return f&&f.constructor===Object?this.where(f).first(v):f==null?Nt(new Ye.Type("Invalid argument to Table.get()")):this._trans("readonly",function(C){return _.core.get({trans:C,key:f}).then(function(O){return _.hook.reading.fire(O)})}).then(v)},gn.prototype.where=function(f){if(typeof f=="string")return new this.db.WhereClause(this,f);if(h(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var v=c(f);if(v.length===1)return this.where(v[0]).equals(f[v[0]]);var _=this.schema.indexes.concat(this.schema.primKey).filter(function(z){if(z.compound&&v.every(function(re){return 0<=z.keyPath.indexOf(re)})){for(var X=0;X<v.length;++X)if(v.indexOf(z.keyPath[X])===-1)return!1;return!0}return!1}).sort(function(z,X){return z.keyPath.length-X.keyPath.length})[0];if(_&&this.db._maxKey!==Ur)return F=_.keyPath.slice(0,v.length),this.where(F).equals(F.map(function(z){return f[z]}));!_&&ot&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(v.join("+"),"]"));var C=this.schema.idxByName;function O(z,X){return Wt(z,X)===0}var F=v.reduce(function(te,X){var re=te[0],te=te[1],oe=C[X],ce=f[X];return[re||oe,re||!oe?Ga(te,oe&&oe.multi?function(le){return le=Q(le,X),h(le)&&le.some(function(me){return O(ce,me)})}:function(le){return O(ce,Q(le,X))}):te]},[null,null]),M=F[0],F=F[1];return M?this.where(M.name).equals(f[M.keyPath]).filter(F):_?this.filter(F):this.where(v).equals("")},gn.prototype.filter=function(f){return this.toCollection().and(f)},gn.prototype.count=function(f){return this.toCollection().count(f)},gn.prototype.offset=function(f){return this.toCollection().offset(f)},gn.prototype.limit=function(f){return this.toCollection().limit(f)},gn.prototype.each=function(f){return this.toCollection().each(f)},gn.prototype.toArray=function(f){return this.toCollection().toArray(f)},gn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},gn.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,h(f)?"[".concat(f.join("+"),"]"):f))},gn.prototype.reverse=function(){return this.toCollection().reverse()},gn.prototype.mapToClass=function(f){for(var v=this.db,_=this.name,C=((this.schema.mappedClass=f).prototype instanceof Jt&&(f=(F=>{var z=te,X=F;if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function re(){this.constructor=z}function te(){return F!==null&&F.apply(this,arguments)||this}return n(z,X),z.prototype=X===null?Object.create(X):(re.prototype=X.prototype,new re),Object.defineProperty(te.prototype,"db",{get:function(){return v},enumerable:!1,configurable:!0}),te.prototype.table=function(){return _},te})(f)),new Set),O=f.prototype;O;O=g(O))Object.getOwnPropertyNames(O).forEach(function(F){return C.add(F)});function M(F){if(!F)return F;var z,X=Object.create(f.prototype);for(z in F)if(!C.has(z))try{X[z]=F[z]}catch{}return X}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=M,this.hook("reading",M),f},gn.prototype.defineClass=function(){return this.mapToClass(function(f){y(this,f)})},gn.prototype.add=function(f,v){var _=this,C=this.schema.primKey,O=C.auto,M=C.keyPath,F=f;return M&&O&&(F=rn(M)(f)),this._trans("readwrite",function(z){return _.core.mutate({trans:z,type:"add",keys:v!=null?[v]:null,values:[F]})}).then(function(z){return z.numFailures?ut.reject(z.failures[0]):z.lastResult}).then(function(z){if(M)try{U(f,M,z)}catch{}return z})},gn.prototype.upsert=function(f,v){var _=this,C=this.schema.primKey.keyPath;return this._trans("readwrite",function(O){return _.core.get({trans:O,key:f}).then(function(M){var F=M??{};return Mt(F,v),C&&U(F,C,f),_.core.mutate({trans:O,type:"put",values:[F],keys:[f],upsert:!0,updates:{keys:[f],changeSpecs:[v]}}).then(function(z){return z.numFailures?ut.reject(z.failures[0]):!!M})})})},gn.prototype.update=function(f,v){return typeof f!="object"||h(f)?this.where(":id").equals(f).modify(v):(f=Q(f,this.schema.primKey.keyPath))===void 0?Nt(new Ye.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(v)},gn.prototype.put=function(f,v){var _=this,C=this.schema.primKey,O=C.auto,M=C.keyPath,F=f;return M&&O&&(F=rn(M)(f)),this._trans("readwrite",function(z){return _.core.mutate({trans:z,type:"put",values:[F],keys:v!=null?[v]:null})}).then(function(z){return z.numFailures?ut.reject(z.failures[0]):z.lastResult}).then(function(z){if(M)try{U(f,M,z)}catch{}return z})},gn.prototype.delete=function(f){var v=this;return this._trans("readwrite",function(_){return v.core.mutate({trans:_,type:"delete",keys:[f]}).then(function(C){return en(v,[f],C)}).then(function(C){return C.numFailures?ut.reject(C.failures[0]):void 0})})},gn.prototype.clear=function(){var f=this;return this._trans("readwrite",function(v){return f.core.mutate({trans:v,type:"deleteRange",range:mn}).then(function(_){return en(f,null,_)})}).then(function(v){return v.numFailures?ut.reject(v.failures[0]):void 0})},gn.prototype.bulkGet=function(f){var v=this;return this._trans("readonly",function(_){return v.core.getMany({keys:f,trans:_}).then(function(C){return C.map(function(O){return v.hook.reading.fire(O)})})})},gn.prototype.bulkAdd=function(f,v,_){var C=this,O=Array.isArray(v)?v:void 0,M=(_=_||(O?void 0:v))?_.allKeys:void 0;return this._trans("readwrite",function(F){var z=C.schema.primKey,re=z.auto,z=z.keyPath;if(z&&O)throw new Ye.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(O&&O.length!==f.length)throw new Ye.InvalidArgument("Arguments objects and keys must have the same length");var X=f.length,re=z&&re?f.map(rn(z)):f;return C.core.mutate({trans:F,type:"add",keys:O,values:re,wantResults:M}).then(function(te){var oe=te.numFailures,ce=te.failures;if(oe===0)return M?te.results:te.lastResult;throw new et("".concat(C.name,".bulkAdd(): ").concat(oe," of ").concat(X," operations failed"),ce)})})},gn.prototype.bulkPut=function(f,v,_){var C=this,O=Array.isArray(v)?v:void 0,M=(_=_||(O?void 0:v))?_.allKeys:void 0;return this._trans("readwrite",function(F){var z=C.schema.primKey,re=z.auto,z=z.keyPath;if(z&&O)throw new Ye.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(O&&O.length!==f.length)throw new Ye.InvalidArgument("Arguments objects and keys must have the same length");var X=f.length,re=z&&re?f.map(rn(z)):f;return C.core.mutate({trans:F,type:"put",keys:O,values:re,wantResults:M}).then(function(te){var oe=te.numFailures,ce=te.failures;if(oe===0)return M?te.results:te.lastResult;throw new et("".concat(C.name,".bulkPut(): ").concat(oe," of ").concat(X," operations failed"),ce)})})},gn.prototype.bulkUpdate=function(f){var v=this,_=this.core,C=f.map(function(F){return F.key}),O=f.map(function(F){return F.changes}),M=[];return this._trans("readwrite",function(F){return _.getMany({trans:F,keys:C,cache:"clone"}).then(function(z){var X=[],re=[],te=(f.forEach(function(oe,ce){var le=oe.key,me=oe.changes,de=z[ce];if(de){for(var be=0,Ce=Object.keys(me);be<Ce.length;be++){var xe=Ce[be],Pe=me[xe];if(xe===v.schema.primKey.keyPath){if(Wt(Pe,le)!==0)throw new Ye.Constraint("Cannot update primary key in bulkUpdate()")}else U(de,xe,Pe)}M.push(ce),X.push(le),re.push(de)}}),X.length);return _.mutate({trans:F,type:"put",keys:X,values:re,updates:{keys:C,changeSpecs:O}}).then(function(oe){var ce=oe.numFailures,le=oe.failures;if(ce===0)return te;for(var me=0,de=Object.keys(le);me<de.length;me++){var be,Ce=de[me],xe=M[Number(Ce)];xe!=null&&(be=le[Ce],delete le[Ce],le[xe]=be)}throw new et("".concat(v.name,".bulkUpdate(): ").concat(ce," of ").concat(te," operations failed"),le)})})})},gn.prototype.bulkDelete=function(f){var v=this,_=f.length;return this._trans("readwrite",function(C){return v.core.mutate({trans:C,type:"delete",keys:f}).then(function(O){return en(v,f,O)})}).then(function(C){var O=C.numFailures,M=C.failures;if(O===0)return C.lastResult;throw new et("".concat(v.name,".bulkDelete(): ").concat(O," of ").concat(_," operations failed"),M)})};var Pi=gn;function gn(){}function Ei(f){function v(F,z){if(z){for(var X=arguments.length,re=new Array(X-1);--X;)re[X-1]=arguments[X];return _[F].subscribe.apply(null,re),f}if(typeof F=="string")return _[F]}var _={};v.addEventType=M;for(var C=1,O=arguments.length;C<O;++C)M(arguments[C]);return v;function M(F,z,X){var re,te;if(typeof F!="object")return z=z||Ot,te={subscribers:[],fire:X=X||Le,subscribe:function(oe){te.subscribers.indexOf(oe)===-1&&(te.subscribers.push(oe),te.fire=z(te.fire,oe))},unsubscribe:function(oe){te.subscribers=te.subscribers.filter(function(ce){return ce!==oe}),te.fire=te.subscribers.reduce(z,X)}},_[F]=v[F]=te;c(re=F).forEach(function(oe){var ce=re[oe];if(h(ce))M(oe,re[oe][0],re[oe][1]);else{if(ce!=="asap")throw new Ye.InvalidArgument("Invalid event config");var le=M(oe,At,function(){for(var me=arguments.length,de=new Array(me);me--;)de[me]=arguments[me];le.subscribers.forEach(function(be){fe(function(){be.apply(null,de)})})})}})}}function qt(f,v){return k(v).from({prototype:f}),v}function $n(f,v){return!(f.filter||f.algorithm||f.or)&&(v?f.justLimit:!f.replayFilter)}function Se(f,v){f.filter=Ga(f.filter,v)}function ue(f,v,_){var C=f.replayFilter;f.replayFilter=C?function(){return Ga(C(),v())}:v,f.justLimit=_&&!C}function gt(f,v){if(f.isPrimKey)return v.primaryKey;var _=v.getIndexByKeyPath(f.index);if(_)return _;throw new Ye.Schema("KeyPath "+f.index+" on object store "+v.name+" is not indexed")}function Er(f,v,_){var C=gt(f,v.schema);return v.openCursor({trans:_,values:!f.keysOnly,reverse:f.dir==="prev",unique:!!f.unique,query:{index:C,range:f.range}})}function _r(f,v,_,C){var O,M,F=f.replayFilter?Ga(f.filter,f.replayFilter()):f.filter;return f.or?(O={},M=function(z,X,re){var te,oe;F&&!F(X,re,function(ce){return X.stop(ce)},function(ce){return X.fail(ce)})||((oe=""+(te=X.primaryKey))=="[object ArrayBuffer]"&&(oe=""+new Uint8Array(te)),A(O,oe))||(O[oe]=!0,v(z,X,re))},Promise.all([f.or._iterate(M,_),Di(Er(f,C,_),f.algorithm,M,!f.keysOnly&&f.valueMapper)])):Di(Er(f,C,_),Ga(f.algorithm,F),v,!f.keysOnly&&f.valueMapper)}function Di(f,v,_,C){var O=xn(C?function(M,F,z){return _(C(M),F,z)}:_);return f.then(function(M){if(M)return M.start(function(){var F=function(){return M.continue()};v&&!v(M,function(z){return F=z},function(z){M.stop(z),F=Le},function(z){M.fail(z),F=Le})||O(M.value,M,function(z){return F=z}),F()})})}Lt.prototype._read=function(f,v){var _=this._ctx;return _.error?_.table._trans(null,Nt.bind(null,_.error)):_.table._trans("readonly",f).then(v)},Lt.prototype._write=function(f){var v=this._ctx;return v.error?v.table._trans(null,Nt.bind(null,v.error)):v.table._trans("readwrite",f,"locked")},Lt.prototype._addAlgorithm=function(f){var v=this._ctx;v.algorithm=Ga(v.algorithm,f)},Lt.prototype._iterate=function(f,v){return _r(this._ctx,f,v,this._ctx.table.core)},Lt.prototype.clone=function(f){var v=Object.create(this.constructor.prototype),_=Object.create(this._ctx);return f&&y(_,f),v._ctx=_,v},Lt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Lt.prototype.each=function(f){var v=this._ctx;return this._read(function(_){return _r(v,f,_,v.table.core)})},Lt.prototype.count=function(f){var v=this;return this._read(function(_){var C,O=v._ctx,M=O.table.core;return $n(O,!0)?M.count({trans:_,query:{index:gt(O,M.schema),range:O.range}}).then(function(F){return Math.min(F,O.limit)}):(C=0,_r(O,function(){return++C,!1},_,M).then(function(){return C}))}).then(f)},Lt.prototype.sortBy=function(f,v){var _=f.split(".").reverse(),C=_[0],O=_.length-1;function M(X,re){return re?M(X[_[re]],re-1):X[C]}var F=this._ctx.dir==="next"?1:-1;function z(X,re){return Wt(M(X,O),M(re,O))*F}return this.toArray(function(X){return X.sort(z)}).then(v)},Lt.prototype.toArray=function(f){var v=this;return this._read(function(_){var C,O,M,F=v._ctx;return F.dir==="next"&&$n(F,!0)&&0<F.limit?(C=F.valueMapper,O=gt(F,F.table.core.schema),F.table.core.query({trans:_,limit:F.limit,values:!0,query:{index:O,range:F.range}}).then(function(z){return z=z.result,C?z.map(C):z})):(M=[],_r(F,function(z){return M.push(z)},_,F.table.core).then(function(){return M}))},f)},Lt.prototype.offset=function(f){var v=this._ctx;return f<=0||(v.offset+=f,$n(v)?ue(v,function(){var _=f;return function(C,O){return _===0||(_===1?--_:O(function(){C.advance(_),_=0}),!1)}}):ue(v,function(){var _=f;return function(){return--_<0}})),this},Lt.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),ue(this._ctx,function(){var v=f;return function(_,C,O){return--v<=0&&C(O),0<=v}},!0),this},Lt.prototype.until=function(f,v){return Se(this._ctx,function(_,C,O){return!f(_.value)||(C(O),v)}),this},Lt.prototype.first=function(f){return this.limit(1).toArray(function(v){return v[0]}).then(f)},Lt.prototype.last=function(f){return this.reverse().first(f)},Lt.prototype.filter=function(f){var v;return Se(this._ctx,function(_){return f(_.value)}),(v=this._ctx).isMatch=Ga(v.isMatch,f),this},Lt.prototype.and=function(f){return this.filter(f)},Lt.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},Lt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Lt.prototype.desc=function(){return this.reverse()},Lt.prototype.eachKey=function(f){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(_,C){f(C.key,C)})},Lt.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},Lt.prototype.eachPrimaryKey=function(f){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(_,C){f(C.primaryKey,C)})},Lt.prototype.keys=function(f){var v=this._ctx,_=(v.keysOnly=!v.isMatch,[]);return this.each(function(C,O){_.push(O.key)}).then(function(){return _}).then(f)},Lt.prototype.primaryKeys=function(f){var v=this._ctx;if(v.dir==="next"&&$n(v,!0)&&0<v.limit)return this._read(function(C){var O=gt(v,v.table.core.schema);return v.table.core.query({trans:C,values:!1,limit:v.limit,query:{index:O,range:v.range}})}).then(function(C){return C.result}).then(f);v.keysOnly=!v.isMatch;var _=[];return this.each(function(C,O){_.push(O.primaryKey)}).then(function(){return _}).then(f)},Lt.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},Lt.prototype.firstKey=function(f){return this.limit(1).keys(function(v){return v[0]}).then(f)},Lt.prototype.lastKey=function(f){return this.reverse().firstKey(f)},Lt.prototype.distinct=function(){var f,v=this._ctx,v=v.index&&v.table.schema.idxByName[v.index];return v&&v.multi&&(f={},Se(this._ctx,function(C){var C=C.primaryKey.toString(),O=A(f,C);return f[C]=!0,!O})),this},Lt.prototype.modify=function(f){var v=this,_=this._ctx;return this._write(function(C){function O(de,be){var Ce=be.failures;ce+=de-be.numFailures;for(var xe=0,Pe=c(Ce);xe<Pe.length;xe++){var qe=Pe[xe];oe.push(Ce[qe])}}var M=typeof f=="function"?f:function(de){return Mt(de,f)},F=_.table.core,te=F.schema.primaryKey,z=te.outbound,X=te.extractKey,re=200,te=v.db._options.modifyChunkSize,oe=(te&&(re=typeof te=="object"?te[F.name]||te["*"]||200:te),[]),ce=0,le=[],me=f===Et;return v.clone().primaryKeys().then(function(de){function be(xe){var Pe=Math.min(re,de.length-xe),qe=de.slice(xe,xe+Pe);return(me?Promise.resolve([]):F.getMany({trans:C,keys:qe,cache:"immutable"})).then(function(it){var lt=[],Ze=[],ht=z?[]:null,ft=me?qe:[];if(!me)for(var tt=0;tt<Pe;++tt){var mt=it[tt],Gt={value:J(mt),primKey:de[xe+tt]};M.call(Gt,Gt.value,Gt)!==!1&&(Gt.value==null?ft.push(de[xe+tt]):z||Wt(X(mt),X(Gt.value))===0?(Ze.push(Gt.value),z&&ht.push(de[xe+tt])):(ft.push(de[xe+tt]),lt.push(Gt.value)))}return Promise.resolve(0<lt.length&&F.mutate({trans:C,type:"add",values:lt}).then(function(vn){for(var Pt in vn.failures)ft.splice(parseInt(Pt),1);O(lt.length,vn)})).then(function(){return(0<Ze.length||Ce&&typeof f=="object")&&F.mutate({trans:C,type:"put",keys:ht,values:Ze,criteria:Ce,changeSpec:typeof f!="function"&&f,isAdditionalChunk:0<xe}).then(function(vn){return O(Ze.length,vn)})}).then(function(){return(0<ft.length||Ce&&me)&&F.mutate({trans:C,type:"delete",keys:ft,criteria:Ce,isAdditionalChunk:0<xe}).then(function(vn){return en(_.table,ft,vn)}).then(function(vn){return O(ft.length,vn)})}).then(function(){return de.length>xe+Pe&&be(xe+re)})})}var Ce=$n(_)&&_.limit===1/0&&(typeof f!="function"||me)&&{index:_.index,range:_.range};return be(0).then(function(){if(0<oe.length)throw new Ne("Error modifying one or more objects",oe,ce,le);return de.length})})})},Lt.prototype.delete=function(){var f=this._ctx,v=f.range;return!$n(f)||f.table.schema.yProps||!f.isPrimKey&&v.type!==3?this.modify(Et):this._write(function(_){var C=f.table.core.schema.primaryKey,O=v;return f.table.core.count({trans:_,query:{index:C,range:O}}).then(function(M){return f.table.core.mutate({trans:_,type:"deleteRange",range:O}).then(function(X){var z=X.failures,X=X.numFailures;if(X)throw new Ne("Could not delete some values",Object.keys(z).map(function(re){return z[re]}),M-X);return M-X})})})};var Io=Lt;function Lt(){}var Et=function(f,v){return v.value=null};function Ln(f,v){return f<v?-1:f===v?0:1}function dl(f,v){return v<f?-1:f===v?0:1}function Vr(f,v,_){return f=f instanceof Xn?new f.Collection(f):f,f._ctx.error=new(_||TypeError)(v),f}function aa(f){return new f.Collection(f,function(){return sa("")}).limit(0)}function di(le,v,_,C){var O,M,F,z,X,re,te,oe=_.length;if(!_.every(function(de){return typeof de=="string"}))return Vr(le,gr);function ce(de){O=de==="next"?function(Ce){return Ce.toUpperCase()}:function(Ce){return Ce.toLowerCase()},M=de==="next"?function(Ce){return Ce.toLowerCase()}:function(Ce){return Ce.toUpperCase()},F=de==="next"?Ln:dl;var be=_.map(function(Ce){return{lower:M(Ce),upper:O(Ce)}}).sort(function(Ce,xe){return F(Ce.lower,xe.lower)});z=be.map(function(Ce){return Ce.upper}),X=be.map(function(Ce){return Ce.lower}),te=(re=de)==="next"?"":C}ce("next");var le=new le.Collection(le,function(){return Gi(z[0],X[oe-1]+C)}),me=(le._ondirectionchange=function(de){ce(de)},0);return le._addAlgorithm(function(de,be,Ce){var xe=de.key;if(typeof xe=="string"){var Pe=M(xe);if(v(Pe,X,me))return!0;for(var qe=null,it=me;it<oe;++it){var lt=((Ze,ht,ft,tt,mt,Gt)=>{for(var vn=Math.min(Ze.length,tt.length),Pt=-1,Yt=0;Yt<vn;++Yt){var lr=ht[Yt];if(lr!==tt[Yt])return mt(Ze[Yt],ft[Yt])<0?Ze.substr(0,Yt)+ft[Yt]+ft.substr(Yt+1):mt(Ze[Yt],tt[Yt])<0?Ze.substr(0,Yt)+tt[Yt]+ft.substr(Yt+1):0<=Pt?Ze.substr(0,Pt)+ht[Pt]+ft.substr(Pt+1):null;mt(Ze[Yt],lr)<0&&(Pt=Yt)}return vn<tt.length&&Gt==="next"?Ze+ft.substr(Ze.length):vn<Ze.length&&Gt==="prev"?Ze.substr(0,ft.length):Pt<0?null:Ze.substr(0,Pt)+tt[Pt]+ft.substr(Pt+1)})(xe,Pe,z[it],X[it],F,re);lt===null&&qe===null?me=it+1:(qe===null||0<F(qe,lt))&&(qe=lt)}be(qe!==null?function(){de.continue(qe+te)}:Ce)}return!1}),le}function Gi(f,v,_,C){return{type:2,lower:f,upper:v,lowerOpen:_,upperOpen:C}}function sa(f){return{type:1,lower:f,upper:f}}Object.defineProperty(Pn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Pn.prototype.between=function(f,v,_,C){_=_!==!1,C=C===!0;try{return 0<this._cmp(f,v)||this._cmp(f,v)===0&&(_||C)&&(!_||!C)?aa(this):new this.Collection(this,function(){return Gi(f,v,!_,!C)})}catch{return Vr(this,er)}},Pn.prototype.equals=function(f){return f==null?Vr(this,er):new this.Collection(this,function(){return sa(f)})},Pn.prototype.above=function(f){return f==null?Vr(this,er):new this.Collection(this,function(){return Gi(f,void 0,!0)})},Pn.prototype.aboveOrEqual=function(f){return f==null?Vr(this,er):new this.Collection(this,function(){return Gi(f,void 0,!1)})},Pn.prototype.below=function(f){return f==null?Vr(this,er):new this.Collection(this,function(){return Gi(void 0,f,!1,!0)})},Pn.prototype.belowOrEqual=function(f){return f==null?Vr(this,er):new this.Collection(this,function(){return Gi(void 0,f)})},Pn.prototype.startsWith=function(f){return typeof f!="string"?Vr(this,gr):this.between(f,f+Ur,!0,!0)},Pn.prototype.startsWithIgnoreCase=function(f){return f===""?this.startsWith(f):di(this,function(v,_){return v.indexOf(_[0])===0},[f],Ur)},Pn.prototype.equalsIgnoreCase=function(f){return di(this,function(v,_){return v===_[0]},[f],"")},Pn.prototype.anyOfIgnoreCase=function(){var f=st.apply(Ue,arguments);return f.length===0?aa(this):di(this,function(v,_){return _.indexOf(v)!==-1},f,"")},Pn.prototype.startsWithAnyOfIgnoreCase=function(){var f=st.apply(Ue,arguments);return f.length===0?aa(this):di(this,function(v,_){return _.some(function(C){return v.indexOf(C)===0})},f,Ur)},Pn.prototype.anyOf=function(){var f,v,_=this,C=st.apply(Ue,arguments),O=this._cmp;try{C.sort(O)}catch{return Vr(this,er)}return C.length===0?aa(this):((f=new this.Collection(this,function(){return Gi(C[0],C[C.length-1])}))._ondirectionchange=function(M){O=M==="next"?_._ascending:_._descending,C.sort(O)},v=0,f._addAlgorithm(function(M,F,z){for(var X=M.key;0<O(X,C[v]);)if(++v===C.length)return F(z),!1;return O(X,C[v])===0||(F(function(){M.continue(C[v])}),!1)}),f)},Pn.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Pn.prototype.noneOf=function(){var f=st.apply(Ue,arguments);if(f.length===0)return new this.Collection(this);try{f.sort(this._ascending)}catch{return Vr(this,er)}var v=f.reduce(function(_,C){return _?_.concat([[_[_.length-1][1],C]]):[[-1/0,C]]},null);return v.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(v,{includeLowers:!1,includeUppers:!1})},Pn.prototype.inAnyRange=function(f,Ce){var _=this,C=this._cmp,O=this._ascending,M=this._descending,F=this._min,z=this._max;if(f.length===0)return aa(this);if(!f.every(function(xe){return xe[0]!==void 0&&xe[1]!==void 0&&O(xe[0],xe[1])<=0}))return Vr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ye.InvalidArgument);var X=!Ce||Ce.includeLowers!==!1,re=Ce&&Ce.includeUppers===!0,te,oe=O;function ce(xe,Pe){return oe(xe[0],Pe[0])}try{(te=f.reduce(function(xe,Pe){for(var qe=0,it=xe.length;qe<it;++qe){var lt=xe[qe];if(C(Pe[0],lt[1])<0&&0<C(Pe[1],lt[0])){lt[0]=F(lt[0],Pe[0]),lt[1]=z(lt[1],Pe[1]);break}}return qe===it&&xe.push(Pe),xe},[])).sort(ce)}catch{return Vr(this,er)}var le=0,me=re?function(xe){return 0<O(xe,te[le][1])}:function(xe){return 0<=O(xe,te[le][1])},de=X?function(xe){return 0<M(xe,te[le][0])}:function(xe){return 0<=M(xe,te[le][0])},be=me,Ce=new this.Collection(this,function(){return Gi(te[0][0],te[te.length-1][1],!X,!re)});return Ce._ondirectionchange=function(xe){oe=xe==="next"?(be=me,O):(be=de,M),te.sort(ce)},Ce._addAlgorithm(function(xe,Pe,qe){for(var it,lt=xe.key;be(lt);)if(++le===te.length)return Pe(qe),!1;return!me(it=lt)&&!de(it)||(_._cmp(lt,te[le][1])===0||_._cmp(lt,te[le][0])===0||Pe(function(){oe===O?xe.continue(te[le][0]):xe.continue(te[le][1])}),!1)}),Ce},Pn.prototype.startsWithAnyOf=function(){var f=st.apply(Ue,arguments);return f.every(function(v){return typeof v=="string"})?f.length===0?aa(this):this.inAnyRange(f.map(function(v){return[v,v+Ur]})):Vr(this,"startsWithAnyOf() only works with strings")};var Xn=Pn;function Pn(){}function yr(f){return xn(function(v){return _t(v),f(v.target.error),!1})}function _t(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var Ta="storagemutated",Rt="x-storagemutated-1",pn=Ei(null,Ta),uo=(tn.prototype._lock=function(){return ne(!Xe.global),++this._reculock,this._reculock!==1||Xe.global||(Xe.lockOwnerFor=this),this},tn.prototype._unlock=function(){if(ne(!Xe.global),--this._reculock==0)for(Xe.global||(Xe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{xi(f[1],f[0])}catch{}}return this},tn.prototype._locked=function(){return this._reculock&&Xe.lockOwnerFor!==this},tn.prototype.create=function(f){var v=this;if(this.mode){var _=this.db.idbdb,C=this.db._state.dbOpenError;if(ne(!this.idbtrans),!f&&!_)switch(C&&C.name){case"DatabaseClosedError":throw new Ye.DatabaseClosed(C);case"MissingAPIError":throw new Ye.MissingAPI(C.message,C);default:throw new Ye.OpenFailed(C)}if(!this.active)throw new Ye.TransactionInactive;ne(this._completion._state===null),(f=this.idbtrans=f||(this.db.core||_).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=xn(function(O){_t(O),v._reject(f.error)}),f.onabort=xn(function(O){_t(O),v.active&&v._reject(new Ye.Abort(f.error)),v.active=!1,v.on("abort").fire(O)}),f.oncomplete=xn(function(){v.active=!1,v._resolve(),"mutatedParts"in f&&pn.storagemutated.fire(f.mutatedParts)})}return this},tn.prototype._promise=function(f,v,_){var C,O=this;return f==="readwrite"&&this.mode!=="readwrite"?Nt(new Ye.ReadOnly("Transaction is readonly")):this.active?this._locked()?new ut(function(M,F){O._blockedFuncs.push([function(){O._promise(f,v,_).then(M,F)},Xe])}):_?jn(function(){var M=new ut(function(F,z){O._lock();var X=v(F,z,O);X&&X.then&&X.then(F,z)});return M.finally(function(){return O._unlock()}),M._lib=!0,M}):((C=new ut(function(M,F){var z=v(M,F,O);z&&z.then&&z.then(M,F)}))._lib=!0,C):Nt(new Ye.TransactionInactive)},tn.prototype._root=function(){return this.parent?this.parent._root():this},tn.prototype.waitFor=function(f){var v,_=this._root(),C=ut.resolve(f),O=(_._waitingFor?_._waitingFor=_._waitingFor.then(function(){return C}):(_._waitingFor=C,_._waitingQueue=[],v=_.idbtrans.objectStore(_.storeNames[0]),(function M(){for(++_._spinCount;_._waitingQueue.length;)_._waitingQueue.shift()();_._waitingFor&&(v.get(-1/0).onsuccess=M)})()),_._waitingFor);return new ut(function(M,F){C.then(function(z){return _._waitingQueue.push(xn(M.bind(null,z)))},function(z){return _._waitingQueue.push(xn(F.bind(null,z)))}).finally(function(){_._waitingFor===O&&(_._waitingFor=null)})})},tn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ye.Abort))},tn.prototype.table=function(f){var v=this._memoizedTables||(this._memoizedTables={});if(A(v,f))return v[f];var _=this.schema[f];if(_)return(_=new this.db.Table(f,_,this)).core=this.db.core.table(f),v[f]=_;throw new Ye.NotFound("Table "+f+" not part of transaction")},tn);function tn(){}function oa(f,v,_,C,O,M,F,z){return{name:f,keyPath:v,unique:_,multi:C,auto:O,compound:M,src:(_&&!F?"&":"")+(C?"*":"")+(O?"++":"")+Ia(v),type:z}}function Ia(f){return typeof f=="string"?f:f?"["+[].join.call(f,"+")+"]":""}function ws(f,v,_){return{name:f,primKey:v,indexes:_,mappedClass:null,idxByName:(C=function(O){return[O.name,O]},_.reduce(function(O,M,F){return M=C(M,F),M&&(O[M[0]]=M[1]),O},{}))};var C}var la=function(f){try{return f.only([[]]),la=function(){return[[]]},[[]]}catch{return la=function(){return Ur},Ur}};function ua(f){return f==null?function(){}:typeof f=="string"?(v=f).split(".").length===1?function(_){return _[v]}:function(_){return Q(_,v)}:function(_){return Q(_,f)};var v}function Wi(f){return[].slice.call(f)}var Oa=0;function tr(f){return f==null?":id":typeof f=="string"?f:"[".concat(f.join("+"),"]")}function ca(f,v,X){function C(me){if(me.type===3)return null;if(me.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var oe=me.lower,ce=me.upper,le=me.lowerOpen,me=me.upperOpen;return oe===void 0?ce===void 0?null:v.upperBound(ce,!!me):ce===void 0?v.lowerBound(oe,!!le):v.bound(oe,ce,!!le,!!me)}function O(te){var oe,ce=te.name;return{name:ce,schema:te,mutate:function(le){var me=le.trans,de=le.type,be=le.keys,Ce=le.values,xe=le.range;return new Promise(function(Pe,qe){Pe=xn(Pe);var it=me.objectStore(ce),lt=it.keyPath==null,Ze=de==="put"||de==="add";if(!Ze&&de!=="delete"&&de!=="deleteRange")throw new Error("Invalid operation type: "+de);var ht,ft=(be||Ce||{length:1}).length;if(be&&Ce&&be.length!==Ce.length)throw new Error("Given keys array must have same length as given values array.");if(ft===0)return Pe({numFailures:0,failures:{},results:[],lastResult:void 0});function tt(Qn){++vn,_t(Qn)}var mt=[],Gt=[],vn=0;if(de==="deleteRange"){if(xe.type===4)return Pe({numFailures:vn,failures:Gt,results:[],lastResult:void 0});xe.type===3?mt.push(ht=it.clear()):mt.push(ht=it.delete(C(xe)))}else{var lt=Ze?lt?[Ce,be]:[Ce,null]:[be,null],Pt=lt[0],Yt=lt[1];if(Ze)for(var lr=0;lr<ft;++lr)mt.push(ht=Yt&&Yt[lr]!==void 0?it[de](Pt[lr],Yt[lr]):it[de](Pt[lr])),ht.onerror=tt;else for(lr=0;lr<ft;++lr)mt.push(ht=it[de](Pt[lr])),ht.onerror=tt}function ka(Qn){Qn=Qn.target.result,mt.forEach(function(Mo,fu){return Mo.error!=null&&(Gt[fu]=Mo.error)}),Pe({numFailures:vn,failures:Gt,results:de==="delete"?be:mt.map(function(Mo){return Mo.result}),lastResult:Qn})}ht.onerror=function(Qn){tt(Qn),ka(Qn)},ht.onsuccess=ka})},getMany:function(le){var me=le.trans,de=le.keys;return new Promise(function(be,Ce){be=xn(be);for(var xe,Pe=me.objectStore(ce),qe=de.length,it=new Array(qe),lt=0,Ze=0,ht=function(mt){mt=mt.target,it[mt._pos]=mt.result,++Ze===lt&&be(it)},ft=yr(Ce),tt=0;tt<qe;++tt)de[tt]!=null&&((xe=Pe.get(de[tt]))._pos=tt,xe.onsuccess=ht,xe.onerror=ft,++lt);lt===0&&be(it)})},get:function(le){var me=le.trans,de=le.key;return new Promise(function(be,Ce){be=xn(be);var xe=me.objectStore(ce).get(de);xe.onsuccess=function(Pe){return be(Pe.target.result)},xe.onerror=yr(Ce)})},query:(oe=z,function(le){return new Promise(function(me,de){me=xn(me);var be,Ce,xe,Ze=le.trans,Pe=le.values,qe=le.limit,lt=le.query,it=qe===1/0?void 0:qe,ht=lt.index,lt=lt.range,Ze=Ze.objectStore(ce),Ze=ht.isPrimaryKey?Ze:Ze.index(ht.name),ht=C(lt);if(qe===0)return me({result:[]});oe?((lt=Pe?Ze.getAll(ht,it):Ze.getAllKeys(ht,it)).onsuccess=function(ft){return me({result:ft.target.result})},lt.onerror=yr(de)):(be=0,Ce=!Pe&&"openKeyCursor"in Ze?Ze.openKeyCursor(ht):Ze.openCursor(ht),xe=[],Ce.onsuccess=function(ft){var tt=Ce.result;return!tt||(xe.push(Pe?tt.value:tt.primaryKey),++be===qe)?me({result:xe}):void tt.continue()},Ce.onerror=yr(de))})}),openCursor:function(le){var me=le.trans,de=le.values,be=le.query,Ce=le.reverse,xe=le.unique;return new Promise(function(Pe,qe){Pe=xn(Pe);var Ze=be.index,it=be.range,lt=me.objectStore(ce),lt=Ze.isPrimaryKey?lt:lt.index(Ze.name),Ze=Ce?xe?"prevunique":"prev":xe?"nextunique":"next",ht=!de&&"openKeyCursor"in lt?lt.openKeyCursor(C(it),Ze):lt.openCursor(C(it),Ze);ht.onerror=yr(qe),ht.onsuccess=xn(function(ft){var tt,mt,Gt,vn,Pt=ht.result;Pt?(Pt.___id=++Oa,Pt.done=!1,tt=Pt.continue.bind(Pt),mt=(mt=Pt.continuePrimaryKey)&&mt.bind(Pt),Gt=Pt.advance.bind(Pt),vn=function(){throw new Error("Cursor not stopped")},Pt.trans=me,Pt.stop=Pt.continue=Pt.continuePrimaryKey=Pt.advance=function(){throw new Error("Cursor not started")},Pt.fail=xn(qe),Pt.next=function(){var Yt=this,lr=1;return this.start(function(){return lr--?Yt.continue():Yt.stop()}).then(function(){return Yt})},Pt.start=function(Yt){function lr(){if(ht.result)try{Yt()}catch(Qn){Pt.fail(Qn)}else Pt.done=!0,Pt.start=function(){throw new Error("Cursor behind last entry")},Pt.stop()}var ka=new Promise(function(Qn,Mo){Qn=xn(Qn),ht.onerror=yr(Mo),Pt.fail=Mo,Pt.stop=function(fu){Pt.stop=Pt.continue=Pt.continuePrimaryKey=Pt.advance=vn,Qn(fu)}});return ht.onsuccess=xn(function(Qn){ht.onsuccess=lr,lr()}),Pt.continue=tt,Pt.continuePrimaryKey=mt,Pt.advance=Gt,lr(),ka},Pe(Pt)):Pe(null)},qe)})},count:function(le){var me=le.query,de=le.trans,be=me.index,Ce=me.range;return new Promise(function(xe,Pe){var qe=de.objectStore(ce),qe=be.isPrimaryKey?qe:qe.index(be.name),it=C(Ce),it=it?qe.count(it):qe.count();it.onsuccess=xn(function(lt){return xe(lt.target.result)}),it.onerror=yr(Pe)})}}}M=X,F=Wi((X=f).objectStoreNames);var M,X={schema:{name:X.name,tables:F.map(function(te){return M.objectStore(te)}).map(function(te){var oe=te.keyPath,ce=te.autoIncrement,me=h(oe),le={},me={name:te.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:oe==null,compound:me,keyPath:oe,autoIncrement:ce,unique:!0,extractKey:ua(oe)},indexes:Wi(te.indexNames).map(function(de){return te.index(de)}).map(function(xe){var Pe=xe.name,be=xe.unique,Ce=xe.multiEntry,xe=xe.keyPath,Pe={name:Pe,compound:h(xe),keyPath:xe,unique:be,multiEntry:Ce,extractKey:ua(xe)};return le[tr(xe)]=Pe}),getIndexByKeyPath:function(de){return le[tr(de)]}};return le[":id"]=me.primaryKey,oe!=null&&(le[tr(oe)]=me.primaryKey),me})},hasGetAll:0<F.length&&"getAll"in M.objectStore(F[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},F=X.schema,z=X.hasGetAll,X=F.tables.map(O),re={};return X.forEach(function(te){return re[te.name]=te}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function(te){if(re[te])return re[te];throw new Error("Table '".concat(te,"' not found"))},MIN_KEY:-1/0,MAX_KEY:la(v),schema:F}}function vr(f,v,_,C){return _=_.IDBKeyRange,v=ca(v,_,C),{dbcore:f.dbcore.reduce(function(O,M){return M=M.create,r(r({},O),M(O))},v)}}function Na(f,v){var _=v.db,_=vr(f._middlewares,_,f._deps,v);f.core=_.dbcore,f.tables.forEach(function(C){var O=C.name;f.core.schema.tables.some(function(M){return M.name===O})&&(C.core=f.core.table(O),f[O]instanceof f.Table)&&(f[O].core=C.core)})}function Es(f,v,_,C){_.forEach(function(O){var M=C[O];v.forEach(function(F){var z=(function X(re,te){return L(re,te)||(re=g(re))&&X(re,te)})(F,O);(!z||"value"in z&&z.value===void 0)&&(F===f.Transaction.prototype||F instanceof f.Transaction?j(F,O,{get:function(){return this.table(O)},set:function(X){R(this,O,{value:X,writable:!0,configurable:!0,enumerable:!0})}}):F[O]=new f.Table(O,M))})})}function Wa(f,v){v.forEach(function(_){for(var C in _)_[C]instanceof f.Table&&delete _[C]})}function Oo(f,v){return f._cfg.version-v._cfg.version}function rs(f,v,_,C){var O=f._dbSchema,M=(_.objectStoreNames.contains("$meta")&&!O.$meta&&(O.$meta=ws("$meta",Ht("")[0],[]),f._storeNames.push("$meta")),f._createTransaction("readwrite",f._storeNames,O)),F=(M.create(_),M._completion.catch(C),M._reject.bind(M)),z=Xe.transless||Xe;jn(function(){if(Xe.trans=M,Xe.transless=z,v!==0)return Na(f,_),re=v,((X=M).storeNames.includes("$meta")?X.table("$meta").get("version").then(function(te){return te??re}):ut.resolve(re)).then(function(be){var oe=f,ce=be,le=M,me=_,de=[],be=oe._versions,Ce=oe._dbSchema=as(0,oe.idbdb,me);return(be=be.filter(function(xe){return xe._cfg.version>=ce})).length===0?ut.resolve():(be.forEach(function(xe){de.push(function(){var Pe,qe,it,lt=Ce,Ze=xe._cfg.dbschema,ht=(Re(oe,lt,me),Re(oe,Ze,me),Ce=oe._dbSchema=Ze,bn(lt,Ze)),ft=(ht.add.forEach(function(tt){is(me,tt[0],tt[1].primKey,tt[1].indexes)}),ht.change.forEach(function(tt){if(tt.recreate)throw new Ye.Upgrade("Not yet support for changing primary key");var mt=me.objectStore(tt.name);tt.add.forEach(function(Gt){return Ki(mt,Gt)}),tt.change.forEach(function(Gt){mt.deleteIndex(Gt.name),Ki(mt,Gt)}),tt.del.forEach(function(Gt){return mt.deleteIndex(Gt)})}),xe._cfg.contentUpgrade);if(ft&&xe._cfg.version>ce)return Na(oe,me),le._memoizedTables={},Pe=$(Ze),ht.del.forEach(function(tt){Pe[tt]=lt[tt]}),Wa(oe,[oe.Transaction.prototype]),Es(oe,[oe.Transaction.prototype],c(Pe),Pe),le.schema=Pe,(qe=he(ft))&&dn(),Ze=ut.follow(function(){var tt;(it=ft(le))&&qe&&(tt=wr.bind(null,null),it.then(tt,tt))}),it&&typeof it.then=="function"?ut.resolve(it):Ze.then(function(){return it})}),de.push(function(Pe){var qe,it,lt=xe._cfg.dbschema;qe=lt,it=Pe,[].slice.call(it.db.objectStoreNames).forEach(function(Ze){return qe[Ze]==null&&it.db.deleteObjectStore(Ze)}),Wa(oe,[oe.Transaction.prototype]),Es(oe,[oe.Transaction.prototype],oe._storeNames,oe._dbSchema),le.schema=oe._dbSchema}),de.push(function(Pe){oe.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(oe.idbdb.version/10)===xe._cfg.version?(oe.idbdb.deleteObjectStore("$meta"),delete oe._dbSchema.$meta,oe._storeNames=oe._storeNames.filter(function(qe){return qe!=="$meta"})):Pe.objectStore("$meta").put(xe._cfg.version,"version"))})}),(function xe(){return de.length?ut.resolve(de.shift()(le.idbtrans)).then(xe):ut.resolve()})().then(function(){Fs(Ce,me)}))}).catch(F);var X,re;c(O).forEach(function(te){is(_,te,O[te].primKey,O[te].indexes)}),Na(f,_),ut.follow(function(){return f.on.populate.fire(M)}).catch(F)})}function No(f,v){Fs(f._dbSchema,v),v.db.version%10!=0||v.objectStoreNames.contains("$meta")||v.db.createObjectStore("$meta").add(Math.ceil(v.db.version/10-1),"version");var _=as(0,f.idbdb,v);Re(f,f._dbSchema,v);for(var C=0,O=bn(_,f._dbSchema).change;C<O.length;C++){var M=(F=>{if(F.change.length||F.recreate)return console.warn("Unable to patch indexes of table ".concat(F.name," because it has changes on the type of index or primary key.")),{value:void 0};var z=v.objectStore(F.name);F.add.forEach(function(X){ot&&console.debug("Dexie upgrade patch: Creating missing index ".concat(F.name,".").concat(X.src)),Ki(z,X)})})(O[C]);if(typeof M=="object")return M.value}}function bn(f,v){var _,C={del:[],add:[],change:[]};for(_ in f)v[_]||C.del.push(_);for(_ in v){var O=f[_],M=v[_];if(O){var F={name:_,def:M,recreate:!1,del:[],add:[],change:[]};if(""+(O.primKey.keyPath||"")!=""+(M.primKey.keyPath||"")||O.primKey.auto!==M.primKey.auto)F.recreate=!0,C.change.push(F);else{var z=O.idxByName,X=M.idxByName,re=void 0;for(re in z)X[re]||F.del.push(re);for(re in X){var te=z[re],oe=X[re];te?te.src!==oe.src&&F.change.push(oe):F.add.push(oe)}(0<F.del.length||0<F.add.length||0<F.change.length)&&C.change.push(F)}}else C.add.push([_,M])}return C}function is(f,v,_,C){var O=f.db.createObjectStore(v,_.keyPath?{keyPath:_.keyPath,autoIncrement:_.auto}:{autoIncrement:_.auto});C.forEach(function(M){return Ki(O,M)})}function Fs(f,v){c(f).forEach(function(_){v.db.objectStoreNames.contains(_)||(ot&&console.debug("Dexie: Creating missing table",_),is(v,_,f[_].primKey,f[_].indexes))})}function Ki(f,v){f.createIndex(v.name,v.keyPath,{unique:v.unique,multiEntry:v.multi})}function as(f,v,_){var C={};return K(v.objectStoreNames,0).forEach(function(O){for(var M=_.objectStore(O),F=oa(Ia(re=M.keyPath),re||"",!0,!1,!!M.autoIncrement,re&&typeof re!="string",!0),z=[],X=0;X<M.indexNames.length;++X){var te=M.index(M.indexNames[X]),re=te.keyPath,te=oa(te.name,re,!!te.unique,!!te.multiEntry,!1,re&&typeof re!="string",!1);z.push(te)}C[O]=ws(O,F,z)}),C}function Re(f,v,_){for(var C=_.db.objectStoreNames,O=0;O<C.length;++O){var M=C[O],F=_.objectStore(M);f._hasGetAll="getAll"in F;for(var z=0;z<F.indexNames.length;++z){var X,re=F.indexNames[z],te=F.index(re).keyPath,te=typeof te=="string"?te:"["+K(te).join("+")+"]";v[M]&&(X=v[M].idxByName[te])&&(X.name=re,delete v[M].idxByName[te],v[M].idxByName[re]=X)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function Ht(f){return f.split(",").map(function(v,_){var O=v.split(":"),C=(C=O[1])==null?void 0:C.trim(),O=(v=O[0].trim()).replace(/([&*]|\+\+)/g,""),M=/^\[/.test(O)?O.match(/^\[(.*)\]$/)[1].split("+"):O;return oa(O,M||null,/\&/.test(v),/\*/.test(v),/\+\+/.test(v),h(M),_===0,C)})}Ra.prototype._createTableSchema=ws,Ra.prototype._parseIndexSyntax=Ht,Ra.prototype._parseStoresSpec=function(f,v){var _=this;c(f).forEach(function(C){if(f[C]!==null){var O=_._parseIndexSyntax(f[C]),M=O.shift();if(!M)throw new Ye.Schema("Invalid schema for table "+C+": "+f[C]);if(M.unique=!0,M.multi)throw new Ye.Schema("Primary key cannot be multiEntry*");O.forEach(function(F){if(F.auto)throw new Ye.Schema("Only primary key can be marked as autoIncrement (++)");if(!F.keyPath)throw new Ye.Schema("Index must have a name and cannot be an empty string")}),M=_._createTableSchema(C,M,O),v[C]=M}})},Ra.prototype.stores=function(_){var v=this.db,_=(this._cfg.storesSource=this._cfg.storesSource?y(this._cfg.storesSource,_):_,v._versions),C={},O={};return _.forEach(function(M){y(C,M._cfg.storesSource),O=M._cfg.dbschema={},M._parseStoresSpec(C,O)}),v._dbSchema=O,Wa(v,[v._allTables,v,v.Transaction.prototype]),Es(v,[v._allTables,v,v.Transaction.prototype,this._cfg.tables],c(O),O),v._storeNames=c(O),this},Ra.prototype.upgrade=function(f){return this._cfg.contentUpgrade=nt(this._cfg.contentUpgrade||Le,f),this};var Ar=Ra;function Ra(){}function co(f,v){var _=f._dbNamesDB;return _||(_=f._dbNamesDB=new ls(Bs,{addons:[],indexedDB:f,IDBKeyRange:v})).version(1).stores({dbnames:"name"}),_.table("dbnames")}function Pa(f){return f&&typeof f.databases=="function"}function Ro(f){return jn(function(){return Xe.letThrough=!0,f()})}function Po(f){return!("from"in f)}var Ir=function(f,v){var _;if(!this)return _=new Ir,f&&"d"in f&&y(_,f),_;y(this,arguments.length?{d:1,from:f,to:1<arguments.length?v:f}:{d:0})};function Zn(f,v,_){var C=Wt(v,_);if(!isNaN(C)){if(0<C)throw RangeError();if(Po(f))return y(f,{from:v,to:_,d:1});var C=f.l,O=f.r;if(Wt(_,f.from)<0)return C?Zn(C,v,_):f.l={from:v,to:_,d:1,l:null,r:null},Ka(f);if(0<Wt(v,f.to))return O?Zn(O,v,_):f.r={from:v,to:_,d:1,l:null,r:null},Ka(f);Wt(v,f.from)<0&&(f.from=v,f.l=null,f.d=O?O.d+1:1),0<Wt(_,f.to)&&(f.to=_,f.r=null,f.d=f.l?f.l.d+1:1),v=!f.r,C&&!f.l&&Yi(f,C),O&&v&&Yi(f,O)}}function Yi(f,v){Po(v)||(function _(C,O){var M=O.from,F=O.l,z=O.r;Zn(C,M,O.to),F&&_(C,F),z&&_(C,z)})(f,v)}function on(f,v){var _=ss(v),C=_.next();if(!C.done)for(var O=C.value,M=ss(f),F=M.next(O.from),z=F.value;!C.done&&!F.done;){if(Wt(z.from,O.to)<=0&&0<=Wt(z.to,O.from))return!0;Wt(O.from,z.from)<0?O=(C=_.next(z.from)).value:z=(F=M.next(O.from)).value}return!1}function ss(f){var v=Po(f)?null:{s:0,n:f};return{next:function(_){for(var C=0<arguments.length;v;)switch(v.s){case 0:if(v.s=1,C)for(;v.n.l&&Wt(_,v.n.from)<0;)v={up:v,n:v.n.l,s:1};else for(;v.n.l;)v={up:v,n:v.n.l,s:1};case 1:if(v.s=2,!C||Wt(_,v.n.to)<=0)return{value:v.n,done:!1};case 2:if(v.n.r){v.s=3,v={up:v,n:v.n.r,s:0};continue}case 3:v=v.up}return{done:!0}}}}function Ka(f){var v,_,C,O=(((O=f.r)==null?void 0:O.d)||0)-(((O=f.l)==null?void 0:O.d)||0),O=1<O?"r":O<-1?"l":"";O&&(v=O=="r"?"l":"r",_=r({},f),C=f[O],f.from=C.from,f.to=C.to,f[O]=C[O],_[O]=C[v],(f[v]=_).d=hn(_)),f.d=hn(f)}function hn(_){var v=_.r,_=_.l;return(v?_?Math.max(v.d,_.d):v.d:_?_.d:0)+1}function S(f,v){return c(v).forEach(function(_){f[_]?Yi(f[_],v[_]):f[_]=(function C(O){var M,F,z={};for(M in O)A(O,M)&&(F=O[M],z[M]=!F||typeof F!="object"||ie.has(F.constructor)?F:C(F));return z})(v[_])}),f}function B(f,v){return f.all||v.all||Object.keys(f).some(function(_){return v[_]&&on(v[_],f[_])})}I(Ir.prototype,((Gn={add:function(f){return Yi(this,f),this},addKey:function(f){return Zn(this,f,f),this},addKeys:function(f){var v=this;return f.forEach(function(_){return Zn(v,_,_)}),this},hasKey:function(f){var v=ss(this).next(f).value;return v&&Wt(v.from,f)<=0&&0<=Wt(v.to,f)}})[ve]=function(){return ss(this)},Gn));var q={},se={},Ee=!1;function Me(f){S(se,f),Ee||(Ee=!0,setTimeout(function(){Ee=!1,rt(se,!(se={}))},0))}function rt(f,v){v===void 0&&(v=!1);var _=new Set;if(f.all)for(var C=0,O=Object.values(q);C<O.length;C++)Ft(z=O[C],f,_,v);else for(var M in f){var F,z,M=/^idb\:\/\/(.*)\/(.*)\//.exec(M);M&&(F=M[1],M=M[2],z=q["idb://".concat(F,"/").concat(M)])&&Ft(z,f,_,v)}_.forEach(function(X){return X()})}function Ft(f,v,_,C){for(var O=[],M=0,F=Object.entries(f.queries.query);M<F.length;M++){for(var z=F[M],X=z[0],re=[],te=0,oe=z[1];te<oe.length;te++){var ce=oe[te];B(v,ce.obsSet)?ce.subscribers.forEach(function(be){return _.add(be)}):C&&re.push(ce)}C&&O.push([X,re])}if(C)for(var le=0,me=O;le<me.length;le++){var de=me[le],X=de[0],re=de[1];f.queries.query[X]=re}}function Sr(f){var v=f._state,_=f._deps.indexedDB;if(v.isBeingOpened||f.idbdb)return v.dbReadyPromise.then(function(){return v.dbOpenError?Nt(v.dbOpenError):f});v.isBeingOpened=!0,v.dbOpenError=null,v.openComplete=!1;var C=v.openCanceller,O=Math.round(10*f.verno),M=!1;function F(){if(v.openCanceller!==C)throw new Ye.DatabaseClosed("db.open() was cancelled")}function z(){return new ut(function(ce,le){if(F(),!_)throw new Ye.MissingAPI;var me=f.name,de=v.autoSchema||!O?_.open(me):_.open(me,O);if(!de)throw new Ye.MissingAPI;de.onerror=yr(le),de.onblocked=xn(f._fireOnBlocked),de.onupgradeneeded=xn(function(be){var Ce;te=de.transaction,v.autoSchema&&!f._options.allowEmptyDB?(de.onerror=_t,te.abort(),de.result.close(),(Ce=_.deleteDatabase(me)).onsuccess=Ce.onerror=xn(function(){le(new Ye.NoSuchDatabase("Database ".concat(me," doesnt exist")))})):(te.onerror=yr(le),Ce=be.oldVersion>Math.pow(2,62)?0:be.oldVersion,oe=Ce<1,f.idbdb=de.result,M&&No(f,te),rs(f,Ce/10,te,le))},le),de.onsuccess=xn(function(){te=null;var be,Ce,xe,Pe,qe,it,lt=f.idbdb=de.result,Ze=K(lt.objectStoreNames);if(0<Ze.length)try{var ht=lt.transaction((qe=Ze).length===1?qe[0]:qe,"readonly");if(v.autoSchema)it=lt,Pe=ht,(xe=f).verno=it.version/10,Pe=xe._dbSchema=as(0,it,Pe),xe._storeNames=K(it.objectStoreNames,0),Es(xe,[xe._allTables],c(Pe),Pe);else if(Re(f,f._dbSchema,ht),Ce=ht,((Ce=bn(as(0,(be=f).idbdb,Ce),be._dbSchema)).add.length||Ce.change.some(function(ft){return ft.add.length||ft.change.length}))&&!M)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),lt.close(),O=lt.version+1,M=!0,ce(z());Na(f,ht)}catch{}ze.push(f),lt.onversionchange=xn(function(ft){v.vcFired=!0,f.on("versionchange").fire(ft)}),lt.onclose=xn(function(){f.close({disableAutoOpen:!1})}),oe&&(Ze=f._deps,qe=me,Pa(it=Ze.indexedDB)||qe===Bs||co(it,Ze.IDBKeyRange).put({name:qe}).catch(Le)),ce()},le)}).catch(function(ce){switch(ce?.name){case"UnknownError":if(0<v.PR1398_maxLoop)return v.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),z();break;case"VersionError":if(0<O)return O=0,z()}return ut.reject(ce)})}var X,re=v.dbReadyResolve,te=null,oe=!1;return ut.race([C,(typeof navigator>"u"?ut.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ce){function le(){return indexedDB.databases().finally(ce)}X=setInterval(le,100),le()}).finally(function(){return clearInterval(X)}):Promise.resolve()).then(z)]).then(function(){return F(),v.onReadyBeingFired=[],ut.resolve(Ro(function(){return f.on.ready.fire(f.vip)})).then(function ce(){var le;if(0<v.onReadyBeingFired.length)return le=v.onReadyBeingFired.reduce(nt,Le),v.onReadyBeingFired=[],ut.resolve(Ro(function(){return le(f.vip)})).then(ce)})}).finally(function(){v.openCanceller===C&&(v.onReadyBeingFired=null,v.isBeingOpened=!1)}).catch(function(ce){v.dbOpenError=ce;try{te&&te.abort()}catch{}return C===v.openCanceller&&f._close(),Nt(ce)}).finally(function(){v.openComplete=!0,re()}).then(function(){var ce;return oe&&(ce={},f.tables.forEach(function(le){le.schema.indexes.forEach(function(me){me.name&&(ce["idb://".concat(f.name,"/").concat(le.name,"/").concat(me.name)]=new Ir(-1/0,[[[]]]))}),ce["idb://".concat(f.name,"/").concat(le.name,"/")]=ce["idb://".concat(f.name,"/").concat(le.name,"/:dels")]=new Ir(-1/0,[[[]]])}),pn(Ta).fire(ce),rt(ce,!0)),f})}function yn(f){function v(M){return f.next(M)}var _=O(v),C=O(function(M){return f.throw(M)});function O(M){return function(z){var z=M(z),X=z.value;return z.done?X:X&&typeof X.then=="function"?X.then(_,C):h(X)?Promise.all(X).then(_,C):_(X)}}return O(v)()}function Bn(f,v,_){for(var C=h(f)?f.slice():[f],O=0;O<_;++O)C.push(v);return C}var fa={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return r(r({},f),{table:function(C){var _=f.table(C),C=_.schema,O={},M=[];function F(ce,le,me){var xe=tr(ce),de=O[xe]=O[xe]||[],be=ce==null?0:typeof ce=="string"?1:ce.length,Ce=0<le,xe=r(r({},me),{name:Ce?"".concat(xe,"(virtual-from:").concat(me.name,")"):me.name,lowLevelIndex:me,isVirtual:Ce,keyTail:le,keyLength:be,extractKey:ua(ce),unique:!Ce&&me.unique});return de.push(xe),xe.isPrimaryKey||M.push(xe),1<be&&F(be===2?ce[0]:ce.slice(0,be-1),le+1,me),de.sort(function(Pe,qe){return Pe.keyTail-qe.keyTail}),xe}var z=F(C.primaryKey.keyPath,0,C.primaryKey);O[":id"]=[z];for(var X=0,re=C.indexes;X<re.length;X++){var te=re[X];F(te.keyPath,0,te)}function oe(ce){var le,me=ce.query.index;return me.isVirtual?r(r({},ce),{query:{index:me.lowLevelIndex,range:(le=ce.query.range,me=me.keyTail,{type:le.type===1?2:le.type,lower:Bn(le.lower,le.lowerOpen?f.MAX_KEY:f.MIN_KEY,me),lowerOpen:!0,upper:Bn(le.upper,le.upperOpen?f.MIN_KEY:f.MAX_KEY,me),upperOpen:!0})}}):ce}return r(r({},_),{schema:r(r({},C),{primaryKey:z,indexes:M,getIndexByKeyPath:function(ce){return(ce=O[tr(ce)])&&ce[0]}}),count:function(ce){return _.count(oe(ce))},query:function(ce){return _.query(oe(ce))},openCursor:function(ce){var le=ce.query.index,me=le.keyTail,de=le.keyLength;return le.isVirtual?_.openCursor(oe(ce)).then(function(Ce){return Ce&&be(Ce)}):_.openCursor(ce);function be(Ce){return Object.create(Ce,{continue:{value:function(xe){xe!=null?Ce.continue(Bn(xe,ce.reverse?f.MAX_KEY:f.MIN_KEY,me)):ce.unique?Ce.continue(Ce.key.slice(0,de).concat(ce.reverse?f.MIN_KEY:f.MAX_KEY,me)):Ce.continue()}},continuePrimaryKey:{value:function(xe,Pe){Ce.continuePrimaryKey(Bn(xe,f.MAX_KEY,me),Pe)}},primaryKey:{get:function(){return Ce.primaryKey}},key:{get:function(){var xe=Ce.key;return de===1?xe[0]:xe.slice(0,de)}},value:{get:function(){return Ce.value}}})}}})}})}};function Da(f,v,_,C){return _=_||{},C=C||"",c(f).forEach(function(O){var M,F,z;A(v,O)?(M=f[O],F=v[O],typeof M=="object"&&typeof F=="object"&&M&&F?(z=pe(M))!==pe(F)?_[C+O]=v[O]:z==="Object"?Da(M,F,_,C+O+"."):M!==F&&(_[C+O]=v[O]):M!==F&&(_[C+O]=v[O])):_[C+O]=void 0}),c(v).forEach(function(O){A(f,O)||(_[C+O]=v[O])}),_}function ni(f,v){return v.type==="delete"?v.keys:v.keys||v.values.map(f.extractKey)}var da={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return r(r({},f),{table:function(v){var _=f.table(v),C=_.schema.primaryKey;return r(r({},_),{mutate:function(O){var M=Xe.trans,F=M.table(v).hook,z=F.deleting,X=F.creating,re=F.updating;switch(O.type){case"add":if(X.fire===Le)break;return M._promise("readwrite",function(){return te(O)},!0);case"put":if(X.fire===Le&&re.fire===Le)break;return M._promise("readwrite",function(){return te(O)},!0);case"delete":if(z.fire===Le)break;return M._promise("readwrite",function(){return te(O)},!0);case"deleteRange":if(z.fire===Le)break;return M._promise("readwrite",function(){return(function oe(ce,le,me){return _.query({trans:ce,values:!1,query:{index:C,range:le},limit:me}).then(function(de){var be=de.result;return te({type:"delete",keys:be,trans:ce}).then(function(Ce){return 0<Ce.numFailures?Promise.reject(Ce.failures[0]):be.length<me?{failures:[],numFailures:0,lastResult:void 0}:oe(ce,r(r({},le),{lower:be[be.length-1],lowerOpen:!0}),me)})})})(O.trans,O.range,1e4)},!0)}return _.mutate(O);function te(oe){var ce,le,me,de=Xe.trans,be=oe.keys||ni(C,oe);if(be)return(oe=oe.type==="add"||oe.type==="put"?r(r({},oe),{keys:be}):r({},oe)).type!=="delete"&&(oe.values=i([],oe.values)),oe.keys&&(oe.keys=i([],oe.keys)),ce=_,me=be,((le=oe).type==="add"?Promise.resolve([]):ce.getMany({trans:le.trans,keys:me,cache:"immutable"})).then(function(Ce){var xe=be.map(function(Pe,qe){var it,lt,Ze,ht=Ce[qe],ft={onerror:null,onsuccess:null};return oe.type==="delete"?z.fire.call(ft,Pe,ht,de):oe.type==="add"||ht===void 0?(it=X.fire.call(ft,Pe,oe.values[qe],de),Pe==null&&it!=null&&(oe.keys[qe]=Pe=it,C.outbound||U(oe.values[qe],C.keyPath,Pe))):(it=Da(ht,oe.values[qe]),(lt=re.fire.call(ft,it,Pe,ht,de))&&(Ze=oe.values[qe],Object.keys(lt).forEach(function(tt){A(Ze,tt)?Ze[tt]=lt[tt]:U(Ze,tt,lt[tt])}))),ft});return _.mutate(oe).then(function(Pe){for(var qe=Pe.failures,it=Pe.results,lt=Pe.numFailures,Pe=Pe.lastResult,Ze=0;Ze<be.length;++Ze){var ht=(it||be)[Ze],ft=xe[Ze];ht==null?ft.onerror&&ft.onerror(qe[Ze]):ft.onsuccess&&ft.onsuccess(oe.type==="put"&&Ce[Ze]?oe.values[Ze]:ht)}return{failures:qe,results:it,numFailures:lt,lastResult:Pe}}).catch(function(Pe){return xe.forEach(function(qe){return qe.onerror&&qe.onerror(Pe)}),Promise.reject(Pe)})});throw new Error("Keys missing")}}})}})}};function Us(f,v,_){try{if(!v||v.keys.length<f.length)return null;for(var C=[],O=0,M=0;O<v.keys.length&&M<f.length;++O)Wt(v.keys[O],f[M])===0&&(C.push(_?J(v.values[O]):v.values[O]),++M);return C.length===f.length?C:null}catch{return null}}var os={stack:"dbcore",level:-1,create:function(f){return{table:function(v){var _=f.table(v);return r(r({},_),{getMany:function(C){var O;return C.cache?(O=Us(C.keys,C.trans._cache,C.cache==="clone"))?ut.resolve(O):_.getMany(C).then(function(M){return C.trans._cache={keys:C.keys,values:C.cache==="clone"?J(M):M},M}):_.getMany(C)},mutate:function(C){return C.type!=="add"&&(C.trans._cache=null),_.mutate(C)}})}}}};function fo(f,v){return f.trans.mode==="readonly"&&!!f.subscr&&!f.trans.explicit&&f.trans.db._options.cache!=="disabled"&&!v.schema.primaryKey.outbound}function _s(f,v){switch(f){case"query":return v.values&&!v.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var cu={stack:"dbcore",level:0,name:"Observability",create:function(f){var v=f.schema.name,_=new Ir(f.MIN_KEY,f.MAX_KEY);return r(r({},f),{transaction:function(C,O,M){if(Xe.subscr&&O!=="readonly")throw new Ye.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Xe.querier));return f.transaction(C,O,M)},table:function(C){function O(be){var de,be=be.query;return[de=be.index,new Ir((de=(be=be.range).lower)!=null?de:f.MIN_KEY,(de=be.upper)!=null?de:f.MAX_KEY)]}var M=f.table(C),F=M.schema,z=F.primaryKey,X=F.indexes,re=z.extractKey,te=z.outbound,oe=z.autoIncrement&&X.filter(function(me){return me.compound&&me.keyPath.includes(z.keyPath)}),ce=r(r({},M),{mutate:function(me){function de(mt){return mt="idb://".concat(v,"/").concat(C,"/").concat(mt),qe[mt]||(qe[mt]=new Ir)}var be,Ce,xe,Pe=me.trans,qe=me.mutatedParts||(me.mutatedParts={}),it=de(""),lt=de(":dels"),Ze=me.type,ft=me.type==="deleteRange"?[me.range]:me.type==="delete"?[me.keys]:me.values.length<50?[ni(z,me).filter(function(mt){return mt}),me.values]:[],ht=ft[0],ft=ft[1],tt=me.trans._cache;return h(ht)?(it.addKeys(ht),(Ze=Ze==="delete"||ht.length===ft.length?Us(ht,tt):null)||lt.addKeys(ht),(Ze||ft)&&(be=de,Ce=Ze,xe=ft,F.indexes.forEach(function(mt){var Gt=be(mt.name||"");function vn(Yt){return Yt!=null?mt.extractKey(Yt):null}function Pt(Yt){mt.multiEntry&&h(Yt)?Yt.forEach(function(lr){return Gt.addKey(lr)}):Gt.addKey(Yt)}(Ce||xe).forEach(function(Yt,Qn){var ka=Ce&&vn(Ce[Qn]),Qn=xe&&vn(xe[Qn]);Wt(ka,Qn)!==0&&(ka!=null&&Pt(ka),Qn!=null)&&Pt(Qn)})}))):ht?(ft={from:(tt=ht.lower)!=null?tt:f.MIN_KEY,to:(Ze=ht.upper)!=null?Ze:f.MAX_KEY},lt.add(ft),it.add(ft)):(it.add(_),lt.add(_),F.indexes.forEach(function(mt){return de(mt.name).add(_)})),M.mutate(me).then(function(mt){return!ht||me.type!=="add"&&me.type!=="put"||(it.addKeys(mt.results),oe&&oe.forEach(function(Gt){for(var vn=me.values.map(function(ka){return Gt.extractKey(ka)}),Pt=Gt.keyPath.findIndex(function(ka){return ka===z.keyPath}),Yt=0,lr=mt.results.length;Yt<lr;++Yt)vn[Yt][Pt]=mt.results[Yt];de(Gt.name).addKeys(vn)})),Pe.mutatedParts=S(Pe.mutatedParts||{},qe),mt})}}),le={get:function(me){return[z,new Ir(me.key)]},getMany:function(me){return[z,new Ir().addKeys(me.keys)]},count:O,query:O,openCursor:O};return c(le).forEach(function(me){ce[me]=function(de){var be=Xe.subscr,Ce=!!be,xe=fo(Xe,M)&&_s(me,de)?de.obsSet={}:be;if(Ce){var Pe,be=function(ft){return ft="idb://".concat(v,"/").concat(C,"/").concat(ft),xe[ft]||(xe[ft]=new Ir)},qe=be(""),it=be(":dels"),Ce=le[me](de),lt=Ce[0],Ce=Ce[1];if((me==="query"&&lt.isPrimaryKey&&!de.values?it:be(lt.name||"")).add(Ce),!lt.isPrimaryKey){if(me!=="count")return Pe=me==="query"&&te&&de.values&&M.query(r(r({},de),{values:!1})),M[me].apply(this,arguments).then(function(ft){if(me==="query"){if(te&&de.values)return Pe.then(function(vn){return vn=vn.result,qe.addKeys(vn),ft});var tt=de.values?ft.result.map(re):ft.result;(de.values?qe:it).addKeys(tt)}else{var mt,Gt;if(me==="openCursor")return Gt=de.values,(mt=ft)&&Object.create(mt,{key:{get:function(){return it.addKey(mt.primaryKey),mt.key}},primaryKey:{get:function(){var vn=mt.primaryKey;return it.addKey(vn),vn}},value:{get:function(){return Gt&&qe.addKey(mt.primaryKey),mt.value}}})}return ft});it.add(_)}}return M[me].apply(this,arguments)}}),ce}})}};function ha(f,v,_){var C;return _.numFailures===0?v:v.type==="deleteRange"||(C=v.keys?v.keys.length:"values"in v&&v.values?v.values.length:1,_.numFailures===C)?null:(C=r({},v),h(C.keys)&&(C.keys=C.keys.filter(function(O,M){return!(M in _.failures)})),"values"in C&&h(C.values)&&(C.values=C.values.filter(function(O,M){return!(M in _.failures)})),C)}function hl(f,v){return _=f,((C=v).lower===void 0||(C.lowerOpen?0<Wt(_,C.lower):0<=Wt(_,C.lower)))&&(_=f,(C=v).upper===void 0||(C.upperOpen?Wt(_,C.upper)<0:Wt(_,C.upper)<=0));var _,C}function Ma(f,v,_,C,O,M){var F,z,X,re,te,oe;return!_||_.length===0||(F=v.query.index,z=F.multiEntry,X=v.query.range,re=C.schema.primaryKey.extractKey,te=F.extractKey,oe=(F.lowLevelIndex||F).extractKey,(C=_.reduce(function(ce,le){var me=ce,de=[];if(le.type==="add"||le.type==="put")for(var be=new Ir,Ce=le.values.length-1;0<=Ce;--Ce){var xe,Pe=le.values[Ce],qe=re(Pe);!be.hasKey(qe)&&(xe=te(Pe),z&&h(xe)?xe.some(function(ft){return hl(ft,X)}):hl(xe,X))&&(be.addKey(qe),de.push(Pe))}switch(le.type){case"add":var it=new Ir().addKeys(v.values?ce.map(function(tt){return re(tt)}):ce),me=ce.concat(v.values?de.filter(function(tt){return tt=re(tt),!it.hasKey(tt)&&(it.addKey(tt),!0)}):de.map(function(tt){return re(tt)}).filter(function(tt){return!it.hasKey(tt)&&(it.addKey(tt),!0)}));break;case"put":var lt=new Ir().addKeys(le.values.map(function(tt){return re(tt)}));me=ce.filter(function(tt){return!lt.hasKey(v.values?re(tt):tt)}).concat(v.values?de:de.map(function(tt){return re(tt)}));break;case"delete":var Ze=new Ir().addKeys(le.keys);me=ce.filter(function(tt){return!Ze.hasKey(v.values?re(tt):tt)});break;case"deleteRange":var ht=le.range;me=ce.filter(function(tt){return!hl(re(tt),ht)})}return me},f))===f)?f:(C.sort(function(ce,le){return Wt(oe(ce),oe(le))||Wt(re(ce),re(le))}),v.limit&&v.limit<1/0&&(C.length>v.limit?C.length=v.limit:f.length===v.limit&&C.length<v.limit&&(O.dirty=!0)),M?Object.freeze(C):C)}function Do(f,v){return Wt(f.lower,v.lower)===0&&Wt(f.upper,v.upper)===0&&!!f.lowerOpen==!!v.lowerOpen&&!!f.upperOpen==!!v.upperOpen}function ho(f,v){return((_,C,O,M)=>{if(_===void 0)return C!==void 0?-1:0;if(C===void 0)return 1;if((_=Wt(_,C))===0){if(O&&M)return 0;if(O)return 1;if(M)return-1}return _})(f.lower,v.lower,f.lowerOpen,v.lowerOpen)<=0&&0<=((_,C,O,M)=>{if(_===void 0)return C!==void 0?1:0;if(C===void 0)return-1;if((_=Wt(_,C))===0){if(O&&M)return 0;if(O)return-1;if(M)return 1}return _})(f.upper,v.upper,f.upperOpen,v.upperOpen)}function nh(f,v,_,C){f.subscribers.add(_),C.addEventListener("abort",function(){var O,M;f.subscribers.delete(_),f.subscribers.size===0&&(O=f,M=v,setTimeout(function(){O.subscribers.size===0&&We(M,O)},3e3))})}var ml={stack:"dbcore",level:0,name:"Cache",create:function(f){var v=f.schema.name;return r(r({},f),{transaction:function(_,C,O){var M,F,z=f.transaction(_,C,O);return C==="readwrite"&&(O=(M=new AbortController).signal,z.addEventListener("abort",(F=function(X){return function(){if(M.abort(),C==="readwrite"){for(var re=new Set,te=0,oe=_;te<oe.length;te++){var ce=oe[te],le=q["idb://".concat(v,"/").concat(ce)];if(le){var me=f.table(ce),de=le.optimisticOps.filter(function(mt){return mt.trans===z});if(z._explicit&&X&&z.mutatedParts)for(var be=0,Ce=Object.values(le.queries.query);be<Ce.length;be++)for(var xe=0,Pe=(lt=Ce[be]).slice();xe<Pe.length;xe++)B((Ze=Pe[xe]).obsSet,z.mutatedParts)&&(We(lt,Ze),Ze.subscribers.forEach(function(mt){return re.add(mt)}));else if(0<de.length){le.optimisticOps=le.optimisticOps.filter(function(mt){return mt.trans!==z});for(var qe=0,it=Object.values(le.queries.query);qe<it.length;qe++)for(var lt,Ze,ht,ft=0,tt=(lt=it[qe]).slice();ft<tt.length;ft++)(Ze=tt[ft]).res!=null&&z.mutatedParts&&(X&&!Ze.dirty?(ht=Object.isFrozen(Ze.res),ht=Ma(Ze.res,Ze.req,de,me,Ze,ht),Ze.dirty?(We(lt,Ze),Ze.subscribers.forEach(function(mt){return re.add(mt)})):ht!==Ze.res&&(Ze.res=ht,Ze.promise=ut.resolve({result:ht}))):(Ze.dirty&&We(lt,Ze),Ze.subscribers.forEach(function(mt){return re.add(mt)})))}}}re.forEach(function(mt){return mt()})}}})(!1),{signal:O}),z.addEventListener("error",F(!1),{signal:O}),z.addEventListener("complete",F(!0),{signal:O})),z},table:function(_){var C=f.table(_),O=C.schema.primaryKey;return r(r({},C),{mutate:function(M){var F,z=Xe.trans;return!O.outbound&&z.db._options.cache!=="disabled"&&!z.explicit&&z.idbtrans.mode==="readwrite"&&(F=q["idb://".concat(v,"/").concat(_)])?(z=C.mutate(M),M.type!=="add"&&M.type!=="put"||!(50<=M.values.length||ni(O,M).some(function(X){return X==null}))?(F.optimisticOps.push(M),M.mutatedParts&&Me(M.mutatedParts),z.then(function(X){0<X.numFailures&&(We(F.optimisticOps,M),(X=ha(0,M,X))&&F.optimisticOps.push(X),M.mutatedParts)&&Me(M.mutatedParts)}),z.catch(function(){We(F.optimisticOps,M),M.mutatedParts&&Me(M.mutatedParts)})):z.then(function(X){var re=ha(0,r(r({},M),{values:M.values.map(function(te,oe){var ce;return X.failures[oe]?te:(U(ce=(ce=O.keyPath)!=null&&ce.includes(".")?J(te):r({},te),O.keyPath,X.results[oe]),ce)})}),X);F.optimisticOps.push(re),queueMicrotask(function(){return M.mutatedParts&&Me(M.mutatedParts)})}),z):C.mutate(M)},query:function(M){var F,z,X,re,te,oe,ce;return fo(Xe,C)&&_s("query",M)?(F=((X=Xe.trans)==null?void 0:X.db._options.cache)==="immutable",z=(X=Xe).requery,X=X.signal,oe=((le,me,de,be)=>{var Ce=q["idb://".concat(le,"/").concat(me)];if(!Ce)return[];if(!(le=Ce.queries[de]))return[null,!1,Ce,null];var xe=le[(be.query?be.query.index.name:null)||""];if(!xe)return[null,!1,Ce,null];switch(de){case"query":var Pe=xe.find(function(qe){return qe.req.limit===be.limit&&qe.req.values===be.values&&Do(qe.req.query.range,be.query.range)});return Pe?[Pe,!0,Ce,xe]:[xe.find(function(qe){return("limit"in qe.req?qe.req.limit:1/0)>=be.limit&&(!be.values||qe.req.values)&&ho(qe.req.query.range,be.query.range)}),!1,Ce,xe];case"count":return Pe=xe.find(function(qe){return Do(qe.req.query.range,be.query.range)}),[Pe,!!Pe,Ce,xe]}})(v,_,"query",M),ce=oe[0],re=oe[2],te=oe[3],ce&&oe[1]?ce.obsSet=M.obsSet:(oe=C.query(M).then(function(le){var me=le.result;if(ce&&(ce.res=me),F){for(var de=0,be=me.length;de<be;++de)Object.freeze(me[de]);Object.freeze(me)}else le.result=J(me);return le}).catch(function(le){return te&&ce&&We(te,ce),Promise.reject(le)}),ce={obsSet:M.obsSet,promise:oe,subscribers:new Set,type:"query",req:M,dirty:!1},te?te.push(ce):(te=[ce],(re=re||(q["idb://".concat(v,"/").concat(_)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[M.query.index.name||""]=te)),nh(ce,te,z,X),ce.promise.then(function(le){return{result:Ma(le.result,M,re?.optimisticOps,C,ce,F)}})):C.query(M)}})}})}};function $i(f,v){return new Proxy(f,{get:function(_,C,O){return C==="db"?v:Reflect.get(_,C,O)}})}nr.prototype.version=function(f){if(isNaN(f)||f<.1)throw new Ye.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new Ye.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var v=this._versions,_=v.filter(function(C){return C._cfg.version===f})[0];return _||(_=new this.Version(f),v.push(_),v.sort(Oo),_.stores({}),this._state.autoSchema=!1),_},nr.prototype._whenReady=function(f){var v=this;return this.idbdb&&(this._state.openComplete||Xe.letThrough||this._vip)?f():new ut(function(_,C){if(v._state.openComplete)return C(new Ye.DatabaseClosed(v._state.dbOpenError));if(!v._state.isBeingOpened){if(!v._state.autoOpen)return void C(new Ye.DatabaseClosed);v.open().catch(Le)}v._state.dbReadyPromise.then(_,C)}).then(f)},nr.prototype.use=function(O){var v=O.stack,_=O.create,C=O.level,O=O.name,M=(O&&this.unuse({stack:v,name:O}),this._middlewares[v]||(this._middlewares[v]=[]));return M.push({stack:v,create:_,level:C??10,name:O}),M.sort(function(F,z){return F.level-z.level}),this},nr.prototype.unuse=function(f){var v=f.stack,_=f.name,C=f.create;return v&&this._middlewares[v]&&(this._middlewares[v]=this._middlewares[v].filter(function(O){return C?O.create!==C:!!_&&O.name!==_})),this},nr.prototype.open=function(){var f=this;return xi(sn,function(){return Sr(f)})},nr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var f=this._state,v=ze.indexOf(this);if(0<=v&&ze.splice(v,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new ut(function(_){f.dbReadyResolve=_}),f.openCanceller=new ut(function(_,C){f.cancelOpen=C}))},nr.prototype.close=function(v){var v=(v===void 0?{disableAutoOpen:!0}:v).disableAutoOpen,_=this._state;v?(_.isBeingOpened&&_.cancelOpen(new Ye.DatabaseClosed),this._close(),_.autoOpen=!1,_.dbOpenError=new Ye.DatabaseClosed):(this._close(),_.autoOpen=this._options.autoOpen||_.isBeingOpened,_.openComplete=!1,_.dbOpenError=null)},nr.prototype.delete=function(f){var v=this,_=(f===void 0&&(f={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),C=this._state;return new ut(function(O,M){function F(){v.close(f);var z=v._deps.indexedDB.deleteDatabase(v.name);z.onsuccess=xn(function(){var X,re,te;X=v._deps,re=v.name,Pa(te=X.indexedDB)||re===Bs||co(te,X.IDBKeyRange).delete(re).catch(Le),O()}),z.onerror=yr(M),z.onblocked=v._fireOnBlocked}if(_)throw new Ye.InvalidArgument("Invalid closeOptions argument to db.delete()");C.isBeingOpened?C.dbReadyPromise.then(F):F()})},nr.prototype.backendDB=function(){return this.idbdb},nr.prototype.isOpen=function(){return this.idbdb!==null},nr.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&f.name==="DatabaseClosed"},nr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},nr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(nr.prototype,"tables",{get:function(){var f=this;return c(this._allTables).map(function(v){return f._allTables[v]})},enumerable:!1,configurable:!0}),nr.prototype.transaction=function(){var f=(function(v,_,C){var O=arguments.length;if(O<2)throw new Ye.InvalidArgument("Too few arguments");for(var M=new Array(O-1);--O;)M[O-1]=arguments[O];return C=M.pop(),[v,ae(M),C]}).apply(this,arguments);return this._transaction.apply(this,f)},nr.prototype._transaction=function(f,v,_){var C,O,M=this,F=Xe.trans,z=(F&&F.db===this&&f.indexOf("!")===-1||(F=null),f.indexOf("?")!==-1);f=f.replace("!","").replace("?","");try{if(O=v.map(function(re){if(re=re instanceof M.Table?re.name:re,typeof re!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return re}),f=="r"||f===En)C=En;else{if(f!="rw"&&f!=fi)throw new Ye.InvalidArgument("Invalid transaction mode: "+f);C=fi}if(F){if(F.mode===En&&C===fi){if(!z)throw new Ye.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");F=null}F&&O.forEach(function(re){if(F&&F.storeNames.indexOf(re)===-1){if(!z)throw new Ye.SubTransaction("Table "+re+" not included in parent transaction.");F=null}}),z&&F&&!F.active&&(F=null)}}catch(re){return F?F._promise(null,function(te,oe){oe(re)}):Nt(re)}var X=(function re(te,oe,ce,le,me){return ut.resolve().then(function(){var xe=Xe.transless||Xe,de=te._createTransaction(oe,ce,te._dbSchema,le),xe=(de.explicit=!0,{trans:de,transless:xe});if(le)de.idbtrans=le.idbtrans;else try{de.create(),de.idbtrans._explicit=!0,te._state.PR1398_maxLoop=3}catch(Pe){return Pe.name===Tt.InvalidState&&te.isOpen()&&0<--te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),te.close({disableAutoOpen:!1}),te.open().then(function(){return re(te,oe,ce,null,me)})):Nt(Pe)}var be,Ce=he(me),xe=(Ce&&dn(),ut.follow(function(){var Pe;(be=me.call(de,de))&&(Ce?(Pe=wr.bind(null,null),be.then(Pe,Pe)):typeof be.next=="function"&&typeof be.throw=="function"&&(be=yn(be)))},xe));return(be&&typeof be.then=="function"?ut.resolve(be).then(function(Pe){return de.active?Pe:Nt(new Ye.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):xe.then(function(){return be})).then(function(Pe){return le&&de._resolve(),de._completion.then(function(){return Pe})}).catch(function(Pe){return de._reject(Pe),Nt(Pe)})})}).bind(null,this,C,O,F,_);return F?F._promise(C,X,"lock"):Xe.trans?xi(Xe.transless,function(){return M._whenReady(X)}):this._whenReady(X)},nr.prototype.table=function(f){if(A(this._allTables,f))return this._allTables[f];throw new Ye.InvalidTable("Table ".concat(f," does not exist"))};var ls=nr;function nr(f,v){var _,C,O,M,F,z=this,X=(this._middlewares={},this.verno=0,nr.dependencies),X=(this._options=v=r({addons:nr.addons,autoOpen:!0,indexedDB:X.indexedDB,IDBKeyRange:X.IDBKeyRange,cache:"cloned"},v),this._deps={indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange},v.addons),re=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Le,dbReadyPromise:null,cancelOpen:Le,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:v.autoOpen}),te=(re.dbReadyPromise=new ut(function(oe){re.dbReadyResolve=oe}),re.openCanceller=new ut(function(oe,ce){re.cancelOpen=ce}),this._state=re,this.name=f,this.on=Ei(this,"populate","blocked","versionchange","close",{ready:[nt,Le]}),this.once=function(oe,ce){var le=function(){for(var me=[],de=0;de<arguments.length;de++)me[de]=arguments[de];z.on(oe).unsubscribe(le),ce.apply(z,me)};return z.on(oe,le)},this.on.ready.subscribe=W(this.on.ready.subscribe,function(oe){return function(ce,le){nr.vip(function(){var me,de=z._state;de.openComplete?(de.dbOpenError||ut.resolve().then(ce),le&&oe(ce)):de.onReadyBeingFired?(de.onReadyBeingFired.push(ce),le&&oe(ce)):(oe(ce),me=z,le||oe(function be(){me.on.ready.unsubscribe(ce),me.on.ready.unsubscribe(be)}))})}}),this.Collection=(_=this,qt(Io.prototype,function(be,de){this.db=_;var le=mn,me=null;if(de)try{le=de()}catch(xe){me=xe}var de=be._ctx,be=de.table,Ce=be.hook.reading.fire;this._ctx={table:be,index:de.index,isPrimKey:!de.index||be.schema.primKey.keyPath&&de.index===be.schema.primKey.name,range:le,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:me,or:de.or,valueMapper:Ce!==At?Ce:null}})),this.Table=(C=this,qt(Pi.prototype,function(oe,ce,le){this.db=C,this._tx=le,this.name=oe,this.schema=ce,this.hook=C._allTables[oe]?C._allTables[oe].hook:Ei(null,{creating:[Hn,Le],reading:[zt,At],updating:[fn,Le],deleting:[Rn,Le]})})),this.Transaction=(O=this,qt(uo.prototype,function(oe,ce,le,me,de){var be=this;oe!=="readonly"&&ce.forEach(function(Ce){Ce=(Ce=le[Ce])==null?void 0:Ce.yProps,Ce&&(ce=ce.concat(Ce.map(function(xe){return xe.updatesTable})))}),this.db=O,this.mode=oe,this.storeNames=ce,this.schema=le,this.chromeTransactionDurability=me,this.idbtrans=null,this.on=Ei(this,"complete","error","abort"),this.parent=de||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ut(function(Ce,xe){be._resolve=Ce,be._reject=xe}),this._completion.then(function(){be.active=!1,be.on.complete.fire()},function(Ce){var xe=be.active;return be.active=!1,be.on.error.fire(Ce),be.parent?be.parent._reject(Ce):xe&&be.idbtrans&&be.idbtrans.abort(),Nt(Ce)})})),this.Version=(M=this,qt(Ar.prototype,function(oe){this.db=M,this._cfg={version:oe,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(F=this,qt(Xn.prototype,function(oe,ce,le){if(this.db=F,this._ctx={table:oe,index:ce===":id"?null:ce,or:le},this._cmp=this._ascending=Wt,this._descending=function(me,de){return Wt(de,me)},this._max=function(me,de){return 0<Wt(me,de)?me:de},this._min=function(me,de){return Wt(me,de)<0?me:de},this._IDBKeyRange=F._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ye.MissingAPI})),this.on("versionchange",function(oe){0<oe.newVersion?console.warn("Another connection wants to upgrade database '".concat(z.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(z.name,"'. Closing db now to resume the delete request.")),z.close({disableAutoOpen:!1})}),this.on("blocked",function(oe){!oe.newVersion||oe.newVersion<oe.oldVersion?console.warn("Dexie.delete('".concat(z.name,"') was blocked")):console.warn("Upgrade '".concat(z.name,"' blocked by other connection holding version ").concat(oe.oldVersion/10))}),this._maxKey=la(v.IDBKeyRange),this._createTransaction=function(oe,ce,le,me){return new z.Transaction(oe,ce,le,z._options.chromeTransactionDurability,me)},this._fireOnBlocked=function(oe){z.on("blocked").fire(oe),ze.filter(function(ce){return ce.name===z.name&&ce!==z&&!ce._state.vcFired}).map(function(ce){return ce.on("versionchange").fire(oe)})},this.use(os),this.use(ml),this.use(cu),this.use(fa),this.use(da),new Proxy(this,{get:function(oe,ce,le){var me;return ce==="_vip"||(ce==="table"?function(de){return $i(z.table(de),te)}:(me=Reflect.get(oe,ce,le))instanceof Pi?$i(me,te):ce==="tables"?me.map(function(de){return $i(de,te)}):ce==="_createTransaction"?function(){return $i(me.apply(this,arguments),te)}:me)}}));this.vip=te,X.forEach(function(oe){return oe(z)})}var us,nn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",gl=(Y.prototype.subscribe=function(f,v,_){return this._subscribe(f&&typeof f!="function"?f:{next:f,error:v,complete:_})},Y.prototype[nn]=function(){return this},Y);function Y(f){this._subscribe=f}try{us={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{us={indexedDB:null,IDBKeyRange:null}}function o(f){var v,_=!1,C=new gl(function(O){var M=he(f),F,z=!1,X={},re={},te={get closed(){return z},unsubscribe:function(){z||(z=!0,F&&F.abort(),oe&&pn.storagemutated.unsubscribe(le))}},oe=(O.start&&O.start(te),!1),ce=function(){return Yn(me)},le=function(de){S(X,de),B(re,X)&&ce()},me=function(){var de,be,Ce;!z&&us.indexedDB&&(X={},de={},F&&F.abort(),F=new AbortController,Ce=(xe=>{var Pe=Lr();try{M&&dn();var qe=jn(f,xe);return qe=M?qe.finally(wr):qe}finally{Pe&&Ri()}})(be={subscr:de,signal:F.signal,requery:ce,querier:f,trans:null}),Promise.resolve(Ce).then(function(xe){_=!0,v=xe,z||be.signal.aborted||(X={},(Pe=>{for(var qe in Pe)if(A(Pe,qe))return;return 1})(re=de)||oe||(pn(Ta,le),oe=!0),Yn(function(){return!z&&O.next&&O.next(xe)}))},function(xe){_=!1,["DatabaseClosedError","AbortError"].includes(xe?.name)||z||Yn(function(){z||O.error&&O.error(xe)})}))};return setTimeout(ce,0),te});return C.hasValue=function(){return _},C.getValue=function(){return v},C}var u=ls;function d(f){var v=x;try{x=!0,pn.storagemutated.fire(f),rt(f,!0)}finally{x=v}}I(u,r(r({},_e),{delete:function(f){return new u(f,{addons:[]}).delete()},exists:function(f){return new u(f,{addons:[]}).open().then(function(v){return v.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return v=u.dependencies,_=v.indexedDB,v=v.IDBKeyRange,(Pa(_)?Promise.resolve(_.databases()).then(function(C){return C.map(function(O){return O.name}).filter(function(O){return O!==Bs})}):co(_,v).toCollection().primaryKeys()).then(f)}catch{return Nt(new Ye.MissingAPI)}var v,_},defineClass:function(){return function(f){y(this,f)}},ignoreTransaction:function(f){return Xe.trans?xi(Xe.transless,f):f()},vip:Ro,async:function(f){return function(){try{var v=yn(f.apply(this,arguments));return v&&typeof v.then=="function"?v:ut.resolve(v)}catch(_){return Nt(_)}}},spawn:function(f,v,_){try{var C=yn(f.apply(_,v||[]));return C&&typeof C.then=="function"?C:ut.resolve(C)}catch(O){return Nt(O)}},currentTransaction:{get:function(){return Xe.trans||null}},waitFor:function(f,v){return f=ut.resolve(typeof f=="function"?u.ignoreTransaction(f):f).timeout(v||6e4),Xe.trans?Xe.trans.waitFor(f):f},Promise:ut,debug:{get:function(){return ot},set:function(f){Jr(f)}},derive:k,extend:y,props:I,override:W,Events:Ei,on:pn,liveQuery:o,extendObservabilitySet:S,getByKeyPath:Q,setByKeyPath:U,delByKeyPath:function(f,v){typeof v=="string"?U(f,v,void 0):"length"in v&&[].map.call(v,function(_){U(f,_,void 0)})},shallowClone:$,deepClone:J,getObjectDiff:Da,cmp:Wt,asap:fe,minKey:-1/0,addons:[],connections:ze,errnames:Tt,dependencies:us,cache:q,semVer:"4.3.0",version:"4.3.0".split(".").map(function(f){return parseInt(f)}).reduce(function(f,v,_){return f+v/Math.pow(10,2*_)})})),u.maxKey=la(u.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(pn(Ta,function(f){x||(f=new CustomEvent(Rt,{detail:f}),x=!0,dispatchEvent(f),x=!1)}),addEventListener(Rt,function(f){f=f.detail,x||d(f)}));var p,x=!1,E=function(){};return typeof BroadcastChannel<"u"&&((E=function(){(p=new BroadcastChannel(Rt)).onmessage=function(f){return f.data&&d(f.data)}})(),typeof p.unref=="function"&&p.unref(),pn(Ta,function(f){x||p.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!ls.disableBfCache&&f.persisted){ot&&console.debug("Dexie: handling persisted pagehide"),p?.close();for(var v=0,_=ze;v<_.length;v++)_[v].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!ls.disableBfCache&&f.persisted&&(ot&&console.debug("Dexie: handling persisted pageshow"),E(),d({all:new Ir(-1/0,[[]])}))})),ut.rejectionMapper=function(f,v){return!f||f instanceof Fe||f instanceof TypeError||f instanceof SyntaxError||!f.name||!It[f.name]?f:(v=new It[f.name](v||f.message,f),"stack"in f&&j(v,"stack",{get:function(){return this.inner.stack}}),v)},Jr(ot),r(ls,Object.freeze({__proto__:null,Dexie:ls,Entity:Jt,PropModification:Yr,RangeSet:Ir,add:function(f){return new Yr({add:f})},cmp:Wt,default:ls,liveQuery:o,mergeRanges:Yi,rangesOverlap:on,remove:function(f){return new Yr({remove:f})},replacePrefix:function(f,v){return new Yr({replacePrefix:[f,v]})}}),{default:ls}),ls})})(ip)),ip.exports}var ZU=XU();const t2=al(ZU),n3=Symbol.for("Dexie"),Sp=globalThis[n3]||(globalThis[n3]=t2);if(t2.semVer!==Sp.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${t2.semVer} and ${Sp.semVer}`);const{liveQuery:q1e,mergeRanges:H1e,rangesOverlap:G1e,RangeSet:W1e,cmp:K1e,Entity:Y1e,PropModification:$1e,replacePrefix:X1e,add:Z1e,remove:Q1e,DexieYProvider:J1e}=Sp,QU=()=>{};var r3={};const C6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],c=t[n++],h=t[n++],y=((i&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|c&63)}}return e.join("")},T6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],c=i+1<t.length,h=c?t[i+1]:0,y=i+2<t.length,g=y?t[i+2]:0,w=a>>2,A=(a&3)<<4|h>>4;let I=(h&15)<<2|g>>6,R=g&63;y||(R=64,c||(I=64)),r.push(n[w],n[A],n[I],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(C6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const g=i<t.length?n[t.charAt(i)]:64;++i;const A=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||g==null||A==null)throw new eV;const I=a<<2|h>>4;if(r.push(I),g!==64){const R=h<<4&240|g>>2;if(r.push(R),A!==64){const j=g<<6&192|A;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tV=function(t){const e=C6(t);return T6.encodeByteArray(e,!0)},Cp=function(t){return tV(t).replace(/\./g,"")},I6=function(t){try{return T6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rV=()=>nV().__FIREBASE_DEFAULTS__,iV=()=>{if(typeof process>"u"||typeof r3>"u")return;const t=r3.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&I6(t[1]);return e&&JSON.parse(e)},Z1=()=>{try{return QU()||rV()||iV()||aV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},O6=t=>Z1()?.emulatorHosts?.[t],sV=t=>{const e=O6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N6=()=>Z1()?.config,R6=t=>Z1()?.[`_${t}`];class oV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Fd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function P6(t){return(await fetch(t,{credentials:"include"})).ok}function lV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Cp(JSON.stringify(n)),Cp(JSON.stringify(c)),""].join(".")}const o0={};function uV(){const t={prod:[],emulator:[]};for(const e of Object.keys(o0))o0[e]?t.emulator.push(e):t.prod.push(e);return t}function cV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let i3=!1;function D6(t,e){if(typeof window>"u"||typeof document>"u"||!Fd(window.location.host)||o0[t]===e||o0[t]||i3)return;o0[t]=e;function n(I){return`__firebase__banner__${I}`}const r="__firebase__banner",a=uV().prod.length>0;function c(){const I=document.getElementById(r);I&&I.remove()}function h(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,R){I.setAttribute("width","24"),I.setAttribute("id",R),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{i3=!0,c()},I}function w(I,R){I.setAttribute("id",R),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=cV(r),R=n("text"),j=document.getElementById(R)||document.createElement("span"),k=n("learnmore"),L=document.getElementById(k)||document.createElement("a"),G=n("preprendIcon"),K=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const W=I.element;h(W),w(L,k);const ne=g();y(K,G),W.append(K,j,L,ne),document.body.appendChild(W)}a?(j.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function qa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qa())}function dV(){const t=Z1()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pV(){const t=qa();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yV(){return!dV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vV(){try{return typeof indexedDB=="object"}catch{return!1}}function xV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const bV="FirebaseError";class ru extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bV,Object.setPrototypeOf(this,ru.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$0.prototype.create)}}class $0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],c=a?wV(a,r):"Error",h=`${this.serviceName}: ${c} (${i}).`;return new ru(i,h,r)}}function wV(t,e){return t.replace(EV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const EV=/\{\$([^}]+)}/g;function _V(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],c=e[i];if(a3(a)&&a3(c)){if(!Kc(a,c))return!1}else if(a!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function a3(t){return t!==null&&typeof t=="object"}function X0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Zh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AV(t,e){const n=new SV(t,e);return n.subscribe.bind(n)}class SV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ib),i.error===void 0&&(i.error=ib),i.complete===void 0&&(i.complete=ib);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ib(){}function vs(t){return t&&t._delegate?t._delegate:t}class Yc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pc="[DEFAULT]";let TV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OV(e))try{this.getOrInitializeService({instanceIdentifier:Pc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Pc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pc){return this.instances.has(e)}getOptions(e=Pc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pc){return this.component?this.component.multipleInstances?e:Pc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function IV(t){return t===Pc?void 0:t}function OV(t){return t.instantiationMode==="EAGER"}class NV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var In;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(In||(In={}));const RV={debug:In.DEBUG,verbose:In.VERBOSE,info:In.INFO,warn:In.WARN,error:In.ERROR,silent:In.SILENT},PV=In.INFO,DV={[In.DEBUG]:"log",[In.VERBOSE]:"log",[In.INFO]:"info",[In.WARN]:"warn",[In.ERROR]:"error"},MV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=DV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qE{constructor(e){this.name=e,this._logLevel=PV,this._logHandler=MV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in In))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,In.DEBUG,...e),this._logHandler(this,In.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,In.VERBOSE,...e),this._logHandler(this,In.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,In.INFO,...e),this._logHandler(this,In.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,In.WARN,...e),this._logHandler(this,In.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,In.ERROR,...e),this._logHandler(this,In.ERROR,...e)}}const kV=(t,e)=>e.some(n=>t instanceof n);let s3,o3;function jV(){return s3||(s3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LV(){return o3||(o3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M6=new WeakMap,n2=new WeakMap,k6=new WeakMap,ab=new WeakMap,HE=new WeakMap;function BV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n($u(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&M6.set(n,t)}).catch(()=>{}),HE.set(e,t),e}function FV(t){if(n2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});n2.set(t,e)}let r2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return n2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||k6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $u(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UV(t){r2=t(r2)}function VV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sb(this),e,...n);return k6.set(r,e.sort?e.sort():[e]),$u(r)}:LV().includes(t)?function(...e){return t.apply(sb(this),e),$u(M6.get(this))}:function(...e){return $u(t.apply(sb(this),e))}}function zV(t){return typeof t=="function"?VV(t):(t instanceof IDBTransaction&&FV(t),kV(t,jV())?new Proxy(t,r2):t)}function $u(t){if(t instanceof IDBRequest)return BV(t);if(ab.has(t))return ab.get(t);const e=zV(t);return e!==t&&(ab.set(t,e),HE.set(e,t)),e}const sb=t=>HE.get(t);function qV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(t,e),h=$u(c);return r&&c.addEventListener("upgradeneeded",y=>{r($u(c.result),y.oldVersion,y.newVersion,$u(c.transaction),y)}),n&&c.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),h.then(y=>{a&&y.addEventListener("close",()=>a()),i&&y.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const HV=["get","getKey","getAll","getAllKeys","count"],GV=["put","add","delete","clear"],ob=new Map;function l3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ob.get(e))return ob.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HV.includes(n)))return;const a=async function(c,...h){const y=this.transaction(c,i?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),i&&y.done]))[0]};return ob.set(e,a),a}UV(t=>({...t,get:(e,n,r)=>l3(e,n)||t.get(e,n,r),has:(e,n)=>!!l3(e,n)||t.has(e,n)}));class WV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KV(t){return t.getComponent()?.type==="VERSION"}const i2="@firebase/app",u3="0.14.8";const Gl=new qE("@firebase/app"),YV="@firebase/app-compat",$V="@firebase/analytics-compat",XV="@firebase/analytics",ZV="@firebase/app-check-compat",QV="@firebase/app-check",JV="@firebase/auth",ez="@firebase/auth-compat",tz="@firebase/database",nz="@firebase/data-connect",rz="@firebase/database-compat",iz="@firebase/functions",az="@firebase/functions-compat",sz="@firebase/installations",oz="@firebase/installations-compat",lz="@firebase/messaging",uz="@firebase/messaging-compat",cz="@firebase/performance",fz="@firebase/performance-compat",dz="@firebase/remote-config",hz="@firebase/remote-config-compat",mz="@firebase/storage",gz="@firebase/storage-compat",pz="@firebase/firestore",yz="@firebase/ai",vz="@firebase/firestore-compat",xz="firebase",bz="12.9.0";const a2="[DEFAULT]",wz={[i2]:"fire-core",[YV]:"fire-core-compat",[XV]:"fire-analytics",[$V]:"fire-analytics-compat",[QV]:"fire-app-check",[ZV]:"fire-app-check-compat",[JV]:"fire-auth",[ez]:"fire-auth-compat",[tz]:"fire-rtdb",[nz]:"fire-data-connect",[rz]:"fire-rtdb-compat",[iz]:"fire-fn",[az]:"fire-fn-compat",[sz]:"fire-iid",[oz]:"fire-iid-compat",[lz]:"fire-fcm",[uz]:"fire-fcm-compat",[cz]:"fire-perf",[fz]:"fire-perf-compat",[dz]:"fire-rc",[hz]:"fire-rc-compat",[mz]:"fire-gcs",[gz]:"fire-gcs-compat",[pz]:"fire-fst",[vz]:"fire-fst-compat",[yz]:"fire-vertex","fire-js":"fire-js",[xz]:"fire-js-all"};const Tp=new Map,Ez=new Map,s2=new Map;function c3(t,e){try{t.container.addComponent(e)}catch(n){Gl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wd(t){const e=t.name;if(s2.has(e))return Gl.debug(`There were multiple attempts to register component ${e}.`),!1;s2.set(e,t);for(const n of Tp.values())c3(n,t);for(const n of Ez.values())c3(n,t);return!0}function GE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zs(t){return t==null?!1:t.settings!==void 0}const _z={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xu=new $0("app","Firebase",_z);class Az{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xu.create("app-deleted",{appName:this._name})}}const Ud=bz;function j6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:a2,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Xu.create("bad-app-name",{appName:String(i)});if(n||(n=N6()),!n)throw Xu.create("no-options");const a=Tp.get(i);if(a){if(Kc(n,a.options)&&Kc(r,a.config))return a;throw Xu.create("duplicate-app",{appName:i})}const c=new NV(i);for(const y of s2.values())c.addComponent(y);const h=new Az(n,r,c);return Tp.set(i,h),h}function L6(t=a2){const e=Tp.get(t);if(!e&&t===a2&&N6())return j6();if(!e)throw Xu.create("no-app",{appName:t});return e}function Zu(t,e,n){let r=wz[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gl.warn(c.join(" "));return}wd(new Yc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Sz="firebase-heartbeat-database",Cz=1,b0="firebase-heartbeat-store";let lb=null;function B6(){return lb||(lb=qV(Sz,Cz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(b0)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xu.create("idb-open",{originalErrorMessage:t.message})})),lb}async function Tz(t){try{const n=(await B6()).transaction(b0),r=await n.objectStore(b0).get(F6(t));return await n.done,r}catch(e){if(e instanceof ru)Gl.warn(e.message);else{const n=Xu.create("idb-get",{originalErrorMessage:e?.message});Gl.warn(n.message)}}}async function f3(t,e){try{const r=(await B6()).transaction(b0,"readwrite");await r.objectStore(b0).put(e,F6(t)),await r.done}catch(n){if(n instanceof ru)Gl.warn(n.message);else{const r=Xu.create("idb-set",{originalErrorMessage:n?.message});Gl.warn(r.message)}}}function F6(t){return`${t.name}!${t.options.appId}`}const Iz=1024,Oz=30;class Nz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Pz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=d3();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Oz){const i=Dz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=d3(),{heartbeatsToSend:n,unsentEntries:r}=Rz(this._heartbeatsCache.heartbeats),i=Cp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Gl.warn(e),""}}}function d3(){return new Date().toISOString().substring(0,10)}function Rz(t,e=Iz){const n=[];let r=t.slice();for(const i of t){const a=n.find(c=>c.agent===i.agent);if(a){if(a.dates.push(i.date),h3(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),h3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Pz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vV()?xV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Tz(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return f3(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return f3(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function h3(t){return Cp(JSON.stringify({version:2,heartbeats:t})).length}function Dz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Mz(t){wd(new Yc("platform-logger",e=>new WV(e),"PRIVATE")),wd(new Yc("heartbeat",e=>new Nz(e),"PRIVATE")),Zu(i2,u3,t),Zu(i2,u3,"esm2020"),Zu("fire-js","")}Mz("");var kz="firebase",jz="12.9.0";Zu(kz,jz,"app");function U6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lz=U6,V6=new $0("auth","Firebase",U6());const Ip=new qE("@firebase/auth");function Bz(t,...e){Ip.logLevel<=In.WARN&&Ip.warn(`Auth (${Ud}): ${t}`,...e)}function ap(t,...e){Ip.logLevel<=In.ERROR&&Ip.error(`Auth (${Ud}): ${t}`,...e)}function _o(t,...e){throw WE(t,...e)}function Yo(t,...e){return WE(t,...e)}function z6(t,e,n){const r={...Lz(),[e]:n};return new $0("auth","Firebase",r).create(e,{appName:t.name})}function Fl(t){return z6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return V6.create(t,...e)}function Ut(t,e,...n){if(!t)throw WE(e,...n)}function Ml(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ap(e),new Error(e)}function Wl(t,e){t||Ml(e)}function o2(){return typeof self<"u"&&self.location?.href||""}function Fz(){return m3()==="http:"||m3()==="https:"}function m3(){return typeof self<"u"&&self.location?.protocol||null}function Uz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fz()||mV()||"connection"in navigator)?navigator.onLine:!0}function Vz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Z0{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wl(n>e,"Short delay should be less than long delay!"),this.isMobile=fV()||gV()}get(){return Uz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function KE(t,e){Wl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class q6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ml("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ml("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ml("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hz=new Z0(3e4,6e4);function hc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function mc(t,e,n,r,i={}){return H6(t,i,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const h=X0({key:t.config.apiKey,...c}).slice(1),y=await t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:y,...a};return hV()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Fd(t.emulatorConfig.host)&&(g.credentials="include"),q6.fetch()(await G6(t,t.config.apiHost,n,h),g)})}async function H6(t,e,n){t._canInitEmulator=!1;const r={...zz,...e};try{const i=new Wz(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Rg(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[y,g]=h.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rg(t,"credential-already-in-use",c);if(y==="EMAIL_EXISTS")throw Rg(t,"email-already-in-use",c);if(y==="USER_DISABLED")throw Rg(t,"user-disabled",c);const w=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw z6(t,w,g);_o(t,w)}}catch(i){if(i instanceof ru)throw i;_o(t,"network-request-failed",{message:String(i)})}}async function Q0(t,e,n,r,i={}){const a=await mc(t,e,n,r,i);return"mfaPendingCredential"in a&&_o(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function G6(t,e,n,r){const i=`${e}${n}?${r}`,a=t,c=a.config.emulator?KE(t.config,i):`${t.config.apiScheme}://${i}`;return qz.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function Gz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yo(this.auth,"network-request-failed")),Hz.get())})}}function Rg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yo(t,e,r);return i.customData._tokenResponse=n,i}function g3(t){return t!==void 0&&t.enterprise!==void 0}class Kz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Gz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Yz(t,e){return mc(t,"GET","/v2/recaptchaConfig",hc(t,e))}async function $z(t,e){return mc(t,"POST","/v1/accounts:delete",e)}async function Op(t,e){return mc(t,"POST","/v1/accounts:lookup",e)}function l0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Xz(t,e=!1){const n=vs(t),r=await n.getIdToken(e),i=YE(r);Ut(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,c=a?.sign_in_provider;return{claims:i,token:r,authTime:l0(ub(i.auth_time)),issuedAtTime:l0(ub(i.iat)),expirationTime:l0(ub(i.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function ub(t){return Number(t)*1e3}function YE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ap("JWT malformed, contained fewer than 3 sections"),null;try{const i=I6(n);return i?JSON.parse(i):(ap("Failed to decode base64 JWT payload"),null)}catch(i){return ap("Caught error parsing JWT payload as JSON",i?.toString()),null}}function p3(t){const e=YE(t);return Ut(e,"internal-error"),Ut(typeof e.exp<"u","internal-error"),Ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function w0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ru&&Zz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Zz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Qz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class l2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=l0(this.lastLoginAt),this.creationTime=l0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Np(t){const e=t.auth,n=await t.getIdToken(),r=await w0(t,Op(e,{idToken:n}));Ut(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?W6(i.providerUserInfo):[],c=eq(t.providerData,a),h=t.isAnonymous,y=!(t.email&&i.passwordHash)&&!c?.length,g=h?y:!1,w={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new l2(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(t,w)}async function Jz(t){const e=vs(t);await Np(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function W6(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function tq(t,e){const n=await H6(t,{},async()=>{const r=X0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,c=await G6(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:h,body:r};return t.emulatorConfig&&Fd(t.emulatorConfig.host)&&(y.credentials="include"),q6.fetch()(c,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nq(t,e){return mc(t,"POST","/v2/accounts:revokeToken",hc(t,e))}class fd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ut(e.idToken,"internal-error"),Ut(typeof e.idToken<"u","internal-error"),Ut(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ut(e.length!==0,"internal-error");const n=p3(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await tq(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,c=new fd;return r&&(Ut(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Ut(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),a&&(Ut(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fd,this.toJSON())}_performRefresh(){return Ml("not implemented")}}function Mu(t,e){Ut(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xo{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Qz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new l2(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await w0(this,this.stsTokenManager.getToken(this.auth,e));return Ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Xz(this,e)}reload(){return Jz(this)}_assign(e){this!==e&&(Ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Np(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zs(this.auth.app))return Promise.reject(Fl(this.auth));const e=await this.getIdToken();return await w0(this,$z(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:A,emailVerified:I,isAnonymous:R,providerData:j,stsTokenManager:k}=n;Ut(A&&k,e,"internal-error");const L=fd.fromJSON(this.name,k);Ut(typeof A=="string",e,"internal-error"),Mu(r,e.name),Mu(i,e.name),Ut(typeof I=="boolean",e,"internal-error"),Ut(typeof R=="boolean",e,"internal-error"),Mu(a,e.name),Mu(c,e.name),Mu(h,e.name),Mu(y,e.name),Mu(g,e.name),Mu(w,e.name);const G=new xo({uid:A,auth:e,email:i,emailVerified:I,displayName:r,isAnonymous:R,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:L,createdAt:g,lastLoginAt:w});return j&&Array.isArray(j)&&(G.providerData=j.map(K=>({...K}))),y&&(G._redirectEventId=y),G}static async _fromIdTokenResponse(e,n,r=!1){const i=new fd;i.updateFromServerResponse(n);const a=new xo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Np(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ut(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?W6(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!a?.length,h=new fd;h.updateFromIdToken(r);const y=new xo({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new l2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(y,g),y}}const y3=new Map;function kl(t){Wl(t instanceof Function,"Expected a class definition");let e=y3.get(t);return e?(Wl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y3.set(t,e),e)}class K6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K6.type="NONE";const v3=K6;function sp(t,e,n){return`firebase:${t}:${e}:${n}`}class dd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=sp(this.userKey,i.apiKey,a),this.fullPersistenceKey=sp("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Op(this.auth,{idToken:e}).catch(()=>{});return n?xo._fromGetAccountInfoResponse(this.auth,n,e):null}return xo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dd(kl(v3),e,r);const i=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=i[0]||kl(v3);const c=sp(r,e.config.apiKey,e.name);let h=null;for(const g of n)try{const w=await g._get(c);if(w){let A;if(typeof w=="string"){const I=await Op(e,{idToken:w}).catch(()=>{});if(!I)break;A=await xo._fromGetAccountInfoResponse(e,I,w)}else A=xo._fromJSON(e,w);g!==a&&(h=A),a=g;break}}catch{}const y=i.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!y.length?new dd(a,e,r):(a=y[0],h&&await a._set(c,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==a)try{await g._remove(c)}catch{}})),new dd(a,e,r))}}function x3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J6(e))return"Blackberry";if(e8(e))return"Webos";if($6(e))return"Safari";if((e.includes("chrome/")||X6(e))&&!e.includes("edge/"))return"Chrome";if(Q6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Y6(t=qa()){return/firefox\//i.test(t)}function $6(t=qa()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X6(t=qa()){return/crios\//i.test(t)}function Z6(t=qa()){return/iemobile/i.test(t)}function Q6(t=qa()){return/android/i.test(t)}function J6(t=qa()){return/blackberry/i.test(t)}function e8(t=qa()){return/webos/i.test(t)}function $E(t=qa()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rq(t=qa()){return $E(t)&&!!window.navigator?.standalone}function iq(){return pV()&&document.documentMode===10}function t8(t=qa()){return $E(t)||Q6(t)||e8(t)||J6(t)||/windows phone/i.test(t)||Z6(t)}function n8(t,e=[]){let n;switch(t){case"Browser":n=x3(qa());break;case"Worker":n=`${x3(qa())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ud}/${r}`}class aq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((c,h)=>{try{const y=e(a);c(y)}catch(y){h(y)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function sq(t,e={}){return mc(t,"GET","/v2/passwordPolicy",hc(t,e))}const oq=6;class lq{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oq,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class uq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b3(this),this.idTokenSubscription=new b3(this),this.beforeStateQueue=new aq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kl(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Op(this,{idToken:e}),r=await xo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Np(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Vz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zs(this.app))return Promise.reject(Fl(this));const n=e?vs(e):null;return n&&Ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zs(this.app)?Promise.reject(Fl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zs(this.app)?Promise.reject(Fl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sq(this),n=new lq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $0("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nq(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&kl(e)||this._popupRedirectResolver;Ut(n,this,"argument-error"),this.redirectPersistenceManager=await dd.create(this,[kl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,i);return()=>{c=!0,y()}}else{const y=e.addObserver(n);return()=>{c=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Zs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Bz(`Error while retrieving App Check token: ${e.error}`),e?.token}}function gf(t){return vs(t)}class b3{constructor(e){this.auth=e,this.observer=null,this.addObserver=AV(n=>this.observer=n)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Q1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cq(t){Q1=t}function r8(t){return Q1.loadJS(t)}function fq(){return Q1.recaptchaEnterpriseScript}function dq(){return Q1.gapiScript}function hq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mq{constructor(){this.enterprise=new gq}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gq{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pq="recaptcha-enterprise",i8="NO_RECAPTCHA";class yq{constructor(e){this.type=pq,this.auth=gf(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{Yz(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new Kz(y);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,c(g.siteKey)}}).catch(y=>{h(y)})})}function i(a,c,h){const y=window.grecaptcha;g3(y)?y.enterprise.ready(()=>{y.enterprise.execute(a,{action:e}).then(g=>{c(g)}).catch(()=>{c(i8)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mq().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(h=>{if(!n&&g3(window.grecaptcha))i(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let y=fq();y.length!==0&&(y+=h),r8(y).then(()=>{i(h,a,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function w3(t,e,n,r=!1,i=!1){const a=new yq(t);let c;if(i)c=i8;else try{c=await a.verify(n)}catch{c=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const y=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const y=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function u2(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await w3(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await w3(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}function vq(t,e){const n=GE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Kc(a,e??{}))return i;_o(i,"already-initialized")}return n.initialize({options:e})}function xq(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(kl);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function bq(t,e,n){const r=gf(t);Ut(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=a8(e),{host:c,port:h}=wq(e),y=h===null?"":`:${h}`,g={url:`${a}//${c}${y}/`},w=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ut(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ut(Kc(g,r.config.emulator)&&Kc(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,Fd(c)?(P6(`${a}//${c}${y}`),D6("Auth",!0)):Eq()}function a8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wq(t){const e=a8(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:E3(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:E3(c)}}}function E3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Eq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class XE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ml("not implemented")}_getIdTokenResponse(e){return Ml("not implemented")}_linkToIdToken(e,n){return Ml("not implemented")}_getReauthenticationResolver(e){return Ml("not implemented")}}async function _q(t,e){return mc(t,"POST","/v1/accounts:signUp",e)}async function Aq(t,e){return Q0(t,"POST","/v1/accounts:signInWithPassword",hc(t,e))}async function Sq(t,e){return Q0(t,"POST","/v1/accounts:signInWithEmailLink",hc(t,e))}async function Cq(t,e){return Q0(t,"POST","/v1/accounts:signInWithEmailLink",hc(t,e))}class E0 extends XE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new E0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new E0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u2(e,n,"signInWithPassword",Aq);case"emailLink":return Sq(e,{email:this._email,oobCode:this._password});default:_o(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u2(e,r,"signUpPassword",_q);case"emailLink":return Cq(e,{idToken:n,email:this._email,oobCode:this._password});default:_o(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hd(t,e){return Q0(t,"POST","/v1/accounts:signInWithIdp",hc(t,e))}const Tq="http://localhost";class $c extends XE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $c(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_o("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const c=new $c(r,i);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return hd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hd(e,n)}buildRequest(){const e={requestUri:Tq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=X0(n)}return e}}function Iq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Oq(t){const e=Xh(Zh(t)).link,n=e?Xh(Zh(e)).deep_link_id:null,r=Xh(Zh(t)).deep_link_id;return(r?Xh(Zh(r)).link:null)||r||n||e||t}class ZE{constructor(e){const n=Xh(Zh(e)),r=n.apiKey??null,i=n.oobCode??null,a=Iq(n.mode??null);Ut(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Oq(e);try{return new ZE(n)}catch{return null}}}class Vd{constructor(){this.providerId=Vd.PROVIDER_ID}static credential(e,n){return E0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ZE.parseLink(n);return Ut(r,"argument-error"),E0._fromEmailAndCode(e,r.code,r.tenantId)}}Vd.PROVIDER_ID="password";Vd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class s8{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class J0 extends s8{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fu extends J0{constructor(){super("facebook.com")}static credential(e){return $c._fromParams({providerId:Fu.PROVIDER_ID,signInMethod:Fu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fu.credentialFromTaggedObject(e)}static credentialFromError(e){return Fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fu.credential(e.oauthAccessToken)}catch{return null}}}Fu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fu.PROVIDER_ID="facebook.com";class Uu extends J0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $c._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Uu.credentialFromTaggedObject(e)}static credentialFromError(e){return Uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Uu.credential(n,r)}catch{return null}}}Uu.GOOGLE_SIGN_IN_METHOD="google.com";Uu.PROVIDER_ID="google.com";class Vu extends J0{constructor(){super("github.com")}static credential(e){return $c._fromParams({providerId:Vu.PROVIDER_ID,signInMethod:Vu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vu.credentialFromTaggedObject(e)}static credentialFromError(e){return Vu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vu.credential(e.oauthAccessToken)}catch{return null}}}Vu.GITHUB_SIGN_IN_METHOD="github.com";Vu.PROVIDER_ID="github.com";class zu extends J0{constructor(){super("twitter.com")}static credential(e,n){return $c._fromParams({providerId:zu.PROVIDER_ID,signInMethod:zu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zu.credentialFromTaggedObject(e)}static credentialFromError(e){return zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zu.credential(n,r)}catch{return null}}}zu.TWITTER_SIGN_IN_METHOD="twitter.com";zu.PROVIDER_ID="twitter.com";async function Nq(t,e){return Q0(t,"POST","/v1/accounts:signUp",hc(t,e))}class Xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await xo._fromIdTokenResponse(e,r,i),c=_3(r);return new Xc({user:a,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=_3(r);return new Xc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function _3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Rp extends ru{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Rp(e,n,r,i)}}function o8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rp._fromErrorAndOperation(t,a,e,r):a})}async function Rq(t,e,n=!1){const r=await w0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xc._forOperation(t,"link",r)}async function Pq(t,e,n=!1){const{auth:r}=t;if(Zs(r.app))return Promise.reject(Fl(r));const i="reauthenticate";try{const a=await w0(t,o8(r,i,e,t),n);Ut(a.idToken,r,"internal-error");const c=YE(a.idToken);Ut(c,r,"internal-error");const{sub:h}=c;return Ut(t.uid===h,r,"user-mismatch"),Xc._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&_o(r,"user-mismatch"),a}}async function l8(t,e,n=!1){if(Zs(t.app))return Promise.reject(Fl(t));const r="signIn",i=await o8(t,r,e),a=await Xc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Dq(t,e){return l8(gf(t),e)}async function u8(t){const e=gf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Mq(t,e,n){if(Zs(t.app))return Promise.reject(Fl(t));const r=gf(t),c=await u2(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nq).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&u8(t),y}),h=await Xc._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function kq(t,e,n){return Zs(t.app)?Promise.reject(Fl(t)):Dq(vs(t),Vd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&u8(t),r})}function jq(t,e,n,r){return vs(t).onIdTokenChanged(e,n,r)}function Lq(t,e,n){return vs(t).beforeAuthStateChanged(e,n)}function Bq(t,e,n,r){return vs(t).onAuthStateChanged(e,n,r)}function Fq(t){return vs(t).signOut()}const Pp="__sak";class c8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pp,"1"),this.storage.removeItem(Pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Uq=1e3,Vq=10;class f8 extends c8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,y)=>{this.notifyListeners(c,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);iq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Vq):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Uq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}f8.type="LOCAL";const zq=f8;class d8 extends c8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}d8.type="SESSION";const h8=d8;function qq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class J1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new J1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(c).map(async g=>g(n.origin,a)),y=await qq(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}J1.receivers=[];function QE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class Hq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,c;return new Promise((h,y)=>{const g=QE("",20);i.port1.start();const w=setTimeout(()=>{y(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(A){const I=A;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(I.data.response);break;default:clearTimeout(w),clearTimeout(a),y(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function $o(){return window}function Gq(t){$o().location.href=t}function m8(){return typeof $o().WorkerGlobalScope<"u"&&typeof $o().importScripts=="function"}async function Wq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kq(){return navigator?.serviceWorker?.controller||null}function Yq(){return m8()?self:null}const g8="firebaseLocalStorageDb",$q=1,Dp="firebaseLocalStorage",p8="fbase_key";class em{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ey(t,e){return t.transaction([Dp],e?"readwrite":"readonly").objectStore(Dp)}function Xq(){const t=indexedDB.deleteDatabase(g8);return new em(t).toPromise()}function c2(){const t=indexedDB.open(g8,$q);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dp,{keyPath:p8})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dp)?e(r):(r.close(),await Xq(),e(await c2()))})})}async function A3(t,e,n){const r=ey(t,!0).put({[p8]:e,value:n});return new em(r).toPromise()}async function Zq(t,e){const n=ey(t,!1).get(e),r=await new em(n).toPromise();return r===void 0?null:r.value}function S3(t,e){const n=ey(t,!0).delete(e);return new em(n).toPromise()}const Qq=800,Jq=3;class y8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Jq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=J1._getInstance(Yq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Wq(),!this.activeServiceWorker)return;this.sender=new Hq(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c2();return await A3(e,Pp,"1"),await S3(e,Pp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A3(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Zq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S3(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=ey(i,!1).getAll();return new em(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y8.type="LOCAL";const eH=y8;new Z0(3e4,6e4);function tH(t,e){return e?kl(e):(Ut(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class JE extends XE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nH(t){return l8(t.auth,new JE(t),t.bypassAuthState)}function rH(t){const{auth:e,user:n}=t;return Ut(n,e,"internal-error"),Pq(n,new JE(t),t.bypassAuthState)}async function iH(t){const{auth:e,user:n}=t;return Ut(n,e,"internal-error"),Rq(n,new JE(t),t.bypassAuthState)}class v8{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nH;case"linkViaPopup":case"linkViaRedirect":return iH;case"reauthViaPopup":case"reauthViaRedirect":return rH;default:_o(this.auth,"internal-error")}}resolve(e){Wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aH=new Z0(2e3,1e4);class od extends v8{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,od.currentPopupAction&&od.currentPopupAction.cancel(),od.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ut(e,this.auth,"internal-error"),e}async onExecution(){Wl(this.filter.length===1,"Popup operations only handle one event");const e=QE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,od.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aH.get())};e()}}od.currentPopupAction=null;const sH="pendingRedirect",op=new Map;class oH extends v8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=op.get(this.auth._key());if(!e){try{const r=await lH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}op.set(this.auth._key(),e)}return this.bypassAuthState||op.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lH(t,e){const n=fH(e),r=cH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function uH(t,e){op.set(t._key(),e)}function cH(t){return kl(t._redirectPersistence)}function fH(t){return sp(sH,t.config.apiKey,t.name)}async function dH(t,e,n=!1){if(Zs(t.app))return Promise.reject(Fl(t));const r=gf(t),i=tH(r,e),c=await new oH(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const hH=600*1e3;class mH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!x8(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Yo(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hH&&this.cachedEventUids.clear(),this.cachedEventUids.has(C3(e))}saveEventToCache(e){this.cachedEventUids.add(C3(e)),this.lastProcessedEventTime=Date.now()}}function C3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function x8({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function gH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x8(t);default:return!1}}async function pH(t,e={}){return mc(t,"GET","/v1/projects",e)}const yH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vH=/^https?/;async function xH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pH(t);for(const n of e)try{if(bH(n))return}catch{}_o(t,"unauthorized-domain")}function bH(t){const e=o2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!vH.test(n))return!1;if(yH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const wH=new Z0(3e4,6e4);function T3(){const t=$o().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EH(t){return new Promise((e,n)=>{function r(){T3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T3(),n(Yo(t,"network-request-failed"))},timeout:wH.get()})}if($o().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($o().gapi?.load)r();else{const i=hq("iframefcb");return $o()[i]=()=>{gapi.load?r():n(Yo(t,"network-request-failed"))},r8(`${dq()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw lp=null,e})}let lp=null;function _H(t){return lp=lp||EH(t),lp}const AH=new Z0(5e3,15e3),SH="__/auth/iframe",CH="emulator/auth/iframe",TH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OH(t){const e=t.config;Ut(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?KE(e,CH):`https://${t.config.authDomain}/${SH}`,r={apiKey:e.apiKey,appName:t.name,v:Ud},i=IH.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${X0(r).slice(1)}`}async function NH(t){const e=await _H(t),n=$o().gapi;return Ut(n,t,"internal-error"),e.open({where:document.body,url:OH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TH,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const c=Yo(t,"network-request-failed"),h=$o().setTimeout(()=>{a(c)},AH.get());function y(){$o().clearTimeout(h),i(r)}r.ping(y).then(y,()=>{a(c)})}))}const RH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PH=500,DH=600,MH="_blank",kH="http://localhost";class I3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jH(t,e,n,r=PH,i=DH){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const y={...RH,width:r.toString(),height:i.toString(),top:a,left:c},g=qa().toLowerCase();n&&(h=X6(g)?MH:n),Y6(g)&&(e=e||kH,y.scrollbars="yes");const w=Object.entries(y).reduce((I,[R,j])=>`${I}${R}=${j},`,"");if(rq(g)&&h!=="_self")return LH(e||"",h),new I3(null);const A=window.open(e||"",h,w);Ut(A,t,"popup-blocked");try{A.focus()}catch{}return new I3(A)}function LH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const BH="__/auth/handler",FH="emulator/auth/handler",UH=encodeURIComponent("fac");async function O3(t,e,n,r,i,a){Ut(t.config.authDomain,t,"auth-domain-config-required"),Ut(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ud,eventId:i};if(e instanceof s8){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",_V(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,A]of Object.entries({}))c[w]=A}if(e instanceof J0){const w=e.getScopes().filter(A=>A!=="");w.length>0&&(c.scopes=w.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const y=await t._getAppCheckToken(),g=y?`#${UH}=${encodeURIComponent(y)}`:"";return`${VH(t)}?${X0(h).slice(1)}${g}`}function VH({config:t}){return t.emulator?KE(t,FH):`https://${t.authDomain}/${BH}`}const cb="webStorageSupport";class zH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h8,this._completeRedirectFn=dH,this._overrideRedirectResult=uH}async _openPopup(e,n,r,i){Wl(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await O3(e,n,r,o2(),i);return jH(e,a,QE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await O3(e,n,r,o2(),i);return Gq(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Wl(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await NH(e),r=new mH(e);return n.register("authEvent",i=>(Ut(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cb,{type:cb},i=>{const a=i?.[0]?.[cb];a!==void 0&&n(!!a),_o(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t8()||$6()||$E()}}const qH=zH;var N3="@firebase/auth",R3="1.12.0";class HH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function GH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WH(t){wd(new Yc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Ut(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n8(t)},g=new uq(r,i,a,y);return xq(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wd(new Yc("auth-internal",e=>{const n=gf(e.getProvider("auth").getImmediate());return(r=>new HH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zu(N3,R3,GH(t)),Zu(N3,R3,"esm2020")}const KH=300,YH=R6("authIdTokenMaxAge")||KH;let P3=null;const $H=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YH)return;const i=n?.token;P3!==i&&(P3=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XH(t=L6()){const e=GE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vq(t,{popupRedirectResolver:qH,persistence:[eH,zq,h8]}),r=R6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=$H(a.toString());Lq(n,c,()=>c(n.currentUser)),jq(n,h=>c(h))}}const i=O6("auth");return i&&bq(n,`http://${i}`),n}function ZH(){return document.getElementsByTagName("head")?.[0]??document}cq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Yo("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",ZH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WH("Browser");var D3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qu,b8;(function(){var t;function e(U,$){function H(){}H.prototype=$.prototype,U.F=$.prototype,U.prototype=new H,U.prototype.constructor=U,U.D=function(ae,ie,Z){for(var J=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)J[Be-2]=arguments[Be];return $.prototype[ie].apply(ae,J)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(U,$,H){H||(H=0);const ae=Array(16);if(typeof $=="string")for(var ie=0;ie<16;++ie)ae[ie]=$.charCodeAt(H++)|$.charCodeAt(H++)<<8|$.charCodeAt(H++)<<16|$.charCodeAt(H++)<<24;else for(ie=0;ie<16;++ie)ae[ie]=$[H++]|$[H++]<<8|$[H++]<<16|$[H++]<<24;$=U.g[0],H=U.g[1],ie=U.g[2];let Z=U.g[3],J;J=$+(Z^H&(ie^Z))+ae[0]+3614090360&4294967295,$=H+(J<<7&4294967295|J>>>25),J=Z+(ie^$&(H^ie))+ae[1]+3905402710&4294967295,Z=$+(J<<12&4294967295|J>>>20),J=ie+(H^Z&($^H))+ae[2]+606105819&4294967295,ie=Z+(J<<17&4294967295|J>>>15),J=H+($^ie&(Z^$))+ae[3]+3250441966&4294967295,H=ie+(J<<22&4294967295|J>>>10),J=$+(Z^H&(ie^Z))+ae[4]+4118548399&4294967295,$=H+(J<<7&4294967295|J>>>25),J=Z+(ie^$&(H^ie))+ae[5]+1200080426&4294967295,Z=$+(J<<12&4294967295|J>>>20),J=ie+(H^Z&($^H))+ae[6]+2821735955&4294967295,ie=Z+(J<<17&4294967295|J>>>15),J=H+($^ie&(Z^$))+ae[7]+4249261313&4294967295,H=ie+(J<<22&4294967295|J>>>10),J=$+(Z^H&(ie^Z))+ae[8]+1770035416&4294967295,$=H+(J<<7&4294967295|J>>>25),J=Z+(ie^$&(H^ie))+ae[9]+2336552879&4294967295,Z=$+(J<<12&4294967295|J>>>20),J=ie+(H^Z&($^H))+ae[10]+4294925233&4294967295,ie=Z+(J<<17&4294967295|J>>>15),J=H+($^ie&(Z^$))+ae[11]+2304563134&4294967295,H=ie+(J<<22&4294967295|J>>>10),J=$+(Z^H&(ie^Z))+ae[12]+1804603682&4294967295,$=H+(J<<7&4294967295|J>>>25),J=Z+(ie^$&(H^ie))+ae[13]+4254626195&4294967295,Z=$+(J<<12&4294967295|J>>>20),J=ie+(H^Z&($^H))+ae[14]+2792965006&4294967295,ie=Z+(J<<17&4294967295|J>>>15),J=H+($^ie&(Z^$))+ae[15]+1236535329&4294967295,H=ie+(J<<22&4294967295|J>>>10),J=$+(ie^Z&(H^ie))+ae[1]+4129170786&4294967295,$=H+(J<<5&4294967295|J>>>27),J=Z+(H^ie&($^H))+ae[6]+3225465664&4294967295,Z=$+(J<<9&4294967295|J>>>23),J=ie+($^H&(Z^$))+ae[11]+643717713&4294967295,ie=Z+(J<<14&4294967295|J>>>18),J=H+(Z^$&(ie^Z))+ae[0]+3921069994&4294967295,H=ie+(J<<20&4294967295|J>>>12),J=$+(ie^Z&(H^ie))+ae[5]+3593408605&4294967295,$=H+(J<<5&4294967295|J>>>27),J=Z+(H^ie&($^H))+ae[10]+38016083&4294967295,Z=$+(J<<9&4294967295|J>>>23),J=ie+($^H&(Z^$))+ae[15]+3634488961&4294967295,ie=Z+(J<<14&4294967295|J>>>18),J=H+(Z^$&(ie^Z))+ae[4]+3889429448&4294967295,H=ie+(J<<20&4294967295|J>>>12),J=$+(ie^Z&(H^ie))+ae[9]+568446438&4294967295,$=H+(J<<5&4294967295|J>>>27),J=Z+(H^ie&($^H))+ae[14]+3275163606&4294967295,Z=$+(J<<9&4294967295|J>>>23),J=ie+($^H&(Z^$))+ae[3]+4107603335&4294967295,ie=Z+(J<<14&4294967295|J>>>18),J=H+(Z^$&(ie^Z))+ae[8]+1163531501&4294967295,H=ie+(J<<20&4294967295|J>>>12),J=$+(ie^Z&(H^ie))+ae[13]+2850285829&4294967295,$=H+(J<<5&4294967295|J>>>27),J=Z+(H^ie&($^H))+ae[2]+4243563512&4294967295,Z=$+(J<<9&4294967295|J>>>23),J=ie+($^H&(Z^$))+ae[7]+1735328473&4294967295,ie=Z+(J<<14&4294967295|J>>>18),J=H+(Z^$&(ie^Z))+ae[12]+2368359562&4294967295,H=ie+(J<<20&4294967295|J>>>12),J=$+(H^ie^Z)+ae[5]+4294588738&4294967295,$=H+(J<<4&4294967295|J>>>28),J=Z+($^H^ie)+ae[8]+2272392833&4294967295,Z=$+(J<<11&4294967295|J>>>21),J=ie+(Z^$^H)+ae[11]+1839030562&4294967295,ie=Z+(J<<16&4294967295|J>>>16),J=H+(ie^Z^$)+ae[14]+4259657740&4294967295,H=ie+(J<<23&4294967295|J>>>9),J=$+(H^ie^Z)+ae[1]+2763975236&4294967295,$=H+(J<<4&4294967295|J>>>28),J=Z+($^H^ie)+ae[4]+1272893353&4294967295,Z=$+(J<<11&4294967295|J>>>21),J=ie+(Z^$^H)+ae[7]+4139469664&4294967295,ie=Z+(J<<16&4294967295|J>>>16),J=H+(ie^Z^$)+ae[10]+3200236656&4294967295,H=ie+(J<<23&4294967295|J>>>9),J=$+(H^ie^Z)+ae[13]+681279174&4294967295,$=H+(J<<4&4294967295|J>>>28),J=Z+($^H^ie)+ae[0]+3936430074&4294967295,Z=$+(J<<11&4294967295|J>>>21),J=ie+(Z^$^H)+ae[3]+3572445317&4294967295,ie=Z+(J<<16&4294967295|J>>>16),J=H+(ie^Z^$)+ae[6]+76029189&4294967295,H=ie+(J<<23&4294967295|J>>>9),J=$+(H^ie^Z)+ae[9]+3654602809&4294967295,$=H+(J<<4&4294967295|J>>>28),J=Z+($^H^ie)+ae[12]+3873151461&4294967295,Z=$+(J<<11&4294967295|J>>>21),J=ie+(Z^$^H)+ae[15]+530742520&4294967295,ie=Z+(J<<16&4294967295|J>>>16),J=H+(ie^Z^$)+ae[2]+3299628645&4294967295,H=ie+(J<<23&4294967295|J>>>9),J=$+(ie^(H|~Z))+ae[0]+4096336452&4294967295,$=H+(J<<6&4294967295|J>>>26),J=Z+(H^($|~ie))+ae[7]+1126891415&4294967295,Z=$+(J<<10&4294967295|J>>>22),J=ie+($^(Z|~H))+ae[14]+2878612391&4294967295,ie=Z+(J<<15&4294967295|J>>>17),J=H+(Z^(ie|~$))+ae[5]+4237533241&4294967295,H=ie+(J<<21&4294967295|J>>>11),J=$+(ie^(H|~Z))+ae[12]+1700485571&4294967295,$=H+(J<<6&4294967295|J>>>26),J=Z+(H^($|~ie))+ae[3]+2399980690&4294967295,Z=$+(J<<10&4294967295|J>>>22),J=ie+($^(Z|~H))+ae[10]+4293915773&4294967295,ie=Z+(J<<15&4294967295|J>>>17),J=H+(Z^(ie|~$))+ae[1]+2240044497&4294967295,H=ie+(J<<21&4294967295|J>>>11),J=$+(ie^(H|~Z))+ae[8]+1873313359&4294967295,$=H+(J<<6&4294967295|J>>>26),J=Z+(H^($|~ie))+ae[15]+4264355552&4294967295,Z=$+(J<<10&4294967295|J>>>22),J=ie+($^(Z|~H))+ae[6]+2734768916&4294967295,ie=Z+(J<<15&4294967295|J>>>17),J=H+(Z^(ie|~$))+ae[13]+1309151649&4294967295,H=ie+(J<<21&4294967295|J>>>11),J=$+(ie^(H|~Z))+ae[4]+4149444226&4294967295,$=H+(J<<6&4294967295|J>>>26),J=Z+(H^($|~ie))+ae[11]+3174756917&4294967295,Z=$+(J<<10&4294967295|J>>>22),J=ie+($^(Z|~H))+ae[2]+718787259&4294967295,ie=Z+(J<<15&4294967295|J>>>17),J=H+(Z^(ie|~$))+ae[9]+3951481745&4294967295,U.g[0]=U.g[0]+$&4294967295,U.g[1]=U.g[1]+(ie+(J<<21&4294967295|J>>>11))&4294967295,U.g[2]=U.g[2]+ie&4294967295,U.g[3]=U.g[3]+Z&4294967295}r.prototype.v=function(U,$){$===void 0&&($=U.length);const H=$-this.blockSize,ae=this.C;let ie=this.h,Z=0;for(;Z<$;){if(ie==0)for(;Z<=H;)i(this,U,Z),Z+=this.blockSize;if(typeof U=="string"){for(;Z<$;)if(ae[ie++]=U.charCodeAt(Z++),ie==this.blockSize){i(this,ae),ie=0;break}}else for(;Z<$;)if(ae[ie++]=U[Z++],ie==this.blockSize){i(this,ae),ie=0;break}}this.h=ie,this.o+=$},r.prototype.A=function(){var U=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);U[0]=128;for(var $=1;$<U.length-8;++$)U[$]=0;$=this.o*8;for(var H=U.length-8;H<U.length;++H)U[H]=$&255,$/=256;for(this.v(U),U=Array(16),$=0,H=0;H<4;++H)for(let ae=0;ae<32;ae+=8)U[$++]=this.g[H]>>>ae&255;return U};function a(U,$){var H=h;return Object.prototype.hasOwnProperty.call(H,U)?H[U]:H[U]=$(U)}function c(U,$){this.h=$;const H=[];let ae=!0;for(let ie=U.length-1;ie>=0;ie--){const Z=U[ie]|0;ae&&Z==$||(H[ie]=Z,ae=!1)}this.g=H}var h={};function y(U){return-128<=U&&U<128?a(U,function($){return new c([$|0],$<0?-1:0)}):new c([U|0],U<0?-1:0)}function g(U){if(isNaN(U)||!isFinite(U))return A;if(U<0)return L(g(-U));const $=[];let H=1;for(let ae=0;U>=H;ae++)$[ae]=U/H|0,H*=4294967296;return new c($,0)}function w(U,$){if(U.length==0)throw Error("number format error: empty string");if($=$||10,$<2||36<$)throw Error("radix out of range: "+$);if(U.charAt(0)=="-")return L(w(U.substring(1),$));if(U.indexOf("-")>=0)throw Error('number format error: interior "-" character');const H=g(Math.pow($,8));let ae=A;for(let Z=0;Z<U.length;Z+=8){var ie=Math.min(8,U.length-Z);const J=parseInt(U.substring(Z,Z+ie),$);ie<8?(ie=g(Math.pow($,ie)),ae=ae.j(ie).add(g(J))):(ae=ae.j(H),ae=ae.add(g(J)))}return ae}var A=y(0),I=y(1),R=y(16777216);t=c.prototype,t.m=function(){if(k(this))return-L(this).m();let U=0,$=1;for(let H=0;H<this.g.length;H++){const ae=this.i(H);U+=(ae>=0?ae:4294967296+ae)*$,$*=4294967296}return U},t.toString=function(U){if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(j(this))return"0";if(k(this))return"-"+L(this).toString(U);const $=g(Math.pow(U,6));var H=this;let ae="";for(;;){const ie=ne(H,$).g;H=G(H,ie.j($));let Z=((H.g.length>0?H.g[0]:H.h)>>>0).toString(U);if(H=ie,j(H))return Z+ae;for(;Z.length<6;)Z="0"+Z;ae=Z+ae}},t.i=function(U){return U<0?0:U<this.g.length?this.g[U]:this.h};function j(U){if(U.h!=0)return!1;for(let $=0;$<U.g.length;$++)if(U.g[$]!=0)return!1;return!0}function k(U){return U.h==-1}t.l=function(U){return U=G(this,U),k(U)?-1:j(U)?0:1};function L(U){const $=U.g.length,H=[];for(let ae=0;ae<$;ae++)H[ae]=~U.g[ae];return new c(H,~U.h).add(I)}t.abs=function(){return k(this)?L(this):this},t.add=function(U){const $=Math.max(this.g.length,U.g.length),H=[];let ae=0;for(let ie=0;ie<=$;ie++){let Z=ae+(this.i(ie)&65535)+(U.i(ie)&65535),J=(Z>>>16)+(this.i(ie)>>>16)+(U.i(ie)>>>16);ae=J>>>16,Z&=65535,J&=65535,H[ie]=J<<16|Z}return new c(H,H[H.length-1]&-2147483648?-1:0)};function G(U,$){return U.add(L($))}t.j=function(U){if(j(this)||j(U))return A;if(k(this))return k(U)?L(this).j(L(U)):L(L(this).j(U));if(k(U))return L(this.j(L(U)));if(this.l(R)<0&&U.l(R)<0)return g(this.m()*U.m());const $=this.g.length+U.g.length,H=[];for(var ae=0;ae<2*$;ae++)H[ae]=0;for(ae=0;ae<this.g.length;ae++)for(let ie=0;ie<U.g.length;ie++){const Z=this.i(ae)>>>16,J=this.i(ae)&65535,Be=U.i(ie)>>>16,pe=U.i(ie)&65535;H[2*ae+2*ie]+=J*pe,K(H,2*ae+2*ie),H[2*ae+2*ie+1]+=Z*pe,K(H,2*ae+2*ie+1),H[2*ae+2*ie+1]+=J*Be,K(H,2*ae+2*ie+1),H[2*ae+2*ie+2]+=Z*Be,K(H,2*ae+2*ie+2)}for(U=0;U<$;U++)H[U]=H[2*U+1]<<16|H[2*U];for(U=$;U<2*$;U++)H[U]=0;return new c(H,0)};function K(U,$){for(;(U[$]&65535)!=U[$];)U[$+1]+=U[$]>>>16,U[$]&=65535,$++}function W(U,$){this.g=U,this.h=$}function ne(U,$){if(j($))throw Error("division by zero");if(j(U))return new W(A,A);if(k(U))return $=ne(L(U),$),new W(L($.g),L($.h));if(k($))return $=ne(U,L($)),new W(L($.g),$.h);if(U.g.length>30){if(k(U)||k($))throw Error("slowDivide_ only works with positive integers.");for(var H=I,ae=$;ae.l(U)<=0;)H=fe(H),ae=fe(ae);var ie=Q(H,1),Z=Q(ae,1);for(ae=Q(ae,2),H=Q(H,2);!j(ae);){var J=Z.add(ae);J.l(U)<=0&&(ie=ie.add(H),Z=J),ae=Q(ae,1),H=Q(H,1)}return $=G(U,ie.j($)),new W(ie,$)}for(ie=A;U.l($)>=0;){for(H=Math.max(1,Math.floor(U.m()/$.m())),ae=Math.ceil(Math.log(H)/Math.LN2),ae=ae<=48?1:Math.pow(2,ae-48),Z=g(H),J=Z.j($);k(J)||J.l(U)>0;)H-=ae,Z=g(H),J=Z.j($);j(Z)&&(Z=I),ie=ie.add(Z),U=G(U,J)}return new W(ie,U)}t.B=function(U){return ne(this,U).h},t.and=function(U){const $=Math.max(this.g.length,U.g.length),H=[];for(let ae=0;ae<$;ae++)H[ae]=this.i(ae)&U.i(ae);return new c(H,this.h&U.h)},t.or=function(U){const $=Math.max(this.g.length,U.g.length),H=[];for(let ae=0;ae<$;ae++)H[ae]=this.i(ae)|U.i(ae);return new c(H,this.h|U.h)},t.xor=function(U){const $=Math.max(this.g.length,U.g.length),H=[];for(let ae=0;ae<$;ae++)H[ae]=this.i(ae)^U.i(ae);return new c(H,this.h^U.h)};function fe(U){const $=U.g.length+1,H=[];for(let ae=0;ae<$;ae++)H[ae]=U.i(ae)<<1|U.i(ae-1)>>>31;return new c(H,U.h)}function Q(U,$){const H=$>>5;$%=32;const ae=U.g.length-H,ie=[];for(let Z=0;Z<ae;Z++)ie[Z]=$>0?U.i(Z+H)>>>$|U.i(Z+H+1)<<32-$:U.i(Z+H);return new c(ie,U.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,b8=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=w,Qu=c}).apply(typeof D3<"u"?D3:typeof self<"u"?self:typeof window<"u"?window:{});var Pg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var w8,Qh,E8,up,f2,_8,A8,S8;(function(){var t,e=Object.defineProperty;function n(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pg=="object"&&Pg];for(var B=0;B<S.length;++B){var q=S[B];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var r=n(this);function i(S,B){if(B)e:{var q=r;S=S.split(".");for(var se=0;se<S.length-1;se++){var Ee=S[se];if(!(Ee in q))break e;q=q[Ee]}S=S[S.length-1],se=q[S],B=B(se),B!=se&&B!=null&&e(q,S,{configurable:!0,writable:!0,value:B})}}i("Symbol.dispose",function(S){return S||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(S){return S||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(S){return S||function(B){var q=[],se;for(se in B)Object.prototype.hasOwnProperty.call(B,se)&&q.push([se,B[se]]);return q}});var a=a||{},c=this||self;function h(S){var B=typeof S;return B=="object"&&S!=null||B=="function"}function y(S,B,q){return S.call.apply(S.bind,arguments)}function g(S,B,q){return g=y,g.apply(null,arguments)}function w(S,B){var q=Array.prototype.slice.call(arguments,1);return function(){var se=q.slice();return se.push.apply(se,arguments),S.apply(this,se)}}function A(S,B){function q(){}q.prototype=B.prototype,S.Z=B.prototype,S.prototype=new q,S.prototype.constructor=S,S.Ob=function(se,Ee,Me){for(var rt=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)rt[Ft-2]=arguments[Ft];return B.prototype[Ee].apply(se,rt)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?S=>S&&AsyncContext.Snapshot.wrap(S):S=>S;function R(S){const B=S.length;if(B>0){const q=Array(B);for(let se=0;se<B;se++)q[se]=S[se];return q}return[]}function j(S,B){for(let se=1;se<arguments.length;se++){const Ee=arguments[se];var q=typeof Ee;if(q=q!="object"?q:Ee?Array.isArray(Ee)?"array":q:"null",q=="array"||q=="object"&&typeof Ee.length=="number"){q=S.length||0;const Me=Ee.length||0;S.length=q+Me;for(let rt=0;rt<Me;rt++)S[q+rt]=Ee[rt]}else S.push(Ee)}}class k{constructor(B,q){this.i=B,this.j=q,this.h=0,this.g=null}get(){let B;return this.h>0?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function L(S){c.setTimeout(()=>{throw S},0)}function G(){var S=U;let B=null;return S.g&&(B=S.g,S.g=S.g.next,S.g||(S.h=null),B.next=null),B}class K{constructor(){this.h=this.g=null}add(B,q){const se=W.get();se.set(B,q),this.h?this.h.next=se:this.g=se,this.h=se}}var W=new k(()=>new ne,S=>S.reset());class ne{constructor(){this.next=this.g=this.h=null}set(B,q){this.h=B,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,Q=!1,U=new K,$=()=>{const S=Promise.resolve(void 0);fe=()=>{S.then(H)}};function H(){for(var S;S=G();){try{S.h.call(S.g)}catch(q){L(q)}var B=W;B.j(S),B.h<100&&(B.h++,S.next=B.g,B.g=S)}Q=!1}function ae(){this.u=this.u,this.C=this.C}ae.prototype.u=!1,ae.prototype.dispose=function(){this.u||(this.u=!0,this.N())},ae.prototype[Symbol.dispose]=function(){this.dispose()},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(S,B){this.type=S,this.g=this.target=B,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var Z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var S=!1,B=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const q=()=>{};c.addEventListener("test",q,B),c.removeEventListener("test",q,B)}catch{}return S})();function J(S){return/^[\s\xa0]*$/.test(S)}function Be(S,B){ie.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S&&this.init(S,B)}A(Be,ie),Be.prototype.init=function(S,B){const q=this.type=S.type,se=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;this.target=S.target||S.srcElement,this.g=B,B=S.relatedTarget,B||(q=="mouseover"?B=S.fromElement:q=="mouseout"&&(B=S.toElement)),this.relatedTarget=B,se?(this.clientX=se.clientX!==void 0?se.clientX:se.pageX,this.clientY=se.clientY!==void 0?se.clientY:se.pageY,this.screenX=se.screenX||0,this.screenY=se.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=S.pointerType,this.state=S.state,this.i=S,S.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),ve=0;function Ae(S,B,q,se,Ee){this.listener=S,this.proxy=null,this.src=B,this.type=q,this.capture=!!se,this.ha=Ee,this.key=++ve,this.da=this.fa=!1}function We(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function Ue(S,B,q){for(const se in S)B.call(q,S[se],se,S)}function st(S,B){for(const q in S)B.call(void 0,S[q],q,S)}function he(S){const B={};for(const q in S)B[q]=S[q];return B}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ge(S,B){let q,se;for(let Ee=1;Ee<arguments.length;Ee++){se=arguments[Ee];for(q in se)S[q]=se[q];for(let Me=0;Me<_e.length;Me++)q=_e[Me],Object.prototype.hasOwnProperty.call(se,q)&&(S[q]=se[q])}}function Fe(S){this.src=S,this.g={},this.h=0}Fe.prototype.add=function(S,B,q,se,Ee){const Me=S.toString();S=this.g[Me],S||(S=this.g[Me]=[],this.h++);const rt=Ne(S,B,se,Ee);return rt>-1?(B=S[rt],q||(B.fa=!1)):(B=new Ae(B,this.src,Me,!!se,Ee),B.fa=q,S.push(B)),B};function dt(S,B){const q=B.type;if(q in S.g){var se=S.g[q],Ee=Array.prototype.indexOf.call(se,B,void 0),Me;(Me=Ee>=0)&&Array.prototype.splice.call(se,Ee,1),Me&&(We(B),S.g[q].length==0&&(delete S.g[q],S.h--))}}function Ne(S,B,q,se){for(let Ee=0;Ee<S.length;++Ee){const Me=S[Ee];if(!Me.da&&Me.listener==B&&Me.capture==!!q&&Me.ha==se)return Ee}return-1}var et="closure_lm_"+(Math.random()*1e6|0),Tt={};function ke(S,B,q,se,Ee){if(Array.isArray(B)){for(let Me=0;Me<B.length;Me++)ke(S,B[Me],q,se,Ee);return null}return q=fn(q),S&&S[pe]?S.J(B,q,h(se)?!!se.capture:!1,Ee):Ye(S,B,q,!1,se,Ee)}function Ye(S,B,q,se,Ee,Me){if(!B)throw Error("Invalid event type");const rt=h(Ee)?!!Ee.capture:!!Ee;let Ft=Hn(S);if(Ft||(S[et]=Ft=new Fe(S)),q=Ft.add(B,q,se,rt,Me),q.proxy)return q;if(se=It(),q.proxy=se,se.src=S,se.listener=q,S.addEventListener)Z||(Ee=rt),Ee===void 0&&(Ee=!1),S.addEventListener(B.toString(),se,Ee);else if(S.attachEvent)S.attachEvent(zt(B.toString()),se);else if(S.addListener&&S.removeListener)S.addListener(se);else throw Error("addEventListener and attachEvent are unavailable.");return q}function It(){function S(q){return B.call(S.src,S.listener,q)}const B=cn;return S}function Le(S,B,q,se,Ee){if(Array.isArray(B))for(var Me=0;Me<B.length;Me++)Le(S,B[Me],q,se,Ee);else se=h(se)?!!se.capture:!!se,q=fn(q),S&&S[pe]?(S=S.i,Me=String(B).toString(),Me in S.g&&(B=S.g[Me],q=Ne(B,q,se,Ee),q>-1&&(We(B[q]),Array.prototype.splice.call(B,q,1),B.length==0&&(delete S.g[Me],S.h--)))):S&&(S=Hn(S))&&(B=S.g[B.toString()],S=-1,B&&(S=Ne(B,q,se,Ee)),(q=S>-1?B[S]:null)&&At(q))}function At(S){if(typeof S!="number"&&S&&!S.da){var B=S.src;if(B&&B[pe])dt(B.i,S);else{var q=S.type,se=S.proxy;B.removeEventListener?B.removeEventListener(q,se,S.capture):B.detachEvent?B.detachEvent(zt(q),se):B.addListener&&B.removeListener&&B.removeListener(se),(q=Hn(B))?(dt(q,S),q.h==0&&(q.src=null,B[et]=null)):We(S)}}}function zt(S){return S in Tt?Tt[S]:Tt[S]="on"+S}function cn(S,B){if(S.da)S=!0;else{B=new Be(B,this);const q=S.listener,se=S.ha||S.src;S.fa&&At(S),S=q.call(se,B)}return S}function Hn(S){return S=S[et],S instanceof Fe?S:null}var Rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function fn(S){return typeof S=="function"?S:(S[Rn]||(S[Rn]=function(B){return S.handleEvent(B)}),S[Rn])}function Ot(){ae.call(this),this.i=new Fe(this),this.M=this,this.G=null}A(Ot,ae),Ot.prototype[pe]=!0,Ot.prototype.removeEventListener=function(S,B,q,se){Le(this,S,B,q,se)};function nt(S,B){var q,se=S.G;if(se)for(q=[];se;se=se.G)q.push(se);if(S=S.M,se=B.type||B,typeof B=="string")B=new ie(B,S);else if(B instanceof ie)B.target=B.target||S;else{var Ee=B;B=new ie(se,S),Ge(B,Ee)}Ee=!0;let Me,rt;if(q)for(rt=q.length-1;rt>=0;rt--)Me=B.g=q[rt],Ee=ot(Me,se,!0,B)&&Ee;if(Me=B.g=S,Ee=ot(Me,se,!0,B)&&Ee,Ee=ot(Me,se,!1,B)&&Ee,q)for(rt=0;rt<q.length;rt++)Me=B.g=q[rt],Ee=ot(Me,se,!1,B)&&Ee}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var S=this.i;for(const B in S.g){const q=S.g[B];for(let se=0;se<q.length;se++)We(q[se]);delete S.g[B],S.h--}}this.G=null},Ot.prototype.J=function(S,B,q,se){return this.i.add(String(S),B,!1,q,se)},Ot.prototype.K=function(S,B,q,se){return this.i.add(String(S),B,!0,q,se)};function ot(S,B,q,se){if(B=S.i.g[String(B)],!B)return!0;B=B.concat();let Ee=!0;for(let Me=0;Me<B.length;++Me){const rt=B[Me];if(rt&&!rt.da&&rt.capture==q){const Ft=rt.listener,Sr=rt.ha||rt.src;rt.fa&&dt(S.i,rt),Ee=Ft.call(Sr,se)!==!1&&Ee}}return Ee&&!se.defaultPrevented}function Jr(S,B){if(typeof S!="function")if(S&&typeof S.handleEvent=="function")S=g(S.handleEvent,S);else throw Error("Invalid listener argument");return Number(B)>2147483647?-1:c.setTimeout(S,B||0)}function kr(S){S.g=Jr(()=>{S.g=null,S.i&&(S.i=!1,kr(S))},S.l);const B=S.h;S.h=null,S.m.apply(null,B)}class Zt extends ae{constructor(B,q){super(),this.m=B,this.l=q,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:kr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(S){ae.call(this),this.h=S,this.g={}}A(jr,ae);var Gn=[];function Aa(S){Ue(S.g,function(B,q){this.g.hasOwnProperty(q)&&At(B)},S),S.g={}}jr.prototype.N=function(){jr.Z.N.call(this),Aa(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ci=c.JSON.stringify,Tr=c.JSON.parse,lo=class{stringify(S){return c.JSON.stringify(S,void 0)}parse(S){return c.JSON.parse(S,void 0)}};function es(){}function ts(){}var wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Je(){ie.call(this,"d")}A(Je,ie);function sn(){ie.call(this,"c")}A(sn,ie);var Xe={},kn=null;function yi(){return kn=kn||new Ot}Xe.Ia="serverreachability";function bs(S){ie.call(this,Xe.Ia,S)}A(bs,ie);function ut(S){const B=yi();nt(B,new bs(B))}Xe.STAT_EVENT="statevent";function Qt(S,B){ie.call(this,Xe.STAT_EVENT,S),this.stat=B}A(Qt,ie);function Wn(S){const B=yi();nt(B,new Qt(B,S))}Xe.Ja="timingevent";function ia(S,B){ie.call(this,Xe.Ja,S),this.size=B}A(ia,ie);function Sa(S,B){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){S()},B)}function mr(){this.g=!0}mr.prototype.ua=function(){this.g=!1};function cl(S,B,q,se,Ee,Me){S.info(function(){if(S.g)if(Me){var rt="",Ft=Me.split("&");for(let yn=0;yn<Ft.length;yn++){var Sr=Ft[yn].split("=");if(Sr.length>1){const Bn=Sr[0];Sr=Sr[1];const fa=Bn.split("_");rt=fa.length>=2&&fa[1]=="type"?rt+(Bn+"="+Sr+"&"):rt+(Bn+"=redacted&")}}}else rt=null;else rt=Me;return"XMLHTTP REQ ("+se+") [attempt "+Ee+"]: "+B+`
`+q+`
`+rt})}function Kr(S,B,q,se,Ee,Me,rt){S.info(function(){return"XMLHTTP RESP ("+se+") [ attempt "+Ee+"]: "+B+`
`+q+`
`+Me+" "+rt})}function Lr(S,B,q,se){S.info(function(){return"XMLHTTP TEXT ("+B+"): "+Hi(S,q)+(se?" "+se:"")})}function Ri(S,B){S.info(function(){return"TIMEOUT: "+B})}mr.prototype.info=function(){};function Hi(S,B){if(!S.g)return B;if(!B)return null;try{const Me=JSON.parse(B);if(Me){for(S=0;S<Me.length;S++)if(Array.isArray(Me[S])){var q=Me[S];if(!(q.length<2)){var se=q[1];if(Array.isArray(se)&&!(se.length<1)){var Ee=se[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(let rt=1;rt<se.length;rt++)se[rt]=""}}}}return ci(Me)}catch{return B}}var ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},or;function Br(){}A(Br,es),Br.prototype.g=function(){return new XMLHttpRequest},or=new Br;function ei(S){return encodeURIComponent(String(S))}function ti(S){var B=1;S=S.split(":");const q=[];for(;B>0&&S.length;)q.push(S.shift()),B--;return S.length&&q.push(S.join(":")),q}function ct(S,B,q,se){this.j=S,this.i=B,this.l=q,this.S=se||1,this.V=new jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var jn={},dn={};function wr(S,B,q){S.M=1,S.A=Pi(pr(B)),S.u=q,S.R=!0,Ca(S,null)}function Ca(S,B){S.F=Date.now(),xi(S),S.B=pr(S.A);var q=S.B,se=S.S;Array.isArray(se)||(se=[String(se)]),Ln(q.i,"t",se),S.C=0,q=S.j.L,S.h=new vi,S.g=Ir(S.j,q?B:null,!S.u),S.P>0&&(S.O=new Zt(g(S.Y,S,S.g),S.P)),B=S.V,q=S.g,se=S.ba;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&(Gn[0]=Ee.toString()),Ee=Gn);for(let Me=0;Me<Ee.length;Me++){const rt=ke(q,Ee[Me],se||B.handleEvent,!1,B.h||B);if(!rt)break;B.g[rt.key]=rt}B=S.J?he(S.J):{},S.u?(S.v||(S.v="POST"),B["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.B,S.v,S.u,B)):(S.v="GET",S.g.ea(S.B,S.v,null,B)),ut(),cl(S.i,S.v,S.B,S.l,S.S,S.u)}ct.prototype.ba=function(S){S=S.target;const B=this.O;B&&Oa(S)==3?B.j():this.Y(S)},ct.prototype.Y=function(S){try{if(S==this.g)e:{const Ft=Oa(this.g),Sr=this.g.ya(),yn=this.g.ca();if(!(Ft<3)&&(Ft!=3||this.g&&(this.h.h||this.g.la()||tr(this.g)))){this.K||Ft!=4||Sr==7||(Sr==8||yn<=0?ut(3):ut(2)),Yn(this);var B=this.g.ca();this.X=B;var q=Co(this);if(this.o=B==200,Kr(this.i,this.v,this.B,this.l,this.S,Ft,B),this.o){if(this.U&&!this.L){t:{if(this.g){var se,Ee=this.g;if((se=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(se)){var Me=se;break t}}Me=null}if(S=Me)Lr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,er(this,S);else{this.o=!1,this.m=3,Wn(12),Ur(this),Nt(this);break e}}if(this.R){S=!0;let Bn;for(;!this.K&&this.C<q.length;)if(Bn=fl(this,q),Bn==dn){Ft==4&&(this.m=4,Wn(14),S=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==jn){this.m=4,Wn(15),Lr(this.i,this.l,q,"[Invalid Chunk]"),S=!1;break}else Lr(this.i,this.l,Bn,null),er(this,Bn);if(Fr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||q.length!=0||this.h.h||(this.m=1,Wn(16),S=!1),this.o=this.o&&S,!S)Lr(this.i,this.l,q,"[Invalid Chunked Response]"),Ur(this),Nt(this);else if(q.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Re(rt),rt.P=!0,Wn(11))}}else Lr(this.i,this.l,q,null),er(this,q);Ft==4&&Ur(this),this.o&&!this.K&&(Ft==4?Ra(this.j,this):(this.o=!1,xi(this)))}else ca(this.g),B==400&&q.indexOf("Unknown SID")>0?(this.m=3,Wn(12)):(this.m=0,Wn(13)),Ur(this),Nt(this)}}}catch{}};function Co(S){if(!Fr(S))return S.g.la();const B=tr(S.g);if(B==="")return"";let q="";const se=B.length,Ee=Oa(S.g)==4;if(!S.h.i){if(typeof TextDecoder>"u")return Ur(S),Nt(S),"";S.h.i=new c.TextDecoder}for(let Me=0;Me<se;Me++)S.h.h=!0,q+=S.h.i.decode(B[Me],{stream:!(Ee&&Me==se-1)});return B.length=0,S.h.g+=q,S.C=0,S.h.g}function Fr(S){return S.g?S.v=="GET"&&S.M!=2&&S.j.Aa:!1}function fl(S,B){var q=S.C,se=B.indexOf(`
`,q);return se==-1?dn:(q=Number(B.substring(q,se)),isNaN(q)?jn:(se+=1,se+q>B.length?dn:(B=B.slice(se,se+q),S.C=se+q,B)))}ct.prototype.cancel=function(){this.K=!0,Ur(this)};function xi(S){S.T=Date.now()+S.H,bi(S,S.H)}function bi(S,B){if(S.D!=null)throw Error("WatchDog timer not null");S.D=Sa(g(S.aa,S),B)}function Yn(S){S.D&&(c.clearTimeout(S.D),S.D=null)}ct.prototype.aa=function(){this.D=null;const S=Date.now();S-this.T>=0?(Ri(this.i,this.B),this.M!=2&&(ut(),Wn(17)),Ur(this),this.m=2,Nt(this)):bi(this,this.T-S)};function Nt(S){S.j.I==0||S.K||Ra(S.j,S)}function Ur(S){Yn(S);var B=S.O;B&&typeof B.dispose=="function"&&B.dispose(),S.O=null,Aa(S.V),S.g&&(B=S.g,S.g=null,B.abort(),B.dispose())}function er(S,B){try{var q=S.j;if(q.I!=0&&(q.g==S||fi(q.h,S))){if(!S.L&&fi(q.h,S)&&q.I==3){try{var se=q.Ba.g.parse(B)}catch{se=null}if(Array.isArray(se)&&se.length==3){var Ee=se;if(Ee[0]==0){e:if(!q.v){if(q.g)if(q.g.F+3e3<S.F)Ar(q),Wa(q);else break e;as(q),Wn(18)}}else q.xa=Ee[1],0<q.xa-q.K&&Ee[2]<37500&&q.F&&q.A==0&&!q.C&&(q.C=Sa(g(q.Va,q),6e3));En(q.h)<=1&&q.ta&&(q.ta=void 0)}else Pa(q,11)}else if((S.L||q.g==S)&&Ar(q),!J(B))for(Ee=q.Ba.g.parse(B),B=0;B<Ee.length;B++){let yn=Ee[B];const Bn=yn[0];if(!(Bn<=q.K))if(q.K=Bn,yn=yn[1],q.I==2)if(yn[0]=="c"){q.M=yn[1],q.ba=yn[2];const fa=yn[3];fa!=null&&(q.ka=fa,q.j.info("VER="+q.ka));const Da=yn[4];Da!=null&&(q.za=Da,q.j.info("SVER="+q.za));const ni=yn[5];ni!=null&&typeof ni=="number"&&ni>0&&(se=1.5*ni,q.O=se,q.j.info("backChannelRequestTimeoutMs_="+se)),se=q;const da=S.g;if(da){const Us=da.g?da.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var Me=se.h;Me.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(Ga(Me,Me.h),Me.h=null))}if(se.G){const os=da.g?da.g.getResponseHeader("X-HTTP-Session-Id"):null;os&&(se.wa=os,Mt(se.J,se.G,os))}}q.I=3,q.l&&q.l.ra(),q.aa&&(q.T=Date.now()-S.F,q.j.info("Handshake RTT: "+q.T+"ms")),se=q;var rt=S;if(se.na=Po(se,se.L?se.ba:null,se.W),rt.L){mn(se.h,rt);var Ft=rt,Sr=se.O;Sr&&(Ft.H=Sr),Ft.D&&(Yn(Ft),xi(Ft)),se.g=rt}else Ki(se);q.i.length>0&&rs(q)}else yn[0]!="stop"&&yn[0]!="close"||Pa(q,7);else q.I==3&&(yn[0]=="stop"||yn[0]=="close"?yn[0]=="stop"?Pa(q,7):Es(q):yn[0]!="noop"&&q.l&&q.l.qa(yn),q.A=0)}}ut(4)}catch{}}var gr=class{constructor(S,B){this.g=S,this.map=B}};function ze(S){this.l=S||10,c.PerformanceNavigationTiming?(S=c.performance.getEntriesByType("navigation"),S=S.length>0&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bs(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function En(S){return S.h?1:S.g?S.g.size:0}function fi(S,B){return S.h?S.h==B:S.g?S.g.has(B):!1}function Ga(S,B){S.g?S.g.add(B):S.h=B}function mn(S,B){S.h&&S.h==B?S.h=null:S.g&&S.g.has(B)&&S.g.delete(B)}ze.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function rn(S){if(S.h!=null)return S.i.concat(S.h.G);if(S.g!=null&&S.g.size!==0){let B=S.i;for(const q of S.g.values())B=B.concat(q.G);return B}return R(S.i)}var Jt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wt(S,B){if(S){S=S.split("&");for(let q=0;q<S.length;q++){const se=S[q].indexOf("=");let Ee,Me=null;se>=0?(Ee=S[q].substring(0,se),Me=S[q].substring(se+1)):Ee=S[q],B(Ee,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function wi(S){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let B;S instanceof wi?(this.l=S.l,en(this,S.j),this.o=S.o,this.g=S.g,Yr(this,S.u),this.h=S.h,To(this,dl(S.i)),this.m=S.m):S&&(B=String(S).match(Jt))?(this.l=!1,en(this,B[1]||"",!0),this.o=gn(B[2]||""),this.g=gn(B[3]||"",!0),Yr(this,B[4]),this.h=gn(B[5]||"",!0),To(this,B[6]||"",!0),this.m=gn(B[7]||"")):(this.l=!1,this.i=new _r(null,this.l))}wi.prototype.toString=function(){const S=[];var B=this.j;B&&S.push(Ei(B,$n,!0),":");var q=this.g;return(q||B=="file")&&(S.push("//"),(B=this.o)&&S.push(Ei(B,$n,!0),"@"),S.push(ei(q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.u,q!=null&&S.push(":",String(q))),(q=this.h)&&(this.g&&q.charAt(0)!="/"&&S.push("/"),S.push(Ei(q,q.charAt(0)=="/"?ue:Se,!0))),(q=this.i.toString())&&S.push("?",q),(q=this.m)&&S.push("#",Ei(q,Er)),S.join("")},wi.prototype.resolve=function(S){const B=pr(this);let q=!!S.j;q?en(B,S.j):q=!!S.o,q?B.o=S.o:q=!!S.g,q?B.g=S.g:q=S.u!=null;var se=S.h;if(q)Yr(B,S.u);else if(q=!!S.h){if(se.charAt(0)!="/")if(this.g&&!this.h)se="/"+se;else{var Ee=B.h.lastIndexOf("/");Ee!=-1&&(se=B.h.slice(0,Ee+1)+se)}if(Ee=se,Ee==".."||Ee==".")se="";else if(Ee.indexOf("./")!=-1||Ee.indexOf("/.")!=-1){se=Ee.lastIndexOf("/",0)==0,Ee=Ee.split("/");const Me=[];for(let rt=0;rt<Ee.length;){const Ft=Ee[rt++];Ft=="."?se&&rt==Ee.length&&Me.push(""):Ft==".."?((Me.length>1||Me.length==1&&Me[0]!="")&&Me.pop(),se&&rt==Ee.length&&Me.push("")):(Me.push(Ft),se=!0)}se=Me.join("/")}else se=Ee}return q?B.h=se:q=S.i.toString()!=="",q?To(B,dl(S.i)):q=!!S.m,q&&(B.m=S.m),B};function pr(S){return new wi(S)}function en(S,B,q){S.j=q?gn(B,!0):B,S.j&&(S.j=S.j.replace(/:$/,""))}function Yr(S,B){if(B){if(B=Number(B),isNaN(B)||B<0)throw Error("Bad port number "+B);S.u=B}else S.u=null}function To(S,B,q){B instanceof _r?(S.i=B,aa(S.i,S.l)):(q||(B=Ei(B,gt)),S.i=new _r(B,S.l))}function Mt(S,B,q){S.i.set(B,q)}function Pi(S){return Mt(S,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),S}function gn(S,B){return S?B?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function Ei(S,B,q){return typeof S=="string"?(S=encodeURI(S).replace(B,qt),q&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function qt(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var $n=/[#\/\?@]/g,Se=/[#\?:]/g,ue=/[#\?]/g,gt=/[#\?@]/g,Er=/#/g;function _r(S,B){this.h=this.g=null,this.i=S||null,this.j=!!B}function Di(S){S.g||(S.g=new Map,S.h=0,S.i&&Wt(S.i,function(B,q){S.add(decodeURIComponent(B.replace(/\+/g," ")),q)}))}t=_r.prototype,t.add=function(S,B){Di(this),this.i=null,S=Vr(this,S);let q=this.g.get(S);return q||this.g.set(S,q=[]),q.push(B),this.h+=1,this};function Io(S,B){Di(S),B=Vr(S,B),S.g.has(B)&&(S.i=null,S.h-=S.g.get(B).length,S.g.delete(B))}function Lt(S,B){return Di(S),B=Vr(S,B),S.g.has(B)}t.forEach=function(S,B){Di(this),this.g.forEach(function(q,se){q.forEach(function(Ee){S.call(B,Ee,se,this)},this)},this)};function Et(S,B){Di(S);let q=[];if(typeof B=="string")Lt(S,B)&&(q=q.concat(S.g.get(Vr(S,B))));else for(S=Array.from(S.g.values()),B=0;B<S.length;B++)q=q.concat(S[B]);return q}t.set=function(S,B){return Di(this),this.i=null,S=Vr(this,S),Lt(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[B]),this.h+=1,this},t.get=function(S,B){return S?(S=Et(this,S),S.length>0?String(S[0]):B):B};function Ln(S,B,q){Io(S,B),q.length>0&&(S.i=null,S.g.set(Vr(S,B),R(q)),S.h+=q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],B=Array.from(this.g.keys());for(let se=0;se<B.length;se++){var q=B[se];const Ee=ei(q);q=Et(this,q);for(let Me=0;Me<q.length;Me++){let rt=Ee;q[Me]!==""&&(rt+="="+ei(q[Me])),S.push(rt)}}return this.i=S.join("&")};function dl(S){const B=new _r;return B.i=S.i,S.g&&(B.g=new Map(S.g),B.h=S.h),B}function Vr(S,B){return B=String(B),S.j&&(B=B.toLowerCase()),B}function aa(S,B){B&&!S.j&&(Di(S),S.i=null,S.g.forEach(function(q,se){const Ee=se.toLowerCase();se!=Ee&&(Io(this,se),Ln(this,Ee,q))},S)),S.j=B}function di(S,B){const q=new mr;if(c.Image){const se=new Image;se.onload=w(sa,q,"TestLoadImage: loaded",!0,B,se),se.onerror=w(sa,q,"TestLoadImage: error",!1,B,se),se.onabort=w(sa,q,"TestLoadImage: abort",!1,B,se),se.ontimeout=w(sa,q,"TestLoadImage: timeout",!1,B,se),c.setTimeout(function(){se.ontimeout&&se.ontimeout()},1e4),se.src=S}else B(!1)}function Gi(S,B){const q=new mr,se=new AbortController,Ee=setTimeout(()=>{se.abort(),sa(q,"TestPingServer: timeout",!1,B)},1e4);fetch(S,{signal:se.signal}).then(Me=>{clearTimeout(Ee),Me.ok?sa(q,"TestPingServer: ok",!0,B):sa(q,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(Ee),sa(q,"TestPingServer: error",!1,B)})}function sa(S,B,q,se,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),se(q)}catch{}}function Xn(){this.g=new lo}function Pn(S){this.i=S.Sb||null,this.h=S.ab||!1}A(Pn,es),Pn.prototype.g=function(){return new yr(this.i,this.h)};function yr(S,B){Ot.call(this),this.H=S,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(yr,Ot),t=yr.prototype,t.open=function(S,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=S,this.D=B,this.readyState=1,Rt(this)},t.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const B={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};S&&(B.body=S),(this.H||c).fetch(new Request(this.D,B)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=0},t.Pa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_t(this)}else S.text().then(this.Oa.bind(this),this.ga.bind(this))};function _t(S){S.j.read().then(S.Ma.bind(S)).catch(S.ga.bind(S))}t.Ma=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var B=S.value?S.value:new Uint8Array(0);(B=this.B.decode(B,{stream:!S.done}))&&(this.response=this.responseText+=B)}S.done?Ta(this):Rt(this),this.readyState==3&&_t(this)}},t.Oa=function(S){this.g&&(this.response=this.responseText=S,Ta(this))},t.Na=function(S){this.g&&(this.response=S,Ta(this))},t.ga=function(){this.g&&Ta(this)};function Ta(S){S.readyState=4,S.l=null,S.j=null,S.B=null,Rt(S)}t.setRequestHeader=function(S,B){this.A.append(S,B)},t.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],B=this.h.entries();for(var q=B.next();!q.done;)q=q.value,S.push(q[0]+": "+q[1]),q=B.next();return S.join(`\r
`)};function Rt(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function pn(S){let B="";return Ue(S,function(q,se){B+=se,B+=":",B+=q,B+=`\r
`}),B}function uo(S,B,q){e:{for(se in q){var se=!1;break e}se=!0}se||(q=pn(q),typeof S=="string"?q!=null&&ei(q):Mt(S,B,q))}function tn(S){Ot.call(this),this.headers=new Map,this.L=S||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(tn,Ot);var oa=/^https?$/i,Ia=["POST","PUT"];t=tn.prototype,t.Fa=function(S){this.H=S},t.ea=function(S,B,q,se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);B=B?B.toUpperCase():"GET",this.D=S,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():or.g(),this.g.onreadystatechange=I(g(this.Ca,this));try{this.B=!0,this.g.open(B,String(S),!0),this.B=!1}catch(Me){ws(this,Me);return}if(S=q||"",q=new Map(this.headers),se)if(Object.getPrototypeOf(se)===Object.prototype)for(var Ee in se)q.set(Ee,se[Ee]);else if(typeof se.keys=="function"&&typeof se.get=="function")for(const Me of se.keys())q.set(Me,se.get(Me));else throw Error("Unknown input type for opt_headers: "+String(se));se=Array.from(q.keys()).find(Me=>Me.toLowerCase()=="content-type"),Ee=c.FormData&&S instanceof c.FormData,!(Array.prototype.indexOf.call(Ia,B,void 0)>=0)||se||Ee||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,rt]of q)this.g.setRequestHeader(Me,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(S),this.v=!1}catch(Me){ws(this,Me)}};function ws(S,B){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=B,S.o=5,la(S),Wi(S)}function la(S){S.A||(S.A=!0,nt(S,"complete"),nt(S,"error"))}t.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=S||7,nt(this,"complete"),nt(this,"abort"),Wi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),tn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ua(this):this.Xa())},t.Xa=function(){ua(this)};function ua(S){if(S.h&&typeof a<"u"){if(S.v&&Oa(S)==4)setTimeout(S.Ca.bind(S),0);else if(nt(S,"readystatechange"),Oa(S)==4){S.h=!1;try{const Me=S.ca();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var q;if(!(q=B)){var se;if(se=Me===0){let rt=String(S.D).match(Jt)[1]||null;!rt&&c.self&&c.self.location&&(rt=c.self.location.protocol.slice(0,-1)),se=!oa.test(rt?rt.toLowerCase():"")}q=se}if(q)nt(S,"complete"),nt(S,"success");else{S.o=6;try{var Ee=Oa(S)>2?S.g.statusText:""}catch{Ee=""}S.l=Ee+" ["+S.ca()+"]",la(S)}}finally{Wi(S)}}}}function Wi(S,B){if(S.g){S.m&&(clearTimeout(S.m),S.m=null);const q=S.g;S.g=null,B||nt(S,"ready");try{q.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Oa(S){return S.g?S.g.readyState:0}t.ca=function(){try{return Oa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(S){if(this.g){var B=this.g.responseText;return S&&B.indexOf(S)==0&&(B=B.substring(S.length)),Tr(B)}};function tr(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.F){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function ca(S){const B={};S=(S.g&&Oa(S)>=2&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let se=0;se<S.length;se++){if(J(S[se]))continue;var q=ti(S[se]);const Ee=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const Me=B[Ee]||[];B[Ee]=Me,Me.push(q)}st(B,function(se){return se.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vr(S,B,q){return q&&q.internalChannelParams&&q.internalChannelParams[S]||B}function Na(S){this.za=0,this.i=[],this.j=new mr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vr("failFast",!1,S),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vr("baseRetryDelayMs",5e3,S),this.Za=vr("retryDelaySeedMs",1e4,S),this.Ta=vr("forwardChannelMaxRetries",2,S),this.va=vr("forwardChannelRequestTimeoutMs",2e4,S),this.ma=S&&S.xmlHttpFactory||void 0,this.Ua=S&&S.Rb||void 0,this.Aa=S&&S.useFetchStreams||!1,this.O=void 0,this.L=S&&S.supportsCrossDomainXhr||!1,this.M="",this.h=new ze(S&&S.concurrentRequestLimit),this.Ba=new Xn,this.S=S&&S.fastHandshake||!1,this.R=S&&S.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=S&&S.Pb||!1,S&&S.ua&&this.j.ua(),S&&S.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&S&&S.detectBufferingProxy||!1,this.ia=void 0,S&&S.longPollingTimeout&&S.longPollingTimeout>0&&(this.ia=S.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Na.prototype,t.ka=8,t.I=1,t.connect=function(S,B,q,se){Wn(0),this.W=S,this.H=B||{},q&&se!==void 0&&(this.H.OSID=q,this.H.OAID=se),this.F=this.X,this.J=Po(this,null,this.W),rs(this)};function Es(S){if(Oo(S),S.I==3){var B=S.V++,q=pr(S.J);if(Mt(q,"SID",S.M),Mt(q,"RID",B),Mt(q,"TYPE","terminate"),is(S,q),B=new ct(S,S.j,B),B.M=2,B.A=Pi(pr(q)),q=!1,c.navigator&&c.navigator.sendBeacon)try{q=c.navigator.sendBeacon(B.A.toString(),"")}catch{}!q&&c.Image&&(new Image().src=B.A,q=!0),q||(B.g=Ir(B.j,null),B.g.ea(B.A)),B.F=Date.now(),xi(B)}Ro(S)}function Wa(S){S.g&&(Re(S),S.g.cancel(),S.g=null)}function Oo(S){Wa(S),S.v&&(c.clearTimeout(S.v),S.v=null),Ar(S),S.h.cancel(),S.m&&(typeof S.m=="number"&&c.clearTimeout(S.m),S.m=null)}function rs(S){if(!Bs(S.h)&&!S.m){S.m=!0;var B=S.Ea;fe||$(),Q||(fe(),Q=!0),U.add(B,S),S.D=0}}function No(S,B){return En(S.h)>=S.h.j-(S.m?1:0)?!1:S.m?(S.i=B.G.concat(S.i),!0):S.I==1||S.I==2||S.D>=(S.Sa?0:S.Ta)?!1:(S.m=Sa(g(S.Ea,S,B),co(S,S.D)),S.D++,!0)}t.Ea=function(S){if(this.m)if(this.m=null,this.I==1){if(!S){this.V=Math.floor(Math.random()*1e5),S=this.V++;const Ee=new ct(this,this.j,S);let Me=this.o;if(this.U&&(Me?(Me=he(Me),Ge(Me,this.U)):Me=this.U),this.u!==null||this.R||(Ee.J=Me,Me=null),this.S)e:{for(var B=0,q=0;q<this.i.length;q++){t:{var se=this.i[q];if("__data__"in se.map&&(se=se.map.__data__,typeof se=="string")){se=se.length;break t}se=void 0}if(se===void 0)break;if(B+=se,B>4096){B=q;break e}if(B===4096||q===this.i.length-1){B=q+1;break e}}B=1e3}else B=1e3;B=Fs(this,Ee,B),q=pr(this.J),Mt(q,"RID",S),Mt(q,"CVER",22),this.G&&Mt(q,"X-HTTP-Session-Id",this.G),is(this,q),Me&&(this.R?B="headers="+ei(pn(Me))+"&"+B:this.u&&uo(q,this.u,Me)),Ga(this.h,Ee),this.Ra&&Mt(q,"TYPE","init"),this.S?(Mt(q,"$req",B),Mt(q,"SID","null"),Ee.U=!0,wr(Ee,q,null)):wr(Ee,q,B),this.I=2}}else this.I==3&&(S?bn(this,S):this.i.length==0||Bs(this.h)||bn(this))};function bn(S,B){var q;B?q=B.l:q=S.V++;const se=pr(S.J);Mt(se,"SID",S.M),Mt(se,"RID",q),Mt(se,"AID",S.K),is(S,se),S.u&&S.o&&uo(se,S.u,S.o),q=new ct(S,S.j,q,S.D+1),S.u===null&&(q.J=S.o),B&&(S.i=B.G.concat(S.i)),B=Fs(S,q,1e3),q.H=Math.round(S.va*.5)+Math.round(S.va*.5*Math.random()),Ga(S.h,q),wr(q,se,B)}function is(S,B){S.H&&Ue(S.H,function(q,se){Mt(B,se,q)}),S.l&&Ue({},function(q,se){Mt(B,se,q)})}function Fs(S,B,q){q=Math.min(S.i.length,q);const se=S.l?g(S.l.Ka,S.l,S):null;e:{var Ee=S.i;let Ft=-1;for(;;){const Sr=["count="+q];Ft==-1?q>0?(Ft=Ee[0].g,Sr.push("ofs="+Ft)):Ft=0:Sr.push("ofs="+Ft);let yn=!0;for(let Bn=0;Bn<q;Bn++){var Me=Ee[Bn].g;const fa=Ee[Bn].map;if(Me-=Ft,Me<0)Ft=Math.max(0,Ee[Bn].g-100),yn=!1;else try{Me="req"+Me+"_"||"";try{var rt=fa instanceof Map?fa:Object.entries(fa);for(const[Da,ni]of rt){let da=ni;h(ni)&&(da=ci(ni)),Sr.push(Me+Da+"="+encodeURIComponent(da))}}catch(Da){throw Sr.push(Me+"type="+encodeURIComponent("_badmap")),Da}}catch{se&&se(fa)}}if(yn){rt=Sr.join("&");break e}}rt=void 0}return S=S.i.splice(0,q),B.G=S,rt}function Ki(S){if(!S.g&&!S.v){S.Y=1;var B=S.Da;fe||$(),Q||(fe(),Q=!0),U.add(B,S),S.A=0}}function as(S){return S.g||S.v||S.A>=3?!1:(S.Y++,S.v=Sa(g(S.Da,S),co(S,S.A)),S.A++,!0)}t.Da=function(){if(this.v=null,Ht(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var S=4*this.T;this.j.info("BP detection timer enabled: "+S),this.B=Sa(g(this.Wa,this),S)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Wn(10),Wa(this),Ht(this))};function Re(S){S.B!=null&&(c.clearTimeout(S.B),S.B=null)}function Ht(S){S.g=new ct(S,S.j,"rpc",S.Y),S.u===null&&(S.g.J=S.o),S.g.P=0;var B=pr(S.na);Mt(B,"RID","rpc"),Mt(B,"SID",S.M),Mt(B,"AID",S.K),Mt(B,"CI",S.F?"0":"1"),!S.F&&S.ia&&Mt(B,"TO",S.ia),Mt(B,"TYPE","xmlhttp"),is(S,B),S.u&&S.o&&uo(B,S.u,S.o),S.O&&(S.g.H=S.O);var q=S.g;S=S.ba,q.M=1,q.A=Pi(pr(B)),q.u=null,q.R=!0,Ca(q,S)}t.Va=function(){this.C!=null&&(this.C=null,Wa(this),as(this),Wn(19))};function Ar(S){S.C!=null&&(c.clearTimeout(S.C),S.C=null)}function Ra(S,B){var q=null;if(S.g==B){Ar(S),Re(S),S.g=null;var se=2}else if(fi(S.h,B))q=B.G,mn(S.h,B),se=1;else return;if(S.I!=0){if(B.o)if(se==1){q=B.u?B.u.length:0,B=Date.now()-B.F;var Ee=S.D;se=yi(),nt(se,new ia(se,q)),rs(S)}else Ki(S);else if(Ee=B.m,Ee==3||Ee==0&&B.X>0||!(se==1&&No(S,B)||se==2&&as(S)))switch(q&&q.length>0&&(B=S.h,B.i=B.i.concat(q)),Ee){case 1:Pa(S,5);break;case 4:Pa(S,10);break;case 3:Pa(S,6);break;default:Pa(S,2)}}}function co(S,B){let q=S.Qa+Math.floor(Math.random()*S.Za);return S.isActive()||(q*=2),q*B}function Pa(S,B){if(S.j.info("Error code "+B),B==2){var q=g(S.bb,S),se=S.Ua;const Ee=!se;se=new wi(se||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||en(se,"https"),Pi(se),Ee?di(se.toString(),q):Gi(se.toString(),q)}else Wn(2);S.I=0,S.l&&S.l.pa(B),Ro(S),Oo(S)}t.bb=function(S){S?(this.j.info("Successfully pinged google.com"),Wn(2)):(this.j.info("Failed to ping google.com"),Wn(1))};function Ro(S){if(S.I=0,S.ja=[],S.l){const B=rn(S.h);(B.length!=0||S.i.length!=0)&&(j(S.ja,B),j(S.ja,S.i),S.h.i.length=0,R(S.i),S.i.length=0),S.l.oa()}}function Po(S,B,q){var se=q instanceof wi?pr(q):new wi(q);if(se.g!="")B&&(se.g=B+"."+se.g),Yr(se,se.u);else{var Ee=c.location;se=Ee.protocol,B=B?B+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;const Me=new wi(null);se&&en(Me,se),B&&(Me.g=B),Ee&&Yr(Me,Ee),q&&(Me.h=q),se=Me}return q=S.G,B=S.wa,q&&B&&Mt(se,q,B),Mt(se,"VER",S.ka),is(S,se),se}function Ir(S,B,q){if(B&&!S.L)throw Error("Can't create secondary domain capable XhrIo object.");return B=S.Aa&&!S.ma?new tn(new Pn({ab:q})):new tn(S.ma),B.Fa(S.L),B}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zn(){}t=Zn.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Yi(){}Yi.prototype.g=function(S,B){return new on(S,B)};function on(S,B){Ot.call(this),this.g=new Na(B),this.l=S,this.h=B&&B.messageUrlParams||null,S=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(S?S["X-WebChannel-Content-Type"]=B.messageContentType:S={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.sa&&(S?S["X-WebChannel-Client-Profile"]=B.sa:S={"X-WebChannel-Client-Profile":B.sa}),this.g.U=S,(S=B&&B.Qb)&&!J(S)&&(this.g.u=S),this.A=B&&B.supportsCrossDomainXhr||!1,this.v=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!J(B)&&(this.g.G=B,S=this.h,S!==null&&B in S&&(S=this.h,B in S&&delete S[B])),this.j=new hn(this)}A(on,Ot),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Es(this.g)},on.prototype.o=function(S){var B=this.g;if(typeof S=="string"){var q={};q.__data__=S,S=q}else this.v&&(q={},q.__data__=ci(S),S=q);B.i.push(new gr(B.Ya++,S)),B.I==3&&rs(B)},on.prototype.N=function(){this.g.l=null,delete this.j,Es(this.g),delete this.g,on.Z.N.call(this)};function ss(S){Je.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var B=S.__sm__;if(B){e:{for(const q in B){S=q;break e}S=void 0}(this.i=S)&&(S=this.i,B=B!==null&&S in B?B[S]:void 0),this.data=B}else this.data=S}A(ss,Je);function Ka(){sn.call(this),this.status=1}A(Ka,sn);function hn(S){this.g=S}A(hn,Zn),hn.prototype.ra=function(){nt(this.g,"a")},hn.prototype.qa=function(S){nt(this.g,new ss(S))},hn.prototype.pa=function(S){nt(this.g,new Ka)},hn.prototype.oa=function(){nt(this.g,"b")},Yi.prototype.createWebChannel=Yi.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,S8=function(){return new Yi},A8=function(){return yi()},_8=Xe,f2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,up=ns,xn.COMPLETE="complete",E8=xn,ts.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,Qh=ts,tn.prototype.listenOnce=tn.prototype.K,tn.prototype.getLastError=tn.prototype.Ha,tn.prototype.getLastErrorCode=tn.prototype.ya,tn.prototype.getStatus=tn.prototype.ca,tn.prototype.getResponseJson=tn.prototype.La,tn.prototype.getResponseText=tn.prototype.la,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Fa,w8=tn}).apply(typeof Pg<"u"?Pg:typeof self<"u"?self:typeof window<"u"?window:{});let Fa=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Fa.UNAUTHENTICATED=new Fa(null),Fa.GOOGLE_CREDENTIALS=new Fa("google-credentials-uid"),Fa.FIRST_PARTY=new Fa("first-party-uid"),Fa.MOCK_USER=new Fa("mock-user");let zd="12.9.0";function QH(t){zd=t}const Zc=new qE("@firebase/firestore");function nd(){return Zc.logLevel}function pt(t,...e){if(Zc.logLevel<=In.DEBUG){const n=e.map(e_);Zc.debug(`Firestore (${zd}): ${t}`,...n)}}function Kl(t,...e){if(Zc.logLevel<=In.ERROR){const n=e.map(e_);Zc.error(`Firestore (${zd}): ${t}`,...n)}}function Qc(t,...e){if(Zc.logLevel<=In.WARN){const n=e.map(e_);Zc.warn(`Firestore (${zd}): ${t}`,...n)}}function e_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Vt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,C8(t,r,n)}function C8(t,e,n){let r=`FIRESTORE (${zd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Kl(r),new Error(r)}function Jn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||C8(e,i,r)}function Xt(t,e){return t}const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends ru{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ul{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class T8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Fa.UNAUTHENTICATED)))}shutdown(){}}class eG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class tG{constructor(e){this.t=e,this.currentUser=Fa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Jn(this.o===void 0,42304);let r=this.i;const i=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let a=new Ul;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ul,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const y=a;e.enqueueRetryable((async()=>{await y.promise,await i(this.currentUser)}))},h=y=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((y=>h(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?h(y):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ul)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jn(typeof r.accessToken=="string",31837,{l:r}),new T8(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jn(e===null||typeof e=="string",2055,{h:e}),new Fa(e)}}class nG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Fa.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class rG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new nG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Fa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Jn(this.o===void 0,3512);const r=a=>{a.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,pt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M3(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Jn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new M3(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function aG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class t_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=aG(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function On(t,e){return t<e?-1:t>e?1:0}function d2(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return fb(i)===fb(a)?On(i,a):fb(i)?1:-1}return On(t.length,e.length)}const sG=55296,oG=57343;function fb(t){const e=t.charCodeAt(0);return e>=sG&&e<=oG}function Ed(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const k3="__name__";class zo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Vt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Vt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zo?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=zo.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return On(e.length,n.length)}static compareSegments(e,n){const r=zo.isNumericId(e),i=zo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?zo.extractNumericId(e).compare(zo.extractNumericId(n)):d2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qu.fromString(e.substring(4,e.length-2))}}class Pr extends zo{construct(e,n,r){return new Pr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ct(Qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Pr(n)}static emptyPath(){return new Pr([])}}const lG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wa extends zo{construct(e,n,r){return new wa(e,n,r)}static isValidIdentifier(e){return lG.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k3}static keyField(){return new wa([k3])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ct(Qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new Ct(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ct(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else h==="`"?(c=!c,i++):h!=="."||c?(r+=h,i++):(a(),i++)}if(a(),c)throw new Ct(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wa(n)}static emptyPath(){return new wa([])}}class jt{constructor(e){this.path=e}static fromPath(e){return new jt(Pr.fromString(e))}static fromName(e){return new jt(Pr.fromString(e).popFirst(5))}static empty(){return new jt(Pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jt(new Pr(e.slice()))}}function I8(t,e,n){if(!n)throw new Ct(Qe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uG(t,e,n,r){if(e===!0&&r===!0)throw new Ct(Qe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j3(t){if(!jt.isDocumentKey(t))throw new Ct(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L3(t){if(jt.isDocumentKey(t))throw new Ct(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function O8(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function n_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Vt(12329,{type:typeof t})}function Jc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ct(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=n_(t);throw new Ct(Qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ii(t,e){const n={typeString:t};return e&&(n.value=e),n}function tm(t,e){if(!O8(t))throw new Ct(Qe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ct(Qe.INVALID_ARGUMENT,n);return!0}const B3=-62135596800,F3=1e6;class Dr{static now(){return Dr.fromMillis(Date.now())}static fromDate(e){return Dr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*F3);return new Dr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ct(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<B3)throw new Ct(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F3}_compareTo(e){return this.seconds===e.seconds?On(this.nanoseconds,e.nanoseconds):On(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tm(e,Dr._jsonSchema))return new Dr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-B3;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dr._jsonSchemaVersion="firestore/timestamp/1.0",Dr._jsonSchema={type:Ii("string",Dr._jsonSchemaVersion),seconds:Ii("number"),nanoseconds:Ii("number")};class Kt{static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new Dr(0,0))}static max(){return new Kt(new Dr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _0=-1;function cG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Kt.fromTimestamp(r===1e9?new Dr(n+1,0):new Dr(n,r));return new rc(i,jt.empty(),e)}function fG(t){return new rc(t.readTime,t.key,_0)}class rc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rc(Kt.min(),jt.empty(),_0)}static max(){return new rc(Kt.max(),jt.empty(),_0)}}function dG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=jt.comparator(t.documentKey,e.documentKey),n!==0?n:On(t.largestBatchId,e.largestBatchId))}const hG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qd(t){if(t.code!==Qe.FAILED_PRECONDITION||t.message!==hG)throw t;pt("LocalStore","Unexpectedly lost primary lease")}class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $e(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $e?n:$e.resolve(n)}catch(n){return $e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$e.reject(n)}static resolve(e){return new $e(((n,r)=>{n(e)}))}static reject(e){return new $e(((n,r)=>{r(e)}))}static waitFor(e){return new $e(((n,r)=>{let i=0,a=0,c=!1;e.forEach((h=>{++i,h.next((()=>{++a,c&&a===i&&n()}),(y=>r(y)))})),c=!0,a===i&&n()}))}static or(e){let n=$e.resolve(!1);for(const r of e)n=n.next((i=>i?$e.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new $e(((r,i)=>{const a=e.length,c=new Array(a);let h=0;for(let y=0;y<a;y++){const g=y;n(e[g]).next((w=>{c[g]=w,++h,h===a&&r(c)}),(w=>i(w)))}}))}static doWhile(e,n){return new $e(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function gG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hd(t){return t.name==="IndexedDbTransactionError"}class ty{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ty.ce=-1;const r_=-1;function ny(t){return t==null}function Mp(t){return t===0&&1/t==-1/0}function pG(t){return typeof t=="number"&&Number.isInteger(t)&&!Mp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const N8="";function yG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=U3(e)),e=vG(t.get(n),e);return U3(e)}function vG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case N8:n+="";break;default:n+=a}}return n}function U3(t){return t+N8+""}function V3(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function R8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Xr{constructor(e,n){this.comparator=e,this.root=n||ba.EMPTY}insert(e,n){return new Xr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ba.BLACK,null,null))}remove(e){return new Xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ba.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dg(this.root,e,this.comparator,!0)}}class Dg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ba{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??ba.RED,this.left=i??ba.EMPTY,this.right=a??ba.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new ba(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ba.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ba.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ba.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ba.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Vt(27949);return e+(this.isRed()?0:1)}}ba.EMPTY=null,ba.RED=!0,ba.BLACK=!1;ba.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt(57766)}get value(){throw Vt(16141)}get color(){throw Vt(16727)}get left(){throw Vt(29726)}get right(){throw Vt(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new ba(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bi{constructor(e){this.comparator=e,this.data=new Xr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z3(this.data.getIterator())}getIteratorFrom(e){return new z3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Bi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bi(this.comparator);return n.data=e,n}}class z3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bo{constructor(e){this.fields=e,e.sort(wa.comparator)}static empty(){return new bo([])}unionWith(e){let n=new Bi(wa.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ed(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class P8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ea{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new P8("Invalid base64 string: "+a):a}})(e);return new Ea(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a})(e);return new Ea(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return On(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ea.EMPTY_BYTE_STRING=new Ea("");const xG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ic(t){if(Jn(!!t,39018),typeof t=="string"){let e=0;const n=xG.exec(t);if(Jn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gi(t.seconds),nanos:gi(t.nanos)}}function gi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ac(t){return typeof t=="string"?Ea.fromBase64String(t):Ea.fromUint8Array(t)}const D8="server_timestamp",M8="__type__",k8="__previous_value__",j8="__local_write_time__";function i_(t){return(t?.mapValue?.fields||{})[M8]?.stringValue===D8}function ry(t){const e=t.mapValue.fields[k8];return i_(e)?ry(e):e}function A0(t){const e=ic(t.mapValue.fields[j8].timestampValue);return new Dr(e.seconds,e.nanos)}class bG{constructor(e,n,r,i,a,c,h,y,g,w,A){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=w,this.apiKey=A}}const kp="(default)";class S0{constructor(e,n){this.projectId=e,this.database=n||kp}static empty(){return new S0("","")}get isDefaultDatabase(){return this.database===kp}isEqual(e){return e instanceof S0&&e.projectId===this.projectId&&e.database===this.database}}function wG(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ct(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new S0(t.options.projectId,e)}const L8="__type__",EG="__max__",Mg={mapValue:{}},B8="__vector__",jp="value";function sc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i_(t)?4:AG(t)?9007199254740991:_G(t)?10:11:Vt(28295,{value:t})}function el(t,e){if(t===e)return!0;const n=sc(t);if(n!==sc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return A0(t).isEqual(A0(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=ic(i.timestampValue),h=ic(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ac(i.bytesValue).isEqual(ac(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return gi(i.geoPointValue.latitude)===gi(a.geoPointValue.latitude)&&gi(i.geoPointValue.longitude)===gi(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return gi(i.integerValue)===gi(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=gi(i.doubleValue),h=gi(a.doubleValue);return c===h?Mp(c)===Mp(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Ed(t.arrayValue.values||[],e.arrayValue.values||[],el);case 10:case 11:return(function(i,a){const c=i.mapValue.fields||{},h=a.mapValue.fields||{};if(V3(c)!==V3(h))return!1;for(const y in c)if(c.hasOwnProperty(y)&&(h[y]===void 0||!el(c[y],h[y])))return!1;return!0})(t,e);default:return Vt(52216,{left:t})}}function C0(t,e){return(t.values||[]).find((n=>el(n,e)))!==void 0}function _d(t,e){if(t===e)return 0;const n=sc(t),r=sc(e);if(n!==r)return On(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return On(t.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=gi(a.integerValue||a.doubleValue),y=gi(c.integerValue||c.doubleValue);return h<y?-1:h>y?1:h===y?0:isNaN(h)?isNaN(y)?0:-1:1})(t,e);case 3:return q3(t.timestampValue,e.timestampValue);case 4:return q3(A0(t),A0(e));case 5:return d2(t.stringValue,e.stringValue);case 6:return(function(a,c){const h=ac(a),y=ac(c);return h.compareTo(y)})(t.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),y=c.split("/");for(let g=0;g<h.length&&g<y.length;g++){const w=On(h[g],y[g]);if(w!==0)return w}return On(h.length,y.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=On(gi(a.latitude),gi(c.latitude));return h!==0?h:On(gi(a.longitude),gi(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return H3(t.arrayValue,e.arrayValue);case 10:return(function(a,c){const h=a.fields||{},y=c.fields||{},g=h[jp]?.arrayValue,w=y[jp]?.arrayValue,A=On(g?.values?.length||0,w?.values?.length||0);return A!==0?A:H3(g,w)})(t.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Mg.mapValue&&c===Mg.mapValue)return 0;if(a===Mg.mapValue)return 1;if(c===Mg.mapValue)return-1;const h=a.fields||{},y=Object.keys(h),g=c.fields||{},w=Object.keys(g);y.sort(),w.sort();for(let A=0;A<y.length&&A<w.length;++A){const I=d2(y[A],w[A]);if(I!==0)return I;const R=_d(h[y[A]],g[w[A]]);if(R!==0)return R}return On(y.length,w.length)})(t.mapValue,e.mapValue);default:throw Vt(23264,{he:n})}}function q3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return On(t,e);const n=ic(t),r=ic(e),i=On(n.seconds,r.seconds);return i!==0?i:On(n.nanos,r.nanos)}function H3(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=_d(n[i],r[i]);if(a)return a}return On(n.length,r.length)}function Ad(t){return h2(t)}function h2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ic(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ac(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return jt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=h2(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const c of r)a?a=!1:i+=",",i+=`${c}:${h2(n.fields[c])}`;return i+"}"})(t.mapValue):Vt(61005,{value:t})}function cp(t){switch(sc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ry(t);return e?16+cp(e):16;case 5:return 2*t.stringValue.length;case 6:return ac(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+cp(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return pf(r.fields,((a,c)=>{i+=a.length+cp(c)})),i})(t.mapValue);default:throw Vt(13486,{value:t})}}function m2(t){return!!t&&"integerValue"in t}function a_(t){return!!t&&"arrayValue"in t}function G3(t){return!!t&&"nullValue"in t}function W3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fp(t){return!!t&&"mapValue"in t}function _G(t){return(t?.mapValue?.fields||{})[L8]?.stringValue===B8}function u0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return pf(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=u0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=u0(t.arrayValue.values[n]);return e}return{...t}}function AG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EG}class Qs{constructor(e){this.value=e}static empty(){return new Qs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=u0(n)}setAll(e){let n=wa.emptyPath(),r={},i=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const y=this.getFieldsMap(n);this.applyChanges(y,r,i),r={},i=[],n=h.popLast()}c?r[h.lastSegment()]=u0(c):i.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());fp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return el(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pf(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Qs(u0(this.value))}}function F8(t){const e=[];return pf(t.fields,((n,r)=>{const i=new wa([n]);if(fp(r)){const a=F8(r.mapValue).fields;if(a.length===0)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)})),new bo(e)}class Ua{constructor(e,n,r,i,a,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Ua(e,0,Kt.min(),Kt.min(),Kt.min(),Qs.empty(),0)}static newFoundDocument(e,n,r,i){return new Ua(e,1,n,Kt.min(),r,i,0)}static newNoDocument(e,n){return new Ua(e,2,n,Kt.min(),Kt.min(),Qs.empty(),0)}static newUnknownDocument(e,n){return new Ua(e,3,n,Kt.min(),Kt.min(),Qs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ua&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ua(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lp{constructor(e,n){this.position=e,this.inclusive=n}}function K3(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],c=t.position[i];if(a.field.isKeyField()?r=jt.comparator(jt.fromName(c.referenceValue),n.key):r=_d(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!el(t.position[n],e.position[n]))return!1;return!0}class Bp{constructor(e,n="asc"){this.field=e,this.dir=n}}function SG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class U8{}class ji extends U8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TG(e,n,r):n==="array-contains"?new NG(e,r):n==="in"?new RG(e,r):n==="not-in"?new PG(e,r):n==="array-contains-any"?new DG(e,r):new ji(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new IG(e,r):new OG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_d(n,this.value)):n!==null&&sc(this.value)===sc(n)&&this.matchesComparison(_d(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tl extends U8{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new tl(e,n)}matches(e){return V8(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function V8(t){return t.op==="and"}function z8(t){return CG(t)&&V8(t)}function CG(t){for(const e of t.filters)if(e instanceof tl)return!1;return!0}function g2(t){if(t instanceof ji)return t.field.canonicalString()+t.op.toString()+Ad(t.value);if(z8(t))return t.filters.map((e=>g2(e))).join(",");{const e=t.filters.map((n=>g2(n))).join(",");return`${t.op}(${e})`}}function q8(t,e){return t instanceof ji?(function(r,i){return i instanceof ji&&r.op===i.op&&r.field.isEqual(i.field)&&el(r.value,i.value)})(t,e):t instanceof tl?(function(r,i){return i instanceof tl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,c,h)=>a&&q8(c,i.filters[h])),!0):!1})(t,e):void Vt(19439)}function H8(t){return t instanceof ji?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ad(n.value)}`})(t):t instanceof tl?(function(n){return n.op.toString()+" {"+n.getFilters().map(H8).join(" ,")+"}"})(t):"Filter"}class TG extends ji{constructor(e,n,r){super(e,n,r),this.key=jt.fromName(r.referenceValue)}matches(e){const n=jt.comparator(e.key,this.key);return this.matchesComparison(n)}}class IG extends ji{constructor(e,n){super(e,"in",n),this.keys=G8("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class OG extends ji{constructor(e,n){super(e,"not-in",n),this.keys=G8("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function G8(t,e){return(e.arrayValue?.values||[]).map((n=>jt.fromName(n.referenceValue)))}class NG extends ji{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a_(n)&&C0(n.arrayValue,this.value)}}class RG extends ji{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&C0(this.value.arrayValue,n)}}class PG extends ji{constructor(e,n){super(e,"not-in",n)}matches(e){if(C0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!C0(this.value.arrayValue,n)}}class DG extends ji{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>C0(this.value.arrayValue,r)))}}class MG{constructor(e,n=null,r=[],i=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function $3(t,e=null,n=[],r=[],i=null,a=null,c=null){return new MG(t,e,n,r,i,a,c)}function s_(t){const e=Xt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>g2(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),ny(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ad(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ad(r))).join(",")),e.Te=n}return e.Te}function o_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!q8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y3(t.startAt,e.startAt)&&Y3(t.endAt,e.endAt)}function p2(t){return jt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class iy{constructor(e,n=null,r=[],i=[],a=null,c="F",h=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kG(t,e,n,r,i,a,c,h){return new iy(t,e,n,r,i,a,c,h)}function l_(t){return new iy(t)}function X3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jG(t){return jt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function LG(t){return t.collectionGroup!==null}function c0(t){const e=Xt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Bi(wa.comparator);return c.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Bp(a,r))})),n.has(wa.keyField().canonicalString())||e.Ie.push(new Bp(wa.keyField(),r))}return e.Ie}function Xo(t){const e=Xt(t);return e.Ee||(e.Ee=BG(e,c0(t))),e.Ee}function BG(t,e){if(t.limitType==="F")return $3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Bp(i.field,a)}));const n=t.endAt?new Lp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lp(t.startAt.position,t.startAt.inclusive):null;return $3(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function y2(t,e,n){return new iy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ay(t,e){return o_(Xo(t),Xo(e))&&t.limitType===e.limitType}function W8(t){return`${s_(Xo(t))}|lt:${t.limitType}`}function rd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>H8(i))).join(", ")}]`),ny(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Ad(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Ad(i))).join(",")),`Target(${r})`})(Xo(t))}; limitType=${t.limitType})`}function sy(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):jt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of c0(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,h,y){const g=K3(c,h,y);return c.inclusive?g<=0:g<0})(r.startAt,c0(r),i)||r.endAt&&!(function(c,h,y){const g=K3(c,h,y);return c.inclusive?g>=0:g>0})(r.endAt,c0(r),i))})(t,e)}function FG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function K8(t){return(e,n)=>{let r=!1;for(const i of c0(t)){const a=UG(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function UG(t,e,n){const r=t.field.isKeyField()?jt.comparator(e.key,n.key):(function(a,c,h){const y=c.data.field(a),g=h.data.field(a);return y!==null&&g!==null?_d(y,g):Vt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Vt(19790,{direction:t.dir})}}class yf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pf(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return R8(this.inner)}size(){return this.innerSize}}const VG=new Xr(jt.comparator);function Yl(){return VG}const Y8=new Xr(jt.comparator);function Jh(...t){let e=Y8;for(const n of t)e=e.insert(n.key,n);return e}function $8(t){let e=Y8;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Bc(){return f0()}function X8(){return f0()}function f0(){return new yf((t=>t.toString()),((t,e)=>t.isEqual(e)))}const zG=new Xr(jt.comparator),qG=new Bi(jt.comparator);function Nn(...t){let e=qG;for(const n of t)e=e.add(n);return e}const HG=new Bi(On);function GG(){return HG}function u_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mp(e)?"-0":e}}function Z8(t){return{integerValue:""+t}}function WG(t,e){return pG(e)?Z8(e):u_(t,e)}class oy{constructor(){this._=void 0}}function KG(t,e,n){return t instanceof Fp?(function(i,a){const c={fields:{[M8]:{stringValue:D8},[j8]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&i_(a)&&(a=ry(a)),a&&(c.fields[k8]=a),{mapValue:c}})(n,e):t instanceof T0?J8(t,e):t instanceof I0?eM(t,e):(function(i,a){const c=Q8(i,a),h=Z3(c)+Z3(i.Ae);return m2(c)&&m2(i.Ae)?Z8(h):u_(i.serializer,h)})(t,e)}function YG(t,e,n){return t instanceof T0?J8(t,e):t instanceof I0?eM(t,e):n}function Q8(t,e){return t instanceof Up?(function(r){return m2(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Fp extends oy{}class T0 extends oy{constructor(e){super(),this.elements=e}}function J8(t,e){const n=tM(e);for(const r of t.elements)n.some((i=>el(i,r)))||n.push(r);return{arrayValue:{values:n}}}class I0 extends oy{constructor(e){super(),this.elements=e}}function eM(t,e){let n=tM(e);for(const r of t.elements)n=n.filter((i=>!el(i,r)));return{arrayValue:{values:n}}}class Up extends oy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Z3(t){return gi(t.integerValue||t.doubleValue)}function tM(t){return a_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $G(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof T0&&i instanceof T0||r instanceof I0&&i instanceof I0?Ed(r.elements,i.elements,el):r instanceof Up&&i instanceof Up?el(r.Ae,i.Ae):r instanceof Fp&&i instanceof Fp})(t.transform,e.transform)}class XG{constructor(e,n){this.version=e,this.transformResults=n}}class Vl{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vl}static exists(e){return new Vl(void 0,e)}static updateTime(e){return new Vl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ly{}function nM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iM(t.key,Vl.none()):new nm(t.key,t.data,Vl.none());{const n=t.data,r=Qs.empty();let i=new Bi(wa.comparator);for(let a of e.fields)if(!i.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),i=i.add(a)}return new vf(t.key,r,new bo(i.toArray()),Vl.none())}}function ZG(t,e,n){t instanceof nm?(function(i,a,c){const h=i.value.clone(),y=J3(i.fieldTransforms,a,c.transformResults);h.setAll(y),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof vf?(function(i,a,c){if(!dp(i.precondition,a))return void a.convertToUnknownDocument(c.version);const h=J3(i.fieldTransforms,a,c.transformResults),y=a.data;y.setAll(rM(i)),y.setAll(h),a.convertToFoundDocument(c.version,y).setHasCommittedMutations()})(t,e,n):(function(i,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function d0(t,e,n,r){return t instanceof nm?(function(a,c,h,y){if(!dp(a.precondition,c))return h;const g=a.value.clone(),w=eO(a.fieldTransforms,y,c);return g.setAll(w),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,r):t instanceof vf?(function(a,c,h,y){if(!dp(a.precondition,c))return h;const g=eO(a.fieldTransforms,y,c),w=c.data;return w.setAll(rM(a)),w.setAll(g),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((A=>A.field)))})(t,e,n,r):(function(a,c,h){return dp(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function QG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=Q8(r.transform,i||null);a!=null&&(n===null&&(n=Qs.empty()),n.set(r.field,a))}return n||null}function Q3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ed(r,i,((a,c)=>$G(a,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nm extends ly{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vf extends ly{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rM(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function J3(t,e,n){const r=new Map;Jn(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],c=a.transform,h=e.data.field(a.field);r.set(a.field,YG(c,h,n[i]))}return r}function eO(t,e,n){const r=new Map;for(const i of t){const a=i.transform,c=n.data.field(i.field);r.set(i.field,KG(a,c,e))}return r}class iM extends ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JG extends ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eW{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&ZG(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=d0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=d0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=X8();return this.mutations.forEach((i=>{const a=e.get(i.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=n.has(i.key)?null:h;const y=nM(c,h);y!==null&&r.set(i.key,y),c.isValidDocument()||c.convertToNoDocument(Kt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Nn())}isEqual(e){return this.batchId===e.batchId&&Ed(this.mutations,e.mutations,((n,r)=>Q3(n,r)))&&Ed(this.baseMutations,e.baseMutations,((n,r)=>Q3(n,r)))}}class c_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Jn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return zG})();const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new c_(e,n,r,i)}}class tW{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nW{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ti,Mn;function rW(t){switch(t){case Qe.OK:return Vt(64938);case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0;default:return Vt(15467,{code:t})}}function aM(t){if(t===void 0)return Kl("GRPC error has no .code"),Qe.UNKNOWN;switch(t){case Ti.OK:return Qe.OK;case Ti.CANCELLED:return Qe.CANCELLED;case Ti.UNKNOWN:return Qe.UNKNOWN;case Ti.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case Ti.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case Ti.INTERNAL:return Qe.INTERNAL;case Ti.UNAVAILABLE:return Qe.UNAVAILABLE;case Ti.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case Ti.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case Ti.NOT_FOUND:return Qe.NOT_FOUND;case Ti.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case Ti.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case Ti.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case Ti.ABORTED:return Qe.ABORTED;case Ti.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case Ti.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case Ti.DATA_LOSS:return Qe.DATA_LOSS;default:return Vt(39323,{code:t})}}(Mn=Ti||(Ti={}))[Mn.OK=0]="OK",Mn[Mn.CANCELLED=1]="CANCELLED",Mn[Mn.UNKNOWN=2]="UNKNOWN",Mn[Mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mn[Mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mn[Mn.NOT_FOUND=5]="NOT_FOUND",Mn[Mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mn[Mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mn[Mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mn[Mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mn[Mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mn[Mn.ABORTED=10]="ABORTED",Mn[Mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mn[Mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mn[Mn.INTERNAL=13]="INTERNAL",Mn[Mn.UNAVAILABLE=14]="UNAVAILABLE",Mn[Mn.DATA_LOSS=15]="DATA_LOSS";function iW(){return new TextEncoder}const aW=new Qu([4294967295,4294967295],0);function tO(t){const e=iW().encode(t),n=new b8;return n.update(e),new Uint8Array(n.digest())}function nO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qu([n,r],0),new Qu([i,a],0)]}class f_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new e0(`Invalid padding: ${n}`);if(r<0)throw new e0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new e0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new e0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Qu.fromNumber(r)));return i.compare(aW)===1&&(i=new Qu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tO(e),[r,i]=nO(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,i,a);if(!this.we(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new f_(a,i,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=tO(e),[r,i]=nO(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,i,a);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class e0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,rm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uy(Kt.min(),i,new Xr(On),Yl(),Nn())}}class rm{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rm(r,n,Nn(),Nn(),Nn())}}class hp{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class sM{constructor(e,n){this.targetId=e,this.Ce=n}}class oM{constructor(e,n,r=Ea.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rO{constructor(){this.ve=0,this.Fe=iO(),this.Me=Ea.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Nn(),n=Nn(),r=Nn();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Vt(38017,{changeType:a})}})),new rm(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=iO()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Jn(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class sW{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yl(),this.He=kg(),this.Je=kg(),this.Ze=new Xr(On)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Vt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(p2(a))if(r===0){const c=new jt(a.path);this.et(n,c,Ua.newNoDocument(c,Kt.min()))}else Jn(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),y=h?this.ct(h,e,c):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let c,h;try{c=ac(r).toUint8Array()}catch(y){if(y instanceof P8)return Qc("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{h=new f_(c,i,a)}catch(y){return Qc(y instanceof e0?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&p2(h.target)){const y=new jt(h.target.path);this.It(y).has(c)||this.Et(c,y)||this.et(c,y,Ua.newNoDocument(y,e))}a.Be&&(n.set(c,a.ke()),a.Ke())}}));let r=Nn();this.Je.forEach(((a,c)=>{let h=!0;c.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const i=new uy(e,n,this.Ze,this.je,r);return this.je=Yl(),this.He=kg(),this.Je=kg(),this.Ze=new Xr(On),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new rO,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Bi(On),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Bi(On),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rO),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kg(){return new Xr(jt.comparator)}function iO(){return new Xr(jt.comparator)}const oW={asc:"ASCENDING",desc:"DESCENDING"},lW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uW={and:"AND",or:"OR"};class cW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function v2(t,e){return t.useProto3Json||ny(e)?e:{value:e}}function Vp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fW(t,e){return Vp(t,e.toTimestamp())}function Zo(t){return Jn(!!t,49232),Kt.fromTimestamp((function(n){const r=ic(n);return new Dr(r.seconds,r.nanos)})(t))}function d_(t,e){return x2(t,e).canonicalString()}function x2(t,e){const n=(function(i){return new Pr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function uM(t){const e=Pr.fromString(t);return Jn(mM(e),10190,{key:e.toString()}),e}function b2(t,e){return d_(t.databaseId,e.path)}function db(t,e){const n=uM(e);if(n.get(1)!==t.databaseId.projectId)throw new Ct(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ct(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new jt(fM(n))}function cM(t,e){return d_(t.databaseId,e)}function dW(t){const e=uM(t);return e.length===4?Pr.emptyPath():fM(e)}function w2(t){return new Pr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fM(t){return Jn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aO(t,e,n){return{name:b2(t,e),fields:n.value.mapValue.fields}}function hW(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Vt(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(g,w){return g.useProto3Json?(Jn(w===void 0||typeof w=="string",58123),Ea.fromBase64String(w||"")):(Jn(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Ea.fromUint8Array(w||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const w=g.code===void 0?Qe.UNKNOWN:aM(g.code);return new Ct(w,g.message||"")})(c);n=new oM(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=db(t,r.document.name),a=Zo(r.document.updateTime),c=r.document.createTime?Zo(r.document.createTime):Kt.min(),h=new Qs({mapValue:{fields:r.document.fields}}),y=Ua.newFoundDocument(i,a,c,h),g=r.targetIds||[],w=r.removedTargetIds||[];n=new hp(g,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=db(t,r.document),a=r.readTime?Zo(r.readTime):Kt.min(),c=Ua.newNoDocument(i,a),h=r.removedTargetIds||[];n=new hp([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=db(t,r.document),a=r.removedTargetIds||[];n=new hp([],a,i,null)}else{if(!("filter"in e))return Vt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,c=new nW(i,a),h=r.targetId;n=new sM(h,c)}}return n}function mW(t,e){let n;if(e instanceof nm)n={update:aO(t,e.key,e.value)};else if(e instanceof iM)n={delete:b2(t,e.key)};else if(e instanceof vf)n={update:aO(t,e.key,e.data),updateMask:_W(e.fieldMask)};else{if(!(e instanceof JG))return Vt(16599,{dt:e.type});n={verify:b2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const h=c.transform;if(h instanceof Fp)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof T0)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof I0)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Up)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Vt(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:fW(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Vt(27497)})(t,e.precondition)),n}function gW(t,e){return t&&t.length>0?(Jn(e!==void 0,14353),t.map((n=>(function(i,a){let c=i.updateTime?Zo(i.updateTime):Zo(a);return c.isEqual(Kt.min())&&(c=Zo(a)),new XG(c,i.transformResults||[])})(n,e)))):[]}function pW(t,e){return{documents:[cM(t,e.path)]}}function yW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cM(t,i);const a=(function(g){if(g.length!==0)return hM(tl.create(g,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const c=(function(g){if(g.length!==0)return g.map((w=>(function(I){return{field:id(I.field),direction:bW(I.dir)}})(w)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=v2(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:i}}function vW(t){let e=dW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Jn(r===1,65062);const w=n.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let a=[];n.where&&(a=(function(A){const I=dM(A);return I instanceof tl&&z8(I)?I.getFilters():[I]})(n.where));let c=[];n.orderBy&&(c=(function(A){return A.map((I=>(function(j){return new Bp(ad(j.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(I)))})(n.orderBy));let h=null;n.limit&&(h=(function(A){let I;return I=typeof A=="object"?A.value:A,ny(I)?null:I})(n.limit));let y=null;n.startAt&&(y=(function(A){const I=!!A.before,R=A.values||[];return new Lp(R,I)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const I=!A.before,R=A.values||[];return new Lp(R,I)})(n.endAt)),kG(e,i,c,a,h,"F",y,g)}function xW(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dM(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ad(n.unaryFilter.field);return ji.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ad(n.unaryFilter.field);return ji.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ad(n.unaryFilter.field);return ji.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ad(n.unaryFilter.field);return ji.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vt(61313);default:return Vt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ji.create(ad(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vt(58110);default:return Vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return tl.create(n.compositeFilter.filters.map((r=>dM(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Vt(1026)}})(n.compositeFilter.op))})(t):Vt(30097,{filter:t})}function bW(t){return oW[t]}function wW(t){return lW[t]}function EW(t){return uW[t]}function id(t){return{fieldPath:t.canonicalString()}}function ad(t){return wa.fromServerFormat(t.fieldPath)}function hM(t){return t instanceof ji?(function(n){if(n.op==="=="){if(W3(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NAN"}};if(G3(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W3(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NOT_NAN"}};if(G3(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:id(n.field),op:wW(n.op),value:n.value}}})(t):t instanceof tl?(function(n){const r=n.getFilters().map((i=>hM(i)));return r.length===1?r[0]:{compositeFilter:{op:EW(n.op),filters:r}}})(t):Vt(54877,{filter:t})}function _W(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function gM(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Gu{constructor(e,n,r,i,a=Kt.min(),c=Kt.min(),h=Ea.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=y}withSequenceNumber(e){return new Gu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AW{constructor(e){this.yt=e}}function SW(t){const e=vW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?y2(e,e.limit,"L"):e}class CW{constructor(){this.Sn=new TW}addToCollectionParentIndex(e,n){return this.Sn.add(n),$e.resolve()}getCollectionParents(e,n){return $e.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return $e.resolve()}deleteFieldIndex(e,n){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,n){return $e.resolve()}getDocumentsMatchingTarget(e,n){return $e.resolve(null)}getIndexType(e,n){return $e.resolve(0)}getFieldIndexes(e,n){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,n){return $e.resolve(rc.min())}getMinOffsetFromCollectionGroup(e,n){return $e.resolve(rc.min())}updateCollectionGroup(e,n,r){return $e.resolve()}updateIndexEntries(e,n){return $e.resolve()}}class TW{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bi(Pr.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bi(Pr.comparator)).toArray()}}const sO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pM=41943040;class gs{static withCacheSize(e){return new gs(e,gs.DEFAULT_COLLECTION_PERCENTILE,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}gs.DEFAULT_COLLECTION_PERCENTILE=10,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gs.DEFAULT=new gs(pM,gs.DEFAULT_COLLECTION_PERCENTILE,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gs.DISABLED=new gs(-1,0,0);class Sd{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Sd(0)}static ar(){return new Sd(-1)}}const oO="LruGarbageCollector",IW=1048576;function lO([t,e],[n,r]){const i=On(t,n);return i===0?On(e,r):i}class OW{constructor(e){this.Pr=e,this.buffer=new Bi(lO),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pt(oO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hd(n)?pt(oO,"Ignoring IndexedDB error during garbage collection: ",n):await qd(n)}await this.Ar(3e5)}))}}class RW{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return $e.resolve(ty.ce);const r=new OW(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(sO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sO):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,c,h,y,g;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,c=Date.now(),this.nthSequenceNumber(e,i)))).next((A=>(r=A,h=Date.now(),this.removeTargets(e,r,n)))).next((A=>(a=A,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(g=Date.now(),nd()<=In.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${i} in `+(h-c)+`ms
	Removed ${a} targets in `+(y-h)+`ms
	Removed ${A} documents in `+(g-y)+`ms
Total Duration: ${g-w}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A}))))}}function PW(t,e){return new RW(t,e)}class DW{constructor(){this.changes=new yf((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ua.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class kW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&d0(r.mutation,i,bo.empty(),Dr.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Nn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Nn()){const i=Bc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let c=Jh();return a.forEach(((h,y)=>{c=c.insert(h,y.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Bc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Nn())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,i){let a=Yl();const c=f0(),h=(function(){return f0()})();return n.forEach(((y,g)=>{const w=r.get(g.key);i.has(g.key)&&(w===void 0||w.mutation instanceof vf)?a=a.insert(g.key,g):w!==void 0?(c.set(g.key,w.mutation.getFieldMask()),d0(w.mutation,g,w.mutation.getFieldMask(),Dr.now())):c.set(g.key,bo.empty())})),this.recalculateAndSaveOverlays(e,a).next((y=>(y.forEach(((g,w)=>c.set(g,w))),n.forEach(((g,w)=>h.set(g,new MW(w,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=f0();let i=new Xr(((c,h)=>c-h)),a=Nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let w=r.get(y)||bo.empty();w=h.applyToLocalView(g,w),r.set(y,w);const A=(i.get(h.batchId)||Nn()).add(y);i=i.insert(h.batchId,A)}))})).next((()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const y=h.getNext(),g=y.key,w=y.value,A=X8();w.forEach((I=>{if(!a.has(I)){const R=nM(n.get(I),r.get(I));R!==null&&A.set(I,R),a=a.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,A))}return $e.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return jG(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):$e.resolve(Bc());let h=_0,y=a;return c.next((g=>$e.forEach(g,((w,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),a.get(w)?$e.resolve():this.remoteDocumentCache.getEntry(e,w).next((I=>{y=y.insert(w,I)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,y,g,Nn()))).next((w=>({batchId:h,changes:$8(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new jt(n)).next((r=>{let i=Jh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let c=Jh();return this.indexManager.getCollectionParents(e,a).next((h=>$e.forEach(h,(y=>{const g=(function(A,I){return new iy(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,r,i).next((w=>{w.forEach(((A,I)=>{c=c.insert(A,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((c=>{a.forEach(((y,g)=>{const w=g.getKey();c.get(w)===null&&(c=c.insert(w,Ua.newInvalidDocument(w)))}));let h=Jh();return c.forEach(((y,g)=>{const w=a.get(y);w!==void 0&&d0(w.mutation,g,bo.empty(),Dr.now()),sy(n,g)&&(h=h.insert(y,g))})),h}))}}class jW{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return $e.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Zo(i.createTime)}})(n)),$e.resolve()}getNamedQuery(e,n){return $e.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:SW(i.bundledQuery),readTime:Zo(i.readTime)}})(n)),$e.resolve()}}class LW{constructor(){this.overlays=new Xr(jt.comparator),this.Lr=new Map}getOverlay(e,n){return $e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bc();return $e.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.bt(e,n,a)})),$e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),$e.resolve()}getOverlaysForCollection(e,n,r){const i=Bc(),a=n.length+1,c=new jt(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const y=h.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return $e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Xr(((g,w)=>g-w));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let w=a.get(g.largestBatchId);w===null&&(w=Bc(),a=a.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const h=Bc(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,w)=>h.set(g,w))),!(h.size()>=i)););return $e.resolve(h)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new tW(n,r));let a=this.Lr.get(n);a===void 0&&(a=Nn(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}class BW{constructor(){this.sessionToken=Ea.EMPTY_BYTE_STRING}getSessionToken(e){return $e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$e.resolve()}}class h_{constructor(){this.kr=new Bi(Ji.Kr),this.qr=new Bi(Ji.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Ji(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Ji(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new jt(new Pr([])),r=new Ji(n,e),i=new Ji(n,e+1),a=[];return this.qr.forEachInRange([r,i],(c=>{this.Wr(c),a.push(c.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new jt(new Pr([])),r=new Ji(n,e),i=new Ji(n,e+1);let a=Nn();return this.qr.forEachInRange([r,i],(c=>{a=a.add(c.key)})),a}containsKey(e){const n=new Ji(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ji{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return jt.comparator(e.key,n.key)||On(e.Hr,n.Hr)}static Ur(e,n){return On(e.Hr,n.Hr)||jt.comparator(e.key,n.key)}}class FW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Bi(Ji.Kr)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new eW(a,n,r,i);this.mutationQueue.push(c);for(const h of i)this.Jr=this.Jr.add(new Ji(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return $e.resolve(c)}lookupMutationBatch(e,n){return $e.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return $e.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?r_:this.Yn-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ji(n,0),i=new Ji(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],(c=>{const h=this.Zr(c.Hr);a.push(h)})),$e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bi(On);return n.forEach((i=>{const a=new Ji(i,0),c=new Ji(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,c],(h=>{r=r.add(h.Hr)}))})),$e.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;jt.isDocumentKey(a)||(a=a.child(""));const c=new Ji(new jt(a),0);let h=new Bi(On);return this.Jr.forEachWhile((y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(h=h.add(y.Hr)),!0)}),c),$e.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Jn(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $e.forEach(n.mutations,(i=>{const a=new Ji(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Ji(n,0),i=this.Jr.firstAfterOrEqual(r);return $e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class UW{constructor(e){this.ti=e,this.docs=(function(){return new Xr(jt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $e.resolve(r?r.document.mutableCopy():Ua.newInvalidDocument(n))}getEntries(e,n){let r=Yl();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ua.newInvalidDocument(i))})),$e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Yl();const c=n.path,h=new jt(c.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(h);for(;y.hasNext();){const{key:g,value:{document:w}}=y.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||dG(fG(w),r)<=0||(i.has(w.key)||sy(n,w))&&(a=a.insert(w.key,w.mutableCopy()))}return $e.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Vt(9500)}ni(e,n){return $e.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new VW(this)}getSize(e){return $e.resolve(this.size)}}class VW extends DW{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),$e.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class zW{constructor(e){this.persistence=e,this.ri=new yf((n=>s_(n)),o_),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.ii=0,this.si=new h_,this.targetCount=0,this.oi=Sd._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),$e.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Sd(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,$e.resolve()}updateTargetData(e,n){return this.lr(n),$e.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.ri.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),$e.waitFor(a).next((()=>i))}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return $e.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),$e.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((c=>{a.push(i.markPotentiallyOrphaned(e,c))})),$e.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),$e.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return $e.resolve(r)}containsKey(e,n){return $e.resolve(this.si.containsKey(n))}}class yM{constructor(e,n){this._i={},this.overlays={},this.ai=new ty(0),this.ui=!1,this.ui=!0,this.ci=new BW,this.referenceDelegate=e(this),this.li=new zW(this),this.indexManager=new CW,this.remoteDocumentCache=(function(i){return new UW(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new AW(n),this.Pi=new jW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new FW(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){pt("MemoryPersistence","Starting transaction:",e);const i=new qW(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,n){return $e.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class qW extends mG{constructor(e){super(),this.currentSequenceNumber=e}}class m_{constructor(e){this.persistence=e,this.Ri=new h_,this.Ai=null}static Vi(e){return new m_(e)}get di(){if(this.Ai)return this.Ai;throw Vt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),$e.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),$e.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.di,(r=>{const i=jt.fromPath(r);return this.mi(e,i).next((a=>{a||n.removeEntry(i,Kt.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return $e.or([()=>$e.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class zp{constructor(e,n){this.persistence=e,this.fi=new yf((r=>yG(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=PW(this,n)}static Vi(e,n){return new zp(e,n)}Ti(){}Ii(e){return $e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return $e.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((a=>a?$e.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(r++,a.removeEntry(c,Kt.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),$e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$e.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$e.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),$e.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cp(e.data.value)),n}wr(e,n,r){return $e.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return $e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class g_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Nn(),i=Nn();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new g_(e,n.fromCache,r,i)}}class HW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class GW{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yV()?8:gG(qa())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ps(e,n,i,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new HW;return this.ys(e,n,c).next((h=>{if(a.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>a.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(nd()<=In.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",rd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$e.resolve()):(nd()<=In.DEBUG&&pt("QueryEngine","Query:",rd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(nd()<=In.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",rd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xo(n))):$e.resolve())}gs(e,n){if(X3(n))return $e.resolve(null);let r=Xo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=y2(n,null,"F"),r=Xo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=Nn(...a);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((y=>{const g=this.bs(n,h);return this.Ss(n,g,c,y.readTime)?this.gs(e,y2(n,null,"F")):this.Ds(e,g,n,y)}))))})))))}ps(e,n,r,i){return X3(n)||i.isEqual(Kt.min())?$e.resolve(null):this.fs.getDocuments(e,r).next((a=>{const c=this.bs(n,a);return this.Ss(n,c,r,i)?$e.resolve(null):(nd()<=In.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rd(n)),this.Ds(e,c,n,cG(i,_0)).next((h=>h)))}))}bs(e,n){let r=new Bi(K8(e));return n.forEach(((i,a)=>{sy(e,a)&&(r=r.add(a))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return nd()<=In.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",rd(n)),this.fs.getDocumentsMatchingQuery(e,n,rc.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((c=>{a=a.insert(c.key,c)})),a)))}}const p_="LocalStore",WW=3e8;class KW{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Xr(On),this.Fs=new yf((a=>s_(a)),o_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kW(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function YW(t,e,n,r){return new KW(t,e,n,r)}async function vM(t,e){const n=Xt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],h=[];let y=Nn();for(const g of i){c.push(g.batchId);for(const w of g.mutations)y=y.add(w.key)}for(const g of a){h.push(g.batchId);for(const w of g.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(r,y).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function $W(t,e){const n=Xt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,y,g,w){const A=g.batch,I=A.keys();let R=$e.resolve();return I.forEach((j=>{R=R.next((()=>w.getEntry(y,j))).next((k=>{const L=g.docVersions.get(j);Jn(L!==null,48541),k.version.compareTo(L)<0&&(A.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),w.addEntry(k)))}))})),R.next((()=>h.mutationQueue.removeMutationBatch(y,A)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let y=Nn();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(y=y.add(h.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function xM(t){const e=Xt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function XW(t,e){const n=Xt(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const h=[];e.targetChanges.forEach(((w,A)=>{const I=i.get(A);if(!I)return;h.push(n.li.removeMatchingKeys(a,w.removedDocuments,A).next((()=>n.li.addMatchingKeys(a,w.addedDocuments,A))));let R=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(A)!==null?R=R.withResumeToken(Ea.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,r)),i=i.insert(A,R),(function(k,L,G){return k.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=WW?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(I,R,w)&&h.push(n.li.updateTargetData(a,R))}));let y=Yl(),g=Nn();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,w))})),h.push(ZW(a,c,e.documentUpdates).next((w=>{y=w.Bs,g=w.Ls}))),!r.isEqual(Kt.min())){const w=n.li.getLastRemoteSnapshotVersion(a).next((A=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(w)}return $e.waitFor(h).next((()=>c.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,y,g))).next((()=>y))})).then((a=>(n.vs=i,a)))}function ZW(t,e,n){let r=Nn(),i=Nn();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let c=Yl();return n.forEach(((h,y)=>{const g=a.get(h);y.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(h)),y.isNoDocument()&&y.version.isEqual(Kt.min())?(e.removeEntry(h,y.readTime),c=c.insert(h,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),c=c.insert(h,y)):pt(p_,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",y.version)})),{Bs:c,Ls:i}}))}function QW(t,e){const n=Xt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=r_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function JW(t,e){const n=Xt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((a=>a?(i=a,$e.resolve(i)):n.li.allocateTargetId(r).next((c=>(i=new Gu(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function E2(t,e,n){const r=Xt(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Hd(c))throw c;pt(p_,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function uO(t,e,n){const r=Xt(t);let i=Kt.min(),a=Nn();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(y,g,w){const A=Xt(y),I=A.Fs.get(w);return I!==void 0?$e.resolve(A.vs.get(I)):A.li.getTargetData(g,w)})(r,c,Xo(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,h.targetId).next((y=>{a=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?i:Kt.min(),n?a:Nn()))).next((h=>(eK(r,FG(e),h),{documents:h,ks:a})))))}function eK(t,e,n){let r=t.Ms.get(e)||Kt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Ms.set(e,r)}class cO{constructor(){this.activeTargetIds=GG()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tK{constructor(){this.vo=new cO,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new cO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nK{Mo(e){}shutdown(){}}const fO="ConnectivityMonitor";class dO{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pt(fO,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pt(fO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jg=null;function _2(){return jg===null?jg=(function(){return 268435456+Math.round(2147483648*Math.random())})():jg++,"0x"+jg.toString(16)}const hb="RestConnection",rK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class iK{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===kp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const c=_2(),h=this.Qo(e,n.toUriEncodedString());pt(hb,`Sending RPC '${e}' ${c}:`,h,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,i,a);const{host:g}=new URL(h),w=Fd(g);return this.zo(e,h,y,r,w).then((A=>(pt(hb,`Received RPC '${e}' ${c}: `,A),A)),(A=>{throw Qc(hb,`RPC '${e}' ${c} failed with error: `,A,"url: ",h,"request:",r),A}))}jo(e,n,r,i,a,c){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}Qo(e,n){const r=rK[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class aK{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const La="WebChannelConnection",Bh=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class md extends iK{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!md.c_){const e=A8();Bh(e,_8.STAT_EVENT,(n=>{n.stat===f2.PROXY?pt(La,"STAT_EVENT: detected buffering proxy"):n.stat===f2.NOPROXY&&pt(La,"STAT_EVENT: detected no buffering proxy")})),md.c_=!0}}zo(e,n,r,i,a){const c=_2();return new Promise(((h,y)=>{const g=new w8;g.setWithCredentials(!0),g.listenOnce(E8.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case up.NO_ERROR:const A=g.getResponseJson();pt(La,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(A)),h(A);break;case up.TIMEOUT:pt(La,`RPC '${e}' ${c} timed out`),y(new Ct(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case up.HTTP_ERROR:const I=g.getStatus();if(pt(La,`RPC '${e}' ${c} failed with status:`,I,"response text:",g.getResponseText()),I>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const j=R?.error;if(j&&j.status&&j.message){const k=(function(G){const K=G.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(K)>=0?K:Qe.UNKNOWN})(j.status);y(new Ct(k,j.message))}else y(new Ct(Qe.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new Ct(Qe.UNAVAILABLE,"Connection failed."));break;default:Vt(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pt(La,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(i);pt(La,`RPC '${e}' ${c} sending request:`,i),g.send(n,"POST",w,r,15)}))}T_(e,n,r){const i=_2(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(h.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");pt(La,`Creating RPC '${e}' stream ${i}: ${g}`,h);const w=c.createWebChannel(g,h);this.I_(w);let A=!1,I=!1;const R=new aK({Ho:j=>{I?pt(La,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(A||(pt(La,`Opening RPC '${e}' stream ${i} transport.`),w.open(),A=!0),pt(La,`RPC '${e}' stream ${i} sending:`,j),w.send(j))},Jo:()=>w.close()});return Bh(w,Qh.EventType.OPEN,(()=>{I||(pt(La,`RPC '${e}' stream ${i} transport opened.`),R.i_())})),Bh(w,Qh.EventType.CLOSE,(()=>{I||(I=!0,pt(La,`RPC '${e}' stream ${i} transport closed`),R.o_(),this.E_(w))})),Bh(w,Qh.EventType.ERROR,(j=>{I||(I=!0,Qc(La,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),R.o_(new Ct(Qe.UNAVAILABLE,"The operation could not be completed")))})),Bh(w,Qh.EventType.MESSAGE,(j=>{if(!I){const k=j.data[0];Jn(!!k,16349);const L=k,G=L?.error||L[0]?.error;if(G){pt(La,`RPC '${e}' stream ${i} received error:`,G);const K=G.status;let W=(function(Q){const U=Ti[Q];if(U!==void 0)return aM(U)})(K),ne=G.message;K==="NOT_FOUND"&&ne.includes("database")&&ne.includes("does not exist")&&ne.includes(this.databaseId.database)&&Qc(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),W===void 0&&(W=Qe.INTERNAL,ne="Unknown error status: "+K+" with message "+G.message),I=!0,R.o_(new Ct(W,ne)),w.close()}else pt(La,`RPC '${e}' stream ${i} received:`,k),R.__(k)}})),md.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return S8()}}function sK(t){return new md(t)}function mb(){return typeof document<"u"?document:null}function cy(t){return new cW(t,!0)}md.c_=!1;class bM{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&pt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const hO="PersistentStream";class wM{constructor(e,n,r,i,a,c,h,y){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Qe.RESOURCE_EXHAUSTED?(Kl(n.toString()),Kl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ct(Qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pt(hO,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(pt(hO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oK extends wM{constructor(e,n,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hW(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Kt.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Kt.min():c.readTime?Zo(c.readTime):Kt.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=w2(this.serializer),n.addTarget=(function(a,c){let h;const y=c.target;if(h=p2(y)?{documents:pW(a,y)}:{query:yW(a,y).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=lM(a,c.resumeToken);const g=v2(a,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Kt.min())>0){h.readTime=Vp(a,c.snapshotVersion.toTimestamp());const g=v2(a,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const r=xW(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=w2(this.serializer),n.removeTarget=e,this.K_(n)}}class lK extends wM{constructor(e,n,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Jn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Jn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Jn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gW(e.writeResults,e.commitTime),r=Zo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=w2(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>mW(this.serializer,r)))};this.K_(n)}}class uK{}class cK extends uK{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ct(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Wo(e,x2(n,r),i,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ct(Qe.UNKNOWN,a.toString())}))}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,x2(n,r),i,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(Qe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function fK(t,e,n,r){return new cK(t,e,n,r)}class dK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kl(n),this.aa=!1):pt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ef="RemoteStore";class hK{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{xf(this)&&(pt(ef,"Restarting streams for network reachability change."),await(async function(y){const g=Xt(y);g.Ea.add(4),await im(g),g.Va.set("Unknown"),g.Ea.delete(4),await fy(g)})(this))}))})),this.Va=new dK(r,i)}}async function fy(t){if(xf(t))for(const e of t.Ra)await e(!0)}async function im(t){for(const e of t.Ra)await e(!1)}function EM(t,e){const n=Xt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),b_(n)?x_(n):Gd(n).O_()&&v_(n,e))}function y_(t,e){const n=Xt(t),r=Gd(n);n.Ia.delete(e),r.O_()&&_M(n,e),n.Ia.size===0&&(r.O_()?r.L_():xf(n)&&n.Va.set("Unknown"))}function v_(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Kt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gd(t).Z_(e)}function _M(t,e){t.da.$e(e),Gd(t).X_(e)}function x_(t){t.da=new sW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Gd(t).start(),t.Va.ua()}function b_(t){return xf(t)&&!Gd(t).x_()&&t.Ia.size>0}function xf(t){return Xt(t).Ea.size===0}function AM(t){t.da=void 0}async function mK(t){t.Va.set("Online")}async function gK(t){t.Ia.forEach(((e,n)=>{v_(t,e)}))}async function pK(t,e){AM(t),b_(t)?(t.Va.ha(e),x_(t)):t.Va.set("Unknown")}async function yK(t,e,n){if(t.Va.set("Online"),e instanceof oM&&e.state===2&&e.cause)try{await(async function(i,a){const c=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,c),i.Ia.delete(h),i.da.removeTarget(h))})(t,e)}catch(r){pt(ef,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qp(t,r)}else if(e instanceof hp?t.da.Xe(e):e instanceof sM?t.da.st(e):t.da.tt(e),!n.isEqual(Kt.min()))try{const r=await xM(t.localStore);n.compareTo(r)>=0&&await(function(a,c){const h=a.da.Tt(c);return h.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const w=a.Ia.get(g);w&&a.Ia.set(g,w.withResumeToken(y.resumeToken,c))}})),h.targetMismatches.forEach(((y,g)=>{const w=a.Ia.get(y);if(!w)return;a.Ia.set(y,w.withResumeToken(Ea.EMPTY_BYTE_STRING,w.snapshotVersion)),_M(a,y);const A=new Gu(w.target,y,g,w.sequenceNumber);v_(a,A)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){pt(ef,"Failed to raise snapshot:",r),await qp(t,r)}}async function qp(t,e,n){if(!Hd(e))throw e;t.Ea.add(1),await im(t),t.Va.set("Offline"),n||(n=()=>xM(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pt(ef,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await fy(t)}))}function SM(t,e){return e().catch((n=>qp(t,n,e)))}async function dy(t){const e=Xt(t),n=oc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:r_;for(;vK(e);)try{const i=await QW(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,xK(e,i)}catch(i){await qp(e,i)}CM(e)&&TM(e)}function vK(t){return xf(t)&&t.Ta.length<10}function xK(t,e){t.Ta.push(e);const n=oc(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function CM(t){return xf(t)&&!oc(t).x_()&&t.Ta.length>0}function TM(t){oc(t).start()}async function bK(t){oc(t).ra()}async function wK(t){const e=oc(t);for(const n of t.Ta)e.ea(n.mutations)}async function EK(t,e,n){const r=t.Ta.shift(),i=c_.from(r,e,n);await SM(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await dy(t)}async function _K(t,e){e&&oc(t).Y_&&await(async function(r,i){if((function(c){return rW(c)&&c!==Qe.ABORTED})(i.code)){const a=r.Ta.shift();oc(r).B_(),await SM(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await dy(r)}})(t,e),CM(t)&&TM(t)}async function mO(t,e){const n=Xt(t);n.asyncQueue.verifyOperationInProgress(),pt(ef,"RemoteStore received new credentials");const r=xf(n);n.Ea.add(3),await im(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fy(n)}async function AK(t,e){const n=Xt(t);e?(n.Ea.delete(2),await fy(n)):e||(n.Ea.add(2),await im(n),n.Va.set("Unknown"))}function Gd(t){return t.ma||(t.ma=(function(n,r,i){const a=Xt(n);return a.sa(),new oK(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:mK.bind(null,t),Yo:gK.bind(null,t),t_:pK.bind(null,t),J_:yK.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),b_(t)?x_(t):t.Va.set("Unknown")):(await t.ma.stop(),AM(t))}))),t.ma}function oc(t){return t.fa||(t.fa=(function(n,r,i){const a=Xt(n);return a.sa(),new lK(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:bK.bind(null,t),t_:_K.bind(null,t),ta:wK.bind(null,t),na:EK.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await dy(t)):(await t.fa.stop(),t.Ta.length>0&&(pt(ef,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class w_{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ul,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const c=Date.now()+r,h=new w_(e,n,c,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(Qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E_(t,e){if(Kl("AsyncQueue",`${e}: ${t}`),Hd(t))return new Ct(Qe.UNAVAILABLE,`${e}: ${t}`);throw t}class gd{static emptySet(e){return new gd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||jt.comparator(n.key,r.key):(n,r)=>jt.comparator(n.key,r.key),this.keyedMap=Jh(),this.sortedSet=new Xr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class gO{constructor(){this.ga=new Xr(jt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Vt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Cd{constructor(e,n,r,i,a,c,h,y,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,i,a){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Cd(e,n,gd.emptySet(n),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ay(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class SK{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class CK{constructor(){this.queries=pO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Xt(n),a=i.queries;i.queries=pO(),a.forEach(((c,h)=>{for(const y of h.ba)y.onError(r)}))})(this,new Ct(Qe.ABORTED,"Firestore shutting down"))}}function pO(){return new yf((t=>W8(t)),ay)}async function IM(t,e){const n=Xt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new SK,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const h=E_(c,`Initialization of query '${rd(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&__(n)}async function OM(t,e){const n=Xt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const c=a.ba.indexOf(e);c>=0&&(a.ba.splice(c,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TK(t,e){const n=Xt(t);let r=!1;for(const i of e){const a=i.query,c=n.queries.get(a);if(c){for(const h of c.ba)h.Fa(i)&&(r=!0);c.wa=i}}r&&__(n)}function IK(t,e,n){const r=Xt(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function __(t){t.Ca.forEach((e=>{e.next()}))}var A2,yO;(yO=A2||(A2={})).Ma="default",yO.Cache="cache";class NM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==A2.Cache}}class RM{constructor(e){this.key=e}}class PM{constructor(e){this.key=e}}class OK{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nn(),this.mutatedKeys=Nn(),this.eu=K8(e),this.tu=new gd(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new gO,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,c=i,h=!1;const y=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((w,A)=>{const I=i.get(w),R=sy(this.query,A)?A:null,j=!!I&&this.mutatedKeys.has(I.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let L=!1;I&&R?I.data.isEqual(R.data)?j!==k&&(r.track({type:3,doc:R}),L=!0):this.su(I,R)||(r.track({type:2,doc:R}),L=!0,(y&&this.eu(R,y)>0||g&&this.eu(R,g)<0)&&(h=!0)):!I&&R?(r.track({type:0,doc:R}),L=!0):I&&!R&&(r.track({type:1,doc:I}),L=!0,(y||g)&&(h=!0)),L&&(R?(c=c.add(R),a=k?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{tu:c,iu:r,Ss:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((w,A)=>(function(R,j){const k=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt(20277,{Vt:L})}};return k(R)-k(j)})(w.type,A.type)||this.eu(w.doc,A.doc))),this.ou(r),i=i??!1;const h=n&&!i?this._u():[],y=this.Ya.size===0&&this.current&&!i?1:0,g=y!==this.Xa;return this.Xa=y,c.length!==0||g?{snapshot:new Cd(this.query,e.tu,a,c,e.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gO,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Nn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new PM(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new RM(r))})),n}cu(e){this.Za=e.ks,this.Ya=Nn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const A_="SyncEngine";class NK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RK{constructor(e){this.key=e,this.hu=!1}}class PK{constructor(e,n,r,i,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new yf((h=>W8(h)),ay),this.Iu=new Map,this.Eu=new Set,this.Ru=new Xr(jt.comparator),this.Au=new Map,this.Vu=new h_,this.du={},this.mu=new Map,this.fu=Sd.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DK(t,e,n=!0){const r=BM(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await DM(r,e,n,!0),i}async function MK(t,e){const n=BM(t);await DM(n,e,!0,!1)}async function DM(t,e,n,r){const i=await JW(t.localStore,Xo(e)),a=i.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await kK(t,e,a,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&EM(t.remoteStore,i),h}async function kK(t,e,n,r,i){t.pu=(A,I,R)=>(async function(k,L,G,K){let W=L.view.ru(G);W.Ss&&(W=await uO(k.localStore,L.query,!1).then((({documents:U})=>L.view.ru(U,W))));const ne=K&&K.targetChanges.get(L.targetId),fe=K&&K.targetMismatches.get(L.targetId)!=null,Q=L.view.applyChanges(W,k.isPrimaryClient,ne,fe);return xO(k,L.targetId,Q.au),Q.snapshot})(t,A,I,R);const a=await uO(t.localStore,e,!0),c=new OK(e,a.ks),h=c.ru(a.documents),y=rm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),g=c.applyChanges(h,t.isPrimaryClient,y);xO(t,n,g.au);const w=new NK(e,n,c);return t.Tu.set(e,w),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function jK(t,e,n){const r=Xt(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((c=>!ay(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await E2(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&y_(r.remoteStore,i.targetId),S2(r,i.targetId)})).catch(qd)):(S2(r,i.targetId),await E2(r.localStore,i.targetId,!0))}async function LK(t,e){const n=Xt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),y_(n.remoteStore,r.targetId))}async function BK(t,e,n){const r=GK(t);try{const i=await(function(c,h){const y=Xt(c),g=Dr.now(),w=h.reduce(((R,j)=>R.add(j.key)),Nn());let A,I;return y.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let j=Yl(),k=Nn();return y.xs.getEntries(R,w).next((L=>{j=L,j.forEach(((G,K)=>{K.isValidDocument()||(k=k.add(G))}))})).next((()=>y.localDocuments.getOverlayedDocuments(R,j))).next((L=>{A=L;const G=[];for(const K of h){const W=QG(K,A.get(K.key).overlayedDocument);W!=null&&G.push(new vf(K.key,W,F8(W.value.mapValue),Vl.exists(!0)))}return y.mutationQueue.addMutationBatch(R,g,G,h)})).next((L=>{I=L;const G=L.applyToLocalDocumentSet(A,k);return y.documentOverlayCache.saveOverlays(R,L.batchId,G)}))})).then((()=>({batchId:I.batchId,changes:$8(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,h,y){let g=c.du[c.currentUser.toKey()];g||(g=new Xr(On)),g=g.insert(h,y),c.du[c.currentUser.toKey()]=g})(r,i.batchId,n),await am(r,i.changes),await dy(r.remoteStore)}catch(i){const a=E_(i,"Failed to persist write");n.reject(a)}}async function MM(t,e){const n=Xt(t);try{const r=await XW(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const c=n.Au.get(a);c&&(Jn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?Jn(c.hu,14607):i.removedDocuments.size>0&&(Jn(c.hu,42227),c.hu=!1))})),await am(n,r,e)}catch(r){await qd(r)}}function vO(t,e,n){const r=Xt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(c,h){const y=Xt(c);y.onlineState=h;let g=!1;y.queries.forEach(((w,A)=>{for(const I of A.ba)I.va(h)&&(g=!0)})),g&&__(y)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FK(t,e,n){const r=Xt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let c=new Xr(jt.comparator);c=c.insert(a,Ua.newNoDocument(a,Kt.min()));const h=Nn().add(a),y=new uy(Kt.min(),new Map,new Xr(On),c,h);await MM(r,y),r.Ru=r.Ru.remove(a),r.Au.delete(e),S_(r)}else await E2(r.localStore,e,!1).then((()=>S2(r,e,n))).catch(qd)}async function UK(t,e){const n=Xt(t),r=e.batch.batchId;try{const i=await $W(n.localStore,e);jM(n,r,null),kM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await am(n,i)}catch(i){await qd(i)}}async function VK(t,e,n){const r=Xt(t);try{const i=await(function(c,h){const y=Xt(c);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let w;return y.mutationQueue.lookupMutationBatch(g,h).next((A=>(Jn(A!==null,37113),w=A.keys(),y.mutationQueue.removeMutationBatch(g,A)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,w,h))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,w))).next((()=>y.localDocuments.getDocuments(g,w)))}))})(r.localStore,e);jM(r,e,n),kM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await am(r,i)}catch(i){await qd(i)}}function kM(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function jM(t,e,n){const r=Xt(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function S2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||LM(t,r)}))}function LM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(y_(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),S_(t))}function xO(t,e,n){for(const r of n)r instanceof RM?(t.Vu.addReference(r.key,e),zK(t,r)):r instanceof PM?(pt(A_,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||LM(t,r.key)):Vt(19791,{wu:r})}function zK(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(pt(A_,"New document in limbo: "+n),t.Eu.add(r),S_(t))}function S_(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new jt(Pr.fromString(e)),r=t.fu.next();t.Au.set(r,new RK(n)),t.Ru=t.Ru.insert(n,r),EM(t.remoteStore,new Gu(Xo(l_(n.path)),r,"TargetPurposeLimboResolution",ty.ce))}}async function am(t,e,n){const r=Xt(t),i=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,y)=>{c.push(r.pu(y,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const w=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(g){i.push(g);const w=g_.Es(y.targetId,g);a.push(w)}})))})),await Promise.all(c),r.Pu.J_(i),await(async function(y,g){const w=Xt(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$e.forEach(g,(I=>$e.forEach(I.Ts,(R=>w.persistence.referenceDelegate.addReference(A,I.targetId,R))).next((()=>$e.forEach(I.Is,(R=>w.persistence.referenceDelegate.removeReference(A,I.targetId,R)))))))))}catch(A){if(!Hd(A))throw A;pt(p_,"Failed to update sequence numbers: "+A)}for(const A of g){const I=A.targetId;if(!A.fromCache){const R=w.vs.get(I),j=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(j);w.vs=w.vs.insert(I,k)}}})(r.localStore,a))}async function qK(t,e){const n=Xt(t);if(!n.currentUser.isEqual(e)){pt(A_,"User change. New user:",e.toKey());const r=await vM(n.localStore,e);n.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((y=>{y.reject(new Ct(Qe.CANCELLED,c))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await am(n,r.Ns)}}function HK(t,e){const n=Xt(t),r=n.Au.get(e);if(r&&r.hu)return Nn().add(r.key);{let i=Nn();const a=n.Iu.get(e);if(!a)return i;for(const c of a){const h=n.Tu.get(c);i=i.unionWith(h.view.nu)}return i}}function BM(t){const e=Xt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FK.bind(null,e),e.Pu.J_=TK.bind(null,e.eventManager),e.Pu.yu=IK.bind(null,e.eventManager),e}function GK(t){const e=Xt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VK.bind(null,e),e}class Hp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return YW(this.persistence,new GW,e.initialUser,this.serializer)}Cu(e){return new yM(m_.Vi,this.serializer)}Du(e){return new tK}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hp.provider={build:()=>new Hp};class WK extends Hp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Jn(this.persistence.referenceDelegate instanceof zp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NW(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gs.withCacheSize(this.cacheSizeBytes):gs.DEFAULT;return new yM((r=>zp.Vi(r,n)),this.serializer)}}class C2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qK.bind(null,this.syncEngine),await AK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CK})()}createDatastore(e){const n=cy(e.databaseInfo.databaseId),r=sK(e.databaseInfo);return fK(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,c,h){return new hK(r,i,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>vO(this.syncEngine,n,0)),(function(){return dO.v()?new dO:new nK})())}createSyncEngine(e,n){return(function(i,a,c,h,y,g,w){const A=new PK(i,a,c,h,y,g);return w&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Xt(n);pt(ef,"RemoteStore shutting down."),r.Ea.add(5),await im(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}C2.provider={build:()=>new C2};class FM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Kl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const lc="FirestoreClient";class KK{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Fa.UNAUTHENTICATED,this.clientId=t_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{pt(lc,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(pt(lc,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ul;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=E_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function gb(t,e){t.asyncQueue.verifyOperationInProgress(),pt(lc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await vM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function bO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YK(t);pt(lc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>mO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>mO(e.remoteStore,i))),t._onlineComponents=e}async function YK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pt(lc,"Using user provided OfflineComponentProvider");try{await gb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Qe.FAILED_PRECONDITION||i.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Qc("Error using user provided cache. Falling back to memory cache: "+n),await gb(t,new Hp)}}else pt(lc,"Using default OfflineComponentProvider"),await gb(t,new WK(void 0));return t._offlineComponents}async function UM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pt(lc,"Using user provided OnlineComponentProvider"),await bO(t,t._uninitializedComponentsProvider._online)):(pt(lc,"Using default OnlineComponentProvider"),await bO(t,new C2))),t._onlineComponents}function $K(t){return UM(t).then((e=>e.syncEngine))}async function VM(t){const e=await UM(t),n=e.eventManager;return n.onListen=DK.bind(null,e.syncEngine),n.onUnlisten=jK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LK.bind(null,e.syncEngine),n}function XK(t,e,n={}){const r=new Ul;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,y,g){const w=new FM({next:I=>{w.Nu(),c.enqueueAndForget((()=>OM(a,A)));const R=I.docs.has(h);!R&&I.fromCache?g.reject(new Ct(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&I.fromCache&&y&&y.source==="server"?g.reject(new Ct(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),A=new NM(l_(h.path),w,{includeMetadataChanges:!0,Ka:!0});return IM(a,A)})(await VM(t),t.asyncQueue,e,n,r))),r.promise}function ZK(t,e,n={}){const r=new Ul;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,y,g){const w=new FM({next:I=>{w.Nu(),c.enqueueAndForget((()=>OM(a,A))),I.fromCache&&y.source==="server"?g.reject(new Ct(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),A=new NM(h,w,{includeMetadataChanges:!0,Ka:!0});return IM(a,A)})(await VM(t),t.asyncQueue,e,n,r))),r.promise}function QK(t,e){const n=new Ul;return t.asyncQueue.enqueueAndForget((async()=>BK(await $K(t),e,n))),n.promise}function zM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const JK="ComponentProvider",wO=new Map;function eY(t,e,n,r,i){return new bG(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,zM(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const qM="firestore.googleapis.com",EO=!0;class _O{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ct(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qM,this.ssl=EO}else this.host=e.host,this.ssl=e.ssl??EO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IW)throw new Ct(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ct(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ct(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ct(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _O({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ct(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _O(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new JH;switch(r.type){case"firstParty":return new rG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=wO.get(n);r&&(pt(JK,"Removing Datastore"),wO.delete(n),r.terminate())})(this),Promise.resolve()}}function tY(t,e,n,r={}){t=Jc(t,hy);const i=Fd(e),a=t._getSettings(),c={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;i&&(P6(`https://${h}`),D6("Firestore",!0)),a.host!==qM&&a.host!==h&&Qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...a,host:h,ssl:i,emulatorOptions:r};if(!Kc(y,c)&&(t._setSettings(y),r.mockUserToken)){let g,w;if(typeof r.mockUserToken=="string")g=r.mockUserToken,w=Fa.MOCK_USER;else{g=lV(r.mockUserToken,t._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new Ct(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Fa(A)}t._authCredentials=new eG(new T8(g,w))}}class my{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new my(this.firestore,e,this._query)}}class Li{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Li(this.firestore,e,this._key)}toJSON(){return{type:Li._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(tm(n,Li._jsonSchema))return new Li(e,r||null,new jt(Pr.fromString(n.referencePath)))}}Li._jsonSchemaVersion="firestore/documentReference/1.0",Li._jsonSchema={type:Ii("string",Li._jsonSchemaVersion),referencePath:Ii("string")};class Ju extends my{constructor(e,n,r){super(e,n,l_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Li(this.firestore,null,new jt(e))}withConverter(e){return new Ju(this.firestore,e,this._path)}}function pb(t,e,...n){if(t=vs(t),I8("collection","path",e),t instanceof hy){const r=Pr.fromString(e,...n);return L3(r),new Ju(t,null,r)}{if(!(t instanceof Li||t instanceof Ju))throw new Ct(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pr.fromString(e,...n));return L3(r),new Ju(t.firestore,null,r)}}function sm(t,e,...n){if(t=vs(t),arguments.length===1&&(e=t_.newId()),I8("doc","path",e),t instanceof hy){const r=Pr.fromString(e,...n);return j3(r),new Li(t,null,new jt(r))}{if(!(t instanceof Li||t instanceof Ju))throw new Ct(Qe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pr.fromString(e,...n));return j3(r),new Li(t.firestore,t instanceof Ju?t.converter:null,new jt(r))}}const AO="AsyncQueue";class SO{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bM(this,"async_queue_retry"),this._c=()=>{const r=mb();r&&pt(AO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=mb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ul;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Hd(e))throw e;pt(AO,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Kl("INTERNAL UNHANDLED ERROR: ",CO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=w_.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Vt(47125,{Pc:CO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function CO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class gy extends hy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new SO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SO(e),this._firestoreClient=void 0,await e}}}function nY(t,e){const n=typeof t=="object"?t:L6(),r=typeof t=="string"?t:kp,i=GE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=sV("firestore");a&&tY(i,...a)}return i}function C_(t){if(t._terminated)throw new Ct(Qe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rY(t),t._firestoreClient}function rY(t){const e=t._freezeSettings(),n=eY(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new KK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}class Js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Js(Ea.fromBase64String(e))}catch(n){throw new Ct(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Js(Ea.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Js._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tm(e,Js._jsonSchema))return Js.fromBase64String(e.bytes)}}Js._jsonSchemaVersion="firestore/bytes/1.0",Js._jsonSchema={type:Ii("string",Js._jsonSchemaVersion),bytes:Ii("string")};class HM{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ct(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class GM{constructor(e){this._methodName=e}}class Qo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ct(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ct(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return On(this._lat,e._lat)||On(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qo._jsonSchemaVersion}}static fromJSON(e){if(tm(e,Qo._jsonSchema))return new Qo(e.latitude,e.longitude)}}Qo._jsonSchemaVersion="firestore/geoPoint/1.0",Qo._jsonSchema={type:Ii("string",Qo._jsonSchemaVersion),latitude:Ii("number"),longitude:Ii("number")};class wo{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tm(e,wo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new wo(e.vectorValues);throw new Ct(Qe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wo._jsonSchemaVersion="firestore/vectorValue/1.0",wo._jsonSchema={type:Ii("string",wo._jsonSchemaVersion),vectorValues:Ii("object")};const iY=/^__.*__$/;class aY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vf(e,this.data,this.fieldMask,n,this.fieldTransforms):new nm(e,this.data,n,this.fieldTransforms)}}function WM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt(40011,{dataSource:t})}}class T_{constructor(e,n,r,i,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new T_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Gp(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(WM(this.dataSource)&&iY.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class sY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cy(e)}createContext(e,n,r,i=!1){return new T_({dataSource:e,methodName:n,targetDoc:r,path:wa.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oY(t){const e=t._freezeSettings(),n=cy(t._databaseId);return new sY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lY(t,e,n,r,i,a={}){const c=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);XM("Data must be an object, but it was:",c,r);const h=YM(r,c);let y,g;if(a.merge)y=new bo(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const A of a.mergeFields){const I=I_(e,A,n);if(!c.contains(I))throw new Ct(Qe.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);fY(w,I)||w.push(I)}y=new bo(w),g=c.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,g=c.fieldTransforms;return new aY(new Qs(h),y,g)}function KM(t,e){if($M(t=vs(t)))return XM("Unsupported field value:",e,t),YM(t,e);if(t instanceof GM)return(function(r,i){if(!WM(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const a=[];let c=0;for(const h of r){let y=KM(h,i.childContextForArray(c));y==null&&(y={nullValue:"NULL_VALUE"}),a.push(y),c++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=vs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Dr.fromDate(r);return{timestampValue:Vp(i.serializer,a)}}if(r instanceof Dr){const a=new Dr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vp(i.serializer,a)}}if(r instanceof Qo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Js)return{bytesValue:lM(i.serializer,r._byteString)};if(r instanceof Li){const a=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw i.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:d_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wo)return(function(c,h){const y=c instanceof wo?c.toArray():c;return{mapValue:{fields:{[L8]:{stringValue:B8},[jp]:{arrayValue:{values:y.map((w=>{if(typeof w!="number")throw h.createError("VectorValues must only contain numeric values.");return u_(h.serializer,w)}))}}}}}})(r,i);if(gM(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${n_(r)}`)})(t,e)}function YM(t,e){const n={};return R8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pf(t,((r,i)=>{const a=KM(i,e.childContextForField(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function $M(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dr||t instanceof Qo||t instanceof Js||t instanceof Li||t instanceof GM||t instanceof wo||gM(t))}function XM(t,e,n){if(!$M(n)||!O8(n)){const r=n_(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function I_(t,e,n){if((e=vs(e))instanceof HM)return e._internalPath;if(typeof e=="string")return cY(t,e);throw Gp("Field path arguments must be of type string or ",t,!1,void 0,n)}const uY=new RegExp("[~\\*/\\[\\]]");function cY(t,e,n){if(e.search(uY)>=0)throw Gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new HM(...e.split("."))._internalPath}catch{throw Gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gp(t,e,n,r,i){const a=r&&!r.isEmpty(),c=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let y="";return(a||c)&&(y+=" (found",a&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Ct(Qe.INVALID_ARGUMENT,h+t+y)}function fY(t,e){return t.some((n=>n.isEqual(e)))}class dY{convertValue(e,n="none"){switch(sc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ac(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Vt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pf(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[jp].arrayValue?.values?.map((r=>gi(r.doubleValue)));return new wo(n)}convertGeoPoint(e){return new Qo(gi(e.latitude),gi(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ry(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(A0(e));default:return null}}convertTimestamp(e){const n=ic(e);return new Dr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pr.fromString(e);Jn(mM(r),9688,{name:e});const i=new S0(r.get(1),r.get(3)),a=new jt(r.popFirst(5));return i.isEqual(n)||Kl(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}class ZM extends dY{constructor(e){super(),this.firestore=e}convertBytes(e){return new Js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,n)}}const TO="@firebase/firestore",IO="4.11.0";class QM{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(I_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hY extends QM{data(){return super.data()}}function mY(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ct(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function gY(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class t0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qc extends QM{constructor(e,n,r,i,a,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(I_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(Qe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=qc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qc._jsonSchemaVersion="firestore/documentSnapshot/1.0",qc._jsonSchema={type:Ii("string",qc._jsonSchemaVersion),bundleSource:Ii("string","DocumentSnapshot"),bundleName:Ii("string"),bundle:Ii("string")};class mp extends qc{data(e={}){return super.data(e)}}class pd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new t0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new mp(this._firestore,this._userDataWriter,r.key,r,new t0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ct(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((h=>{const y=new mp(i._firestore,i._userDataWriter,h.doc.key,h.doc,new t0(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:y,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const y=new mp(i._firestore,i._userDataWriter,h.doc.key,h.doc,new t0(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,w=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),w=c.indexOf(h.doc.key)),{type:pY(h.type),doc:y,oldIndex:g,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(Qe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=t_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt(61501,{type:t})}}pd._jsonSchemaVersion="firestore/querySnapshot/1.0",pd._jsonSchema={type:Ii("string",pd._jsonSchemaVersion),bundleSource:Ii("string","QuerySnapshot"),bundleName:Ii("string"),bundle:Ii("string")};function yY(t){t=Jc(t,Li);const e=Jc(t.firestore,gy),n=C_(e);return XK(n,t._key).then((r=>xY(e,t,r)))}function yb(t){t=Jc(t,my);const e=Jc(t.firestore,gy),n=C_(e),r=new ZM(e);return mY(t._query),ZK(n,t._query).then((i=>new pd(e,r,t,i)))}function py(t,e,n){t=Jc(t,Li);const r=Jc(t.firestore,gy),i=gY(t.converter,e),a=oY(r);return vY(r,[lY(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vl.none())])}function vY(t,e){const n=C_(t);return QK(n,e)}function xY(t,e,n){const r=n.docs.get(e._key),i=new ZM(t);return new qc(t,i,e._key,r,new t0(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){QH(Ud),wd(new Yc("firestore",((r,{instanceIdentifier:i,options:a})=>{const c=r.getProvider("app").getImmediate(),h=new gy(new tG(r.getProvider("auth-internal")),new iG(c,r.getProvider("app-check-internal")),wG(c,i),c);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Zu(TO,IO,e),Zu(TO,IO,"esm2020")})();const bY={apiKey:"AIzaSyCZZ2ywKsEe2ha3LyA-W_LWmFp1v8uqGv0",authDomain:"bodybalance-39bd5.firebaseapp.com",projectId:"bodybalance-39bd5",storageBucket:"bodybalance-39bd5.firebasestorage.app",messagingSenderId:"494273576542",appId:"1:494273576542:web:341c8966ffad7a9a213ecf"},JM=j6(bY),Wu=XH(JM),Ku=nY(JM);function Wp(t){return t?t instanceof Date?t.toISOString():t:null}function Lg(t){return t?new Date(t):new Date}async function T2(t,e){try{const n=sm(Ku,"users",t,"profile","data"),{id:r,anthropicApiKey:i,anthropicApiUrl:a,...c}=e;await py(n,{...c,createdAt:Wp(e.createdAt),updatedAt:Wp(e.updatedAt||new Date)})}catch(n){console.warn("[Sync] Push profile failed:",n)}}async function ek(t,e){try{const n=await at.dailyLogs.where("date").equals(e).first();if(!n)return;const r=n.id?await at.mealEntries.where("dailyLogId").equals(n.id).toArray():[],i=sm(Ku,"users",t,"days",e);await py(i,{date:n.date,totalPointsUsed:n.totalPointsUsed,weeklyPointsUsed:n.weeklyPointsUsed,waterMl:n.waterMl??0,meals:r.map(a=>({foodItem:{name:a.foodItem.name,brand:a.foodItem.brand||"",barcode:a.foodItem.barcode||"",nutrition:a.foodItem.nutrition,pointsPer100g:a.foodItem.pointsPer100g,servingSizeG:a.foodItem.servingSizeG,unit:a.foodItem.unit||"g",isZeroPoint:a.foodItem.isZeroPoint,source:a.foodItem.source},mealType:a.mealType,quantityG:a.quantityG,quantity:a.quantity??1,points:a.points,loggedAt:Wp(a.loggedAt)})),updatedAt:new Date().toISOString()})}catch(n){console.warn("[Sync] Push day failed:",n)}}async function tk(t,e){try{const n=sm(Ku,"users",t,"weight",e.date);await py(n,{date:e.date,weightKg:e.weightKg,note:e.note||"",updatedAt:new Date().toISOString()})}catch(n){console.warn("[Sync] Push weight failed:",n)}}async function nk(t,e){try{if(e.source!=="user"||!e.id)return;const n=sm(Ku,"users",t,"foods",String(e.id));await py(n,{name:e.name,brand:e.brand||"",barcode:e.barcode||"",nutrition:e.nutrition,pointsPer100g:e.pointsPer100g,servingSizeG:e.servingSizeG,unit:e.unit||"g",isZeroPoint:e.isZeroPoint,isFavorite:e.isFavorite||!1,source:e.source,createdAt:Wp(e.createdAt),updatedAt:new Date().toISOString()})}catch(n){console.warn("[Sync] Push food failed:",n)}}async function wY(t){try{let e=!1;const n=sm(Ku,"users",t,"profile","data"),r=await yY(n);if(r.exists()){const h=r.data(),g=(await at.userProfiles.toArray())[0],w=h.updatedAt?new Date(h.updatedAt).getTime():0,A=g?.updatedAt?new Date(g.updatedAt).getTime():0;if(w>A){const I={name:h.name,gender:h.gender,dateOfBirth:h.dateOfBirth,heightCm:h.heightCm,currentWeightKg:h.currentWeightKg,goalWeightKg:h.goalWeightKg,activityLevel:h.activityLevel,goal:h.goal,dailyPointsBudget:h.dailyPointsBudget,weeklyPointsBudget:h.weeklyPointsBudget,waterGoalMl:h.waterGoalMl,onboardingComplete:h.onboardingComplete,createdAt:Lg(h.createdAt),updatedAt:Lg(h.updatedAt)};g?.id?await at.userProfiles.update(g.id,I):await at.userProfiles.add(I),e=!0}}const i=await yb(pb(Ku,"users",t,"days"));for(const h of i.docs){const y=h.data(),g=h.id,w=await at.dailyLogs.where("date").equals(g).first(),A=y.updatedAt?new Date(y.updatedAt).getTime():0,I=!w||A>w._syncedAt||0;if(I&&y.meals?.length>0){let R;if(w?.id){await at.dailyLogs.update(w.id,{totalPointsUsed:y.totalPointsUsed,weeklyPointsUsed:y.weeklyPointsUsed,waterMl:y.waterMl??0}),R=w.id;const j=await at.mealEntries.where("dailyLogId").equals(R).toArray();for(const k of j)k.id&&await at.mealEntries.delete(k.id)}else R=await at.dailyLogs.add({date:g,totalPointsUsed:y.totalPointsUsed,weeklyPointsUsed:y.weeklyPointsUsed,waterMl:y.waterMl??0});for(const j of y.meals)await at.mealEntries.add({dailyLogId:R,foodItem:{name:j.foodItem.name,brand:j.foodItem.brand,barcode:j.foodItem.barcode,nutrition:j.foodItem.nutrition,pointsPer100g:j.foodItem.pointsPer100g,servingSizeG:j.foodItem.servingSizeG,unit:j.foodItem.unit||"g",isZeroPoint:j.foodItem.isZeroPoint,source:j.foodItem.source,createdAt:new Date},mealType:j.mealType,quantityG:j.quantityG,quantity:j.quantity??1,points:j.points,loggedAt:Lg(j.loggedAt)});e=!0}else I&&w&&!y.meals?.length&&await at.dailyLogs.update(w.id,{waterMl:y.waterMl??w.waterMl??0})}const a=await yb(pb(Ku,"users",t,"weight"));for(const h of a.docs){const y=h.data(),g=h.id;await at.weightEntries.where("date").equals(g).first()||(await at.weightEntries.add({date:g,weightKg:y.weightKg,note:y.note||""}),e=!0)}const c=await yb(pb(Ku,"users",t,"foods"));for(const h of c.docs){const y=h.data();await at.foodItems.where("name").equalsIgnoreCase(y.name).first()||(await at.foodItems.add({name:y.name,brand:y.brand,barcode:y.barcode,nutrition:y.nutrition,pointsPer100g:y.pointsPer100g,servingSizeG:y.servingSizeG,unit:y.unit||"g",isZeroPoint:y.isZeroPoint,isFavorite:y.isFavorite||!1,source:"user",createdAt:Lg(y.createdAt)}),e=!0)}return console.log(`[Sync] Pull complete. Changes: ${e}`),e}catch(e){return console.warn("[Sync] Pull failed:",e),!1}}async function rk(t){try{const e=await at.userProfiles.toArray();e[0]&&await T2(t,e[0]);const n=await at.dailyLogs.toArray(),r=await at.weightEntries.toArray(),i=await at.foodItems.where("source").equals("user").toArray(),a=async(c,h)=>{for(let y=0;y<c.length;y+=5)await Promise.all(c.slice(y,y+5).map(h))};await Promise.all([a(n,c=>ek(t,c.date)),a(r,c=>tk(t,c)),a(i,c=>nk(t,c))]),console.log("[Sync] Push all complete.")}catch(e){console.warn("[Sync] Push all failed:",e)}}function ik(){return Wu.currentUser?.uid??null}function om(t){const e=ik();e&&ek(e,t).catch(()=>{})}function EY(t){const e=ik();e&&nk(e,t).catch(()=>{})}class _Y extends Sp{userProfiles;foodItems;mealEntries;dailyLogs;weightEntries;constructor(){super("BodyBalanceDB"),this.version(1).stores({userProfiles:"++id, name",foodItems:"++id, name, barcode, source",mealEntries:"++id, dailyLogId, mealType, loggedAt",dailyLogs:"++id, &date",weightEntries:"++id, &date"}),this.version(2).stores({foodItems:"++id, name, barcode, source, isFavorite"})}}const at=new _Y;async function ak(t){let e=await at.dailyLogs.where("date").equals(t).first();if(!e){const n=await at.dailyLogs.add({date:t,totalPointsUsed:0,weeklyPointsUsed:0});e=await at.dailyLogs.get(n)}return e}async function sk(t){const e=await at.dailyLogs.where("date").equals(t).first();return e?.id?at.mealEntries.where("dailyLogId").equals(e.id).toArray():[]}async function ok(t,e){const n=await ak(t);await at.mealEntries.add({...e,dailyLogId:n.id,loggedAt:new Date});const i=(await at.mealEntries.where("dailyLogId").equals(n.id).toArray()).reduce((a,c)=>a+c.points,0);await at.dailyLogs.update(n.id,{totalPointsUsed:i}),om(t)}async function AY(t,e){const n=await at.mealEntries.get(t);if(n&&(await at.mealEntries.update(t,e),n.dailyLogId)){const i=(await at.mealEntries.where("dailyLogId").equals(n.dailyLogId).toArray()).reduce((c,h)=>c+(h.id===t?e.points:h.points),0);await at.dailyLogs.update(n.dailyLogId,{totalPointsUsed:i});const a=await at.dailyLogs.get(n.dailyLogId);a&&om(a.date)}}async function SY(t){const e=await at.mealEntries.get(t);if(e&&(await at.mealEntries.delete(t),e.dailyLogId)){const r=(await at.mealEntries.where("dailyLogId").equals(e.dailyLogId).toArray()).reduce((a,c)=>a+c.points,0);await at.dailyLogs.update(e.dailyLogId,{totalPointsUsed:r});const i=await at.dailyLogs.get(e.dailyLogId);i&&om(i.date)}}async function OO(t=15){const e=await at.mealEntries.orderBy("loggedAt").reverse().toArray(),n=new Set,r=[];for(const i of e){const a=i.foodItem.name.toLowerCase();if(!n.has(a)){n.add(a);const c=await at.foodItems.where("name").equalsIgnoreCase(i.foodItem.name).first();if(r.push({...i.foodItem,isFavorite:c?.isFavorite??!1,id:c?.id??i.foodItem.id}),r.length>=t)break}}return r}async function NO(){return at.foodItems.filter(t=>!!t.isFavorite).toArray()}async function CY(t){let e;if(t.id&&(e=await at.foodItems.get(t.id)),e||(e=await at.foodItems.where("name").equalsIgnoreCase(t.name).first()),e?.id){const n=!e.isFavorite;return await at.foodItems.update(e.id,{isFavorite:n}),n}else return await at.foodItems.add({...t,id:void 0,isFavorite:!0,createdAt:new Date}),!0}async function O_(t){const e=await at.foodItems.add({...t,createdAt:new Date}),n=await at.foodItems.get(e);return EY(n),n}async function TY(t,e){const n=new Date(t),r=n.getDay(),i=r===0?-6:1-r,a=new Date(n);a.setDate(n.getDate()+i);let c=0;for(let h=0;h<7;h++){const y=new Date(a);y.setDate(a.getDate()+h);const g=y.toISOString().split("T")[0];if(g>t)break;const w=await at.dailyLogs.where("date").equals(g).first();w&&w.totalPointsUsed>e&&(c+=w.totalPointsUsed-e)}return c}async function IY(t){return(await at.dailyLogs.where("date").equals(t).first())?.waterMl??0}async function OY(t,e){const n=await ak(t),r=(n.waterMl??0)+e;return await at.dailyLogs.update(n.id,{waterMl:r}),om(t),r}async function NY(t){const e=await at.dailyLogs.where("date").equals(t).first();e?.id&&(await at.dailyLogs.update(e.id,{waterMl:0}),om(t))}async function RY(t,e){const n=await sk(t);if(n.length===0)return 0;for(const r of n)await ok(e,{foodItem:r.foodItem,mealType:r.mealType,quantityG:r.quantityG,quantity:r.quantity,points:r.points});return n.length}async function PY(t,e,n){const r=new Date,i=r.getDay(),a=i===0?-6:1-i,c=new Date(r);c.setDate(r.getDate()+a);const h=new Date(c);h.setDate(c.getDate()+6);const y=r.toISOString().split("T")[0];let g=0,w=0,A=0,I=0,R=0,j=null,k=1/0,L=0;const G=["zo","ma","di","wo","do","vr","za"];for(let H=0;H<7;H++){const ae=new Date(c);ae.setDate(c.getDate()+H);const ie=ae.toISOString().split("T")[0];if(ie>y)break;const Z=await at.dailyLogs.where("date").equals(ie).first();if(Z){const J=Z.totalPointsUsed;g+=J,w++,J<=t&&A++,J>t&&(L+=J-t),J<k&&(k=J,j=G[ae.getDay()]),(Z.waterMl??0)>0&&R++,(Z.waterMl??0)>=n&&I++}}if(w===0)return null;const K=c.toISOString().split("T")[0],W=await at.weightEntries.where("date").aboveOrEqual(K).and(H=>H.date<=y).first(),ne=await at.weightEntries.where("date").belowOrEqual(y).and(H=>H.date>=K).reverse().first(),fe=W&&ne&&W.date!==ne.date?ne.weightKg-W.weightKg:null,Q=["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"];return{weekLabel:`Week ${DY(c)}  ${c.getDate()}-${h.getDate()} ${Q[h.getMonth()]}`,avgPoints:Math.round(g/w),dailyBudget:t,daysWithinBudget:A,totalDays:w,waterDaysOnTarget:I,waterTotalDays:R,weightChange:fe,bestDay:j,bestDayPoints:k===1/0?0:k,weeklyPointsUsed:L,weeklyPointsBudget:e}}function DY(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-n.getTime())/864e5+1)/7)}async function MY(t){let e=0;const n=new Date;for(let r=1;r<=365;r++){const i=new Date(n);i.setDate(n.getDate()-r);const a=i.toISOString().split("T")[0],c=await at.dailyLogs.where("date").equals(a).first();if(!c||c.totalPointsUsed===0||c.totalPointsUsed>t)break;e++}return e}const tf=zE((t,e)=>({profile:null,isLoading:!0,loadProfile:async()=>{t({isLoading:!0});const r=(await at.userProfiles.toArray())[0]||null;t({profile:r,isLoading:!1})},saveProfile:async n=>{const r=e().profile,i=new Date;if(r?.id){await at.userProfiles.update(r.id,{...n,updatedAt:i});const a={...r,...n,updatedAt:i};t({profile:a});const c=Wu.currentUser?.uid;c&&T2(c,a).catch(()=>{})}else{const a=await at.userProfiles.add({...n,createdAt:i,updatedAt:i}),c=await at.userProfiles.get(a);t({profile:c||null});const h=Wu.currentUser?.uid;h&&c&&T2(h,c).catch(()=>{})}},updateWeight:async n=>{const r=e().profile;r?.id&&(await at.userProfiles.update(r.id,{currentWeightKg:n,updatedAt:new Date}),t({profile:{...r,currentWeightKg:n,updatedAt:new Date}}))}})),O0=zE(t=>(Bq(Wu,e=>{t({user:e,isAuthLoading:!1})}),{user:null,isAuthLoading:!0,error:null,login:async(e,n)=>{t({error:null});try{await kq(Wu,e,n)}catch(r){t({error:{"auth/invalid-credential":"Onjuist e-mailadres of wachtwoord","auth/invalid-email":"Ongeldig e-mailadres","auth/user-disabled":"Dit account is uitgeschakeld","auth/user-not-found":"Geen account gevonden met dit e-mailadres","auth/wrong-password":"Onjuist wachtwoord","auth/too-many-requests":"Te veel pogingen. Probeer het later opnieuw","auth/network-request-failed":"Geen internetverbinding"}[r.code]||"Er ging iets mis. Probeer het opnieuw."})}},register:async(e,n)=>{t({error:null});try{await Mq(Wu,e,n)}catch(r){t({error:{"auth/email-already-in-use":"Er bestaat al een account met dit e-mailadres","auth/invalid-email":"Ongeldig e-mailadres","auth/weak-password":"Wachtwoord moet minimaal 6 tekens zijn","auth/network-request-failed":"Geen internetverbinding"}[r.code]||"Er ging iets mis. Probeer het opnieuw."})}},logout:async()=>{await Fq(Wu)},clearError:()=>t({error:null})}));const lk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const kY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const jY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const RO=t=>{const e=jY(t);return e.charAt(0).toUpperCase()+e.slice(1)};var LY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const FY=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:c,...h},y)=>D.createElement("svg",{ref:y,...LY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lk("lucide",i),...!a&&!BY(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,w])=>D.createElement(g,w)),...Array.isArray(a)?a:[a]]));const kt=(t,e)=>{const n=D.forwardRef(({className:r,...i},a)=>D.createElement(FY,{ref:a,iconNode:e,className:lk(`lucide-${kY(RO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=RO(t),n};const UY=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],VY=kt("bell-off",UY);const zY=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qY=kt("bell",zY);const HY=[["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M15 10H9",key:"o6yqo3"}],["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],GY=kt("bookmark-plus",HY);const WY=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],KY=kt("bookmark",WY);const YY=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],gp=kt("bot",YY);const $Y=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],XY=kt("camera",$Y);const ZY=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],QY=kt("chart-column",ZY);const JY=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],e$=kt("check",JY);const t$=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],n$=kt("chef-hat",t$);const r$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uk=kt("chevron-down",r$);const i$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],a$=kt("chevron-left",i$);const s$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],N_=kt("chevron-right",s$);const o$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],l$=kt("chevron-up",o$);const u$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kp=kt("circle-alert",u$);const c$=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ck=kt("clock",c$);const f$=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],d$=kt("coffee",f$);const h$=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],m$=kt("copy",h$);const g$=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],p$=kt("download",g$);const y$=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],h0=kt("droplets",y$);const v$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],x$=kt("eye-off",v$);const b$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w$=kt("eye",b$);const E$=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],_$=kt("flame",E$);const A$=[["path",{d:"M5.116 4.104A1 1 0 0 1 6.11 3h11.78a1 1 0 0 1 .994 1.105L17.19 20.21A2 2 0 0 1 15.2 22H8.8a2 2 0 0 1-2-1.79z",key:"p55z4y"}],["path",{d:"M6 12a5 5 0 0 1 6 0 5 5 0 0 0 6 0",key:"mjntcy"}]],S$=kt("glass-water",A$);const C$=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],R_=kt("heart",C$);const T$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],I$=kt("house",T$);const O$=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],PO=kt("image-plus",O$);const N$=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],R$=kt("key",N$);const P$=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],D$=kt("leaf",P$);const M$=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ec=kt("loader-circle",M$);const k$=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],DO=kt("lock",k$);const j$=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fk=kt("log-out",j$);const L$=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],B$=kt("mail",L$);const F$=[["path",{d:"M5 12h14",key:"1ays0h"}]],dk=kt("minus",F$);const U$=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],V$=kt("monitor",U$);const z$=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],q$=kt("moon",z$);const H$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yp=kt("plus",H$);const G$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],W$=kt("refresh-cw",G$);const K$=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Y$=kt("rotate-ccw",K$);const $$=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],P_=kt("scale",$$);const X$=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]],$p=kt("scan-barcode",X$);const Z$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],N0=kt("search",Z$);const Q$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],J$=kt("send",Q$);const eX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],tX=kt("shield-alert",eX);const nX=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rX=kt("sparkles",nX);const iX=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],aX=kt("sun",iX);const sX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],hk=kt("target",sX);const oX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lX=kt("trash-2",oX);const uX=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],mk=kt("trending-down",uX);const cX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fX=kt("trending-up",cX);const dX=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],hX=kt("trophy",dX);const mX=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],gX=kt("upload",mX);const pX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gk=kt("user",pX);const yX=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vX=kt("wifi-off",yX);const xX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Td=kt("x",xX),bX=[{path:"/",icon:I$,label:"Home"},{path:"/search",icon:N0,label:"Zoeken"},{path:"/scan",icon:$p,label:"Scan"},{path:"/statistics",icon:QY,label:"Stats"},{path:"/profile",icon:gk,label:"Profiel"}];function wX(){const t=ol(),e=mf();return P.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-xl border-t border-ios-separator z-50",style:{paddingBottom:"var(--safe-area-bottom)"},children:P.jsx("div",{className:"flex justify-around items-center h-[50px] max-w-lg mx-auto",children:bX.map(({path:n,icon:r,label:i})=>{const a=t.pathname===n;return P.jsxs("button",{onClick:()=>e(n),className:`flex flex-col items-center justify-center gap-0.5 w-full h-full border-none bg-transparent cursor-pointer transition-colors ${a?"text-primary":"text-ios-secondary"}`,children:[P.jsx(r,{size:24,strokeWidth:a?2.2:1.5}),P.jsx("span",{className:"text-[10px] font-medium",children:i})]},n)})})})}const EX={primary:"bg-primary text-white active:bg-primary-dark",secondary:"bg-ios-bg text-primary active:bg-gray-200",destructive:"bg-ios-destructive text-white active:bg-red-700",ghost:"bg-transparent text-primary active:bg-gray-100"},_X={sm:"px-4 py-2 text-[14px]",md:"px-5 py-3 text-[17px]",lg:"px-6 py-4 text-[17px]"};function eo({variant:t="primary",size:e="md",children:n,fullWidth:r=!1,className:i="",disabled:a,...c}){return P.jsx("button",{className:`
        rounded-xl font-semibold border-none cursor-pointer
        transition-all duration-150 select-none
        ${EX[t]}
        ${_X[e]}
        ${r?"w-full":""}
        ${a?"opacity-40 pointer-events-none":""}
        ${i}
      `,disabled:a,...c,children:n})}function AX(){const{login:t,register:e,error:n,clearError:r,isAuthLoading:i}=O0(),[a,c]=D.useState("login"),[h,y]=D.useState(""),[g,w]=D.useState(""),[A,I]=D.useState(""),[R,j]=D.useState(!1),[k,L]=D.useState(!1),[G,K]=D.useState(""),W=Q=>{c(Q),r(),K(""),w(""),I("")},ne=async Q=>{if(Q.preventDefault(),K(""),!h.trim()||!g){K("Vul je e-mailadres en wachtwoord in");return}if(a==="register"){if(g.length<6){K("Wachtwoord moet minimaal 6 tekens zijn");return}if(g!==A){K("Wachtwoorden komen niet overeen");return}}L(!0),a==="login"?await t(h.trim(),g):await e(h.trim(),g),L(!1)},fe=G||n;return P.jsxs("div",{className:"flex flex-col h-full bg-ios-bg",style:{paddingTop:"var(--safe-area-top)"},children:[P.jsxs("div",{className:"flex flex-col items-center pt-16 pb-8 px-8",children:[P.jsx("div",{className:"w-20 h-20 rounded-[28px] bg-primary flex items-center justify-center mb-6 shadow-lg",children:P.jsx(P_,{size:40,color:"white"})}),P.jsx("h1",{className:"text-[34px] font-bold text-ios-text mb-1",children:"BodyBalance"}),P.jsx("p",{className:"text-[15px] text-ios-secondary text-center",children:a==="login"?"Log in om verder te gaan":"Maak een account aan"})]}),P.jsxs("form",{onSubmit:ne,className:"flex-1 px-6 flex flex-col gap-4",children:[P.jsxs("div",{className:"relative",children:[P.jsx(B$,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-ios-secondary"}),P.jsx("input",{type:"email",value:h,onChange:Q=>y(Q.target.value),placeholder:"E-mailadres",autoComplete:"email",className:"w-full bg-white rounded-xl py-3.5 pl-12 pr-4 text-[17px] text-ios-text border border-ios-separator placeholder:text-ios-secondary/50 outline-none focus:border-primary focus:ring-1 focus:ring-primary/20 transition-colors"})]}),P.jsxs("div",{className:"relative",children:[P.jsx(DO,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-ios-secondary"}),P.jsx("input",{type:R?"text":"password",value:g,onChange:Q=>w(Q.target.value),placeholder:"Wachtwoord",autoComplete:a==="login"?"current-password":"new-password",className:"w-full bg-white rounded-xl py-3.5 pl-12 pr-12 text-[17px] text-ios-text border border-ios-separator placeholder:text-ios-secondary/50 outline-none focus:border-primary focus:ring-1 focus:ring-primary/20 transition-colors"}),P.jsx("button",{type:"button",onClick:()=>j(!R),className:"absolute right-4 top-1/2 -translate-y-1/2 bg-transparent border-none cursor-pointer p-0",children:R?P.jsx(x$,{size:18,className:"text-ios-secondary"}):P.jsx(w$,{size:18,className:"text-ios-secondary"})})]}),a==="register"&&P.jsxs("div",{className:"relative",children:[P.jsx(DO,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-ios-secondary"}),P.jsx("input",{type:R?"text":"password",value:A,onChange:Q=>I(Q.target.value),placeholder:"Wachtwoord bevestigen",autoComplete:"new-password",className:"w-full bg-white rounded-xl py-3.5 pl-12 pr-4 text-[17px] text-ios-text border border-ios-separator placeholder:text-ios-secondary/50 outline-none focus:border-primary focus:ring-1 focus:ring-primary/20 transition-colors"})]}),fe&&P.jsx("div",{className:"bg-ios-destructive/10 text-ios-destructive text-[14px] rounded-xl px-4 py-3 text-center font-medium",children:fe}),P.jsx(eo,{type:"submit",fullWidth:!0,size:"lg",disabled:k||i,children:k?a==="login"?"Inloggen...":"Account aanmaken...":a==="login"?"Inloggen":"Account aanmaken"}),P.jsx("div",{className:"text-center pt-2",children:a==="login"?P.jsxs("p",{className:"text-[15px] text-ios-secondary",children:["Nog geen account?"," ",P.jsx("button",{type:"button",onClick:()=>W("register"),className:"text-primary font-semibold bg-transparent border-none cursor-pointer p-0",children:"Registreren"})]}):P.jsxs("p",{className:"text-[15px] text-ios-secondary",children:["Al een account?"," ",P.jsx("button",{type:"button",onClick:()=>W("login"),className:"text-primary font-semibold bg-transparent border-none cursor-pointer p-0",children:"Inloggen"})]})})]})]})}const SX={sedentary:1.2,light:1.375,moderate:1.55,active:1.725,veryActive:1.9};function CX(t,e,n,r){return r==="male"?10*t+6.25*e-5*n+5:10*t+6.25*e-5*n-161}function TX(t){const e=new Date(t),n=new Date;let r=n.getFullYear()-e.getFullYear();const i=n.getMonth()-e.getMonth();return(i<0||i===0&&n.getDate()<e.getDate())&&r--,r}function IX(t,e){return t*SX[e]}function pk(t,e,n,r,i,a){const c=TX(n),h=CX(t,e,c,r),y=IX(h,i);let g=y;a==="lose"&&(g=y-500),g=Math.max(g,r==="male"?1500:1200);const A=Math.max(23,Math.round(g/30)),I=Math.round(A*1.4);return{dailyPoints:A,weeklyPoints:I,bmr:Math.round(h),tdee:Math.round(y),targetCalories:Math.round(g)}}function yk({label:t,children:e}){return P.jsxs("div",{className:"flex flex-col gap-1.5",children:[P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide px-1",children:t}),e]})}function qu({label:t,suffix:e,...n}){return P.jsx(yk,{label:t,children:P.jsxs("div",{className:"relative",children:[P.jsx("input",{...n,className:"bg-white rounded-2xl border border-ios-separator px-4 py-3.5 text-[17px] w-full outline-none focus:border-primary focus:ring-2 focus:ring-primary/20"}),e&&P.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-ios-secondary text-[15px]",children:e})]})})}function yd({label:t,options:e,...n}){return P.jsx(yk,{label:t,children:P.jsxs("div",{className:"relative",children:[P.jsx("select",{...n,className:"bg-white rounded-2xl border border-ios-separator px-4 py-3.5 text-[17px] w-full outline-none appearance-none focus:border-primary focus:ring-2 focus:ring-primary/20",children:e.map(r=>P.jsx("option",{value:r.value,children:r.label},r.value))}),P.jsx("svg",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-ios-secondary pointer-events-none",width:"12",height:"12",viewBox:"0 0 12 12",children:P.jsx("path",{fill:"currentColor",d:"M6 8.825L1.175 4 2.238 2.938 6 6.7 9.763 2.937 10.825 4z"})})]})})}const I2={sedentary:"Zittend (weinig/geen beweging)",light:"Licht actief (1-3 dagen/week)",moderate:"Matig actief (3-5 dagen/week)",active:"Actief (6-7 dagen/week)",veryActive:"Zeer actief (zware training)"},O2={lose:"Afvallen",maintain:"Gewicht behouden"};function OX(){const t=mf(),e=tf(Q=>Q.saveProfile),[n,r]=D.useState("welcome"),[i,a]=D.useState(""),[c,h]=D.useState("male"),[y,g]=D.useState("1990-01-01"),[w,A]=D.useState(175),[I,R]=D.useState(80),[j,k]=D.useState(75),[L,G]=D.useState("light"),[K,W]=D.useState("lose"),ne=pk(I,w,y,c,L,K),fe=async()=>{await e({name:i,gender:c,dateOfBirth:y,heightCm:w,currentWeightKg:I,goalWeightKg:j,activityLevel:L,goal:K,dailyPointsBudget:ne.dailyPoints,weeklyPointsBudget:ne.weeklyPoints,onboardingComplete:!0}),t("/")};return n==="welcome"?P.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-8 animate-fade-in",children:[P.jsx("div",{className:"w-20 h-20 rounded-[28px] bg-primary flex items-center justify-center mb-6 shadow-lg",children:P.jsx(P_,{size:40,color:"white"})}),P.jsx("h1",{className:"text-[34px] font-bold text-ios-text mb-2",children:"BodyBalance"}),P.jsx("p",{className:"text-[17px] text-ios-secondary text-center mb-2 leading-relaxed",children:"Houd je voeding bij met een simpel puntensysteem"}),P.jsx("p",{className:"text-[15px] text-ios-secondary text-center mb-10 leading-relaxed",children:"Calorien worden omgezet in punten. Blijf binnen je dagbudget en bereik je streefgewicht."}),P.jsxs(eo,{fullWidth:!0,size:"lg",onClick:()=>r("profile"),children:["Aan de slag",P.jsx(N_,{size:20,className:"inline ml-1"})]}),P.jsxs("button",{onClick:()=>O0.getState().logout(),className:"mt-4 flex items-center justify-center gap-2 text-[15px] text-ios-secondary bg-transparent border-none cursor-pointer",children:[P.jsx(fk,{size:16}),"Uitloggen"]})]}):n==="profile"?P.jsxs("div",{className:"flex flex-col h-full animate-fade-in",children:[P.jsxs("div",{className:"px-6 pt-12 pb-4",style:{paddingTop:"calc(var(--safe-area-top) + 48px)"},children:[P.jsx("h2",{className:"text-[28px] font-bold text-ios-text mb-1",children:"Jouw profiel"}),P.jsx("p",{className:"text-[15px] text-ios-secondary",children:"We berekenen je dagelijkse puntenbudget"})]}),P.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-32",children:P.jsxs("div",{className:"flex flex-col gap-4",children:[P.jsx(qu,{label:"Naam",type:"text",placeholder:"Je naam",value:i,onChange:Q=>a(Q.currentTarget.value)}),P.jsx(yd,{label:"Geslacht",value:c,onChange:Q=>h(Q.currentTarget.value),options:[{value:"male",label:"Man"},{value:"female",label:"Vrouw"}]}),P.jsx(qu,{label:"Geboortedatum",type:"date",value:y,onChange:Q=>g(Q.currentTarget.value)}),P.jsx(qu,{label:"Lengte",type:"number",suffix:"cm",value:w,onChange:Q=>A(Number(Q.currentTarget.value)),min:100,max:250}),P.jsx(qu,{label:"Huidig gewicht",type:"number",suffix:"kg",value:I,onChange:Q=>R(Number(Q.currentTarget.value)),min:30,max:300}),P.jsx(qu,{label:"Streefgewicht",type:"number",suffix:"kg",value:j,onChange:Q=>k(Number(Q.currentTarget.value)),min:30,max:300}),P.jsx(yd,{label:"Activiteitsniveau",value:L,onChange:Q=>G(Q.currentTarget.value),options:Object.entries(I2).map(([Q,U])=>({value:Q,label:U}))}),P.jsx(yd,{label:"Doel",value:K,onChange:Q=>W(Q.currentTarget.value),options:Object.entries(O2).map(([Q,U])=>({value:Q,label:U}))})]})}),P.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-xl border-t border-ios-separator px-6 py-4",style:{paddingBottom:"calc(var(--safe-area-bottom) + 16px)"},children:P.jsx(eo,{fullWidth:!0,size:"lg",onClick:()=>r("result"),disabled:!i,children:"Bereken mijn budget"})})]}):P.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-8 animate-fade-in",children:[P.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:P.jsx(rX,{size:32,className:"text-primary"})}),P.jsxs("h2",{className:"text-[28px] font-bold text-ios-text mb-2",children:["Hoi ",i,"!"]}),P.jsx("p",{className:"text-[15px] text-ios-secondary text-center mb-8",children:"Je persoonlijke puntenbudget is berekend"}),P.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 w-full mb-6",children:[P.jsxs("div",{className:"text-center mb-6",children:[P.jsx("div",{className:"text-[64px] font-bold text-primary leading-none",children:ne.dailyPoints}),P.jsx("div",{className:"text-[15px] text-ios-secondary mt-1",children:"punten per dag"})]}),P.jsxs("div",{className:"flex justify-around py-4 border-t border-ios-separator",children:[P.jsxs("div",{className:"text-center",children:[P.jsxs("div",{className:"flex items-center gap-1 justify-center mb-1",children:[P.jsx(hk,{size:14,className:"text-ios-blue"}),P.jsx("span",{className:"text-[13px] text-ios-secondary",children:"Weekpunten"})]}),P.jsx("span",{className:"text-[20px] font-bold",children:ne.weeklyPoints})]}),P.jsxs("div",{className:"text-center",children:[P.jsx("div",{className:"text-[13px] text-ios-secondary mb-1",children:"Calorien/dag"}),P.jsxs("span",{className:"text-[20px] font-bold",children:["~",ne.targetCalories]})]})]})]}),P.jsxs("p",{className:"text-[13px] text-ios-secondary text-center mb-8 leading-relaxed",children:["Je dagelijks budget van ",P.jsxs("strong",{children:[ne.dailyPoints," punten"]})," is gebaseerd op je profiel. Daarnaast heb je ",P.jsxs("strong",{children:[ne.weeklyPoints," weekpunten"]})," voor extra flexibiliteit."]}),P.jsx(eo,{fullWidth:!0,size:"lg",onClick:fe,children:"Start met tracken"})]})}const vk=6048e5,NX=864e5,MO=Symbol.for("constructDateFrom");function $l(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&MO in t?t[MO](e):t instanceof Date?new t.constructor(e):new Date(e)}function so(t,e){return $l(e||t,t)}function pp(t,e,n){const r=so(t,n?.in);return isNaN(e)?$l(t,NaN):(e&&r.setDate(r.getDate()+e),r)}let RX={};function yy(){return RX}function nf(t,e){const n=yy(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=so(t,e?.in),a=i.getDay(),c=(a<r?7:0)+a-r;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function Xp(t,e){return nf(t,{...e,weekStartsOn:1})}function xk(t,e){const n=so(t,e?.in),r=n.getFullYear(),i=$l(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Xp(i),c=$l(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const h=Xp(c);return n.getTime()>=a.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function kO(t){const e=so(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function PX(t,...e){const n=$l.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function jO(t,e){const n=so(t,e?.in);return n.setHours(0,0,0,0),n}function DX(t,e,n){const[r,i]=PX(n?.in,t,e),a=jO(r),c=jO(i),h=+a-kO(a),y=+c-kO(c);return Math.round((h-y)/NX)}function MX(t,e){const n=xk(t,e),r=$l(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Xp(r)}function kX(t,e,n){return pp(t,e*7,n)}function jX(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function LX(t){return!(!jX(t)&&typeof t!="number"||isNaN(+so(t)))}function BX(t,e){const n=so(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const FX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UX=(t,e,n)=>{let r;const i=FX[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const VX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HX={date:vd({formats:VX,defaultWidth:"full"}),time:vd({formats:zX,defaultWidth:"full"}),dateTime:vd({formats:qX,defaultWidth:"full"})},GX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WX=(t,e,n,r)=>GX[t];function Ho(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,h=n?.width?String(n.width):c;i=t.formattingValues[h]||t.formattingValues[c]}else{const c=t.defaultWidth,h=n?.width?String(n.width):t.defaultWidth;i=t.values[h]||t.values[c]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const KX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$X={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},JX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},eZ={ordinalNumber:JX,era:Ho({values:KX,defaultWidth:"wide"}),quarter:Ho({values:YX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ho({values:$X,defaultWidth:"wide"}),day:Ho({values:XX,defaultWidth:"wide"}),dayPeriod:Ho({values:ZX,defaultWidth:"wide",formattingValues:QX,defaultFormattingWidth:"wide"})};function Go(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const c=a[0],h=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],y=Array.isArray(h)?nZ(h,A=>A.test(c)):tZ(h,A=>A.test(c));let g;g=t.valueCallback?t.valueCallback(y):y,g=n.valueCallback?n.valueCallback(g):g;const w=e.slice(c.length);return{value:g,rest:w}}}function tZ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function nZ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function bk(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let c=t.valueCallback?t.valueCallback(a[0]):a[0];c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(i.length);return{value:c,rest:h}}}const rZ=/^(\d+)(th|st|nd|rd)?/i,iZ=/\d+/i,aZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sZ={any:[/^b/i,/^(a|c)/i]},oZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lZ={any:[/1/i,/2/i,/3/i,/4/i]},uZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gZ={ordinalNumber:bk({matchPattern:rZ,parsePattern:iZ,valueCallback:t=>parseInt(t,10)}),era:Go({matchPatterns:aZ,defaultMatchWidth:"wide",parsePatterns:sZ,defaultParseWidth:"any"}),quarter:Go({matchPatterns:oZ,defaultMatchWidth:"wide",parsePatterns:lZ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Go({matchPatterns:uZ,defaultMatchWidth:"wide",parsePatterns:cZ,defaultParseWidth:"any"}),day:Go({matchPatterns:fZ,defaultMatchWidth:"wide",parsePatterns:dZ,defaultParseWidth:"any"}),dayPeriod:Go({matchPatterns:hZ,defaultMatchWidth:"any",parsePatterns:mZ,defaultParseWidth:"any"})},pZ={code:"en-US",formatDistance:UX,formatLong:HX,formatRelative:WX,localize:eZ,match:gZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yZ(t,e){const n=so(t,e?.in);return DX(n,BX(n))+1}function vZ(t,e){const n=so(t,e?.in),r=+Xp(n)-+MX(n);return Math.round(r/vk)+1}function wk(t,e){const n=so(t,e?.in),r=n.getFullYear(),i=yy(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=$l(e?.in||t,0);c.setFullYear(r+1,0,a),c.setHours(0,0,0,0);const h=nf(c,e),y=$l(e?.in||t,0);y.setFullYear(r,0,a),y.setHours(0,0,0,0);const g=nf(y,e);return+n>=+h?r+1:+n>=+g?r:r-1}function xZ(t,e){const n=yy(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=wk(t,e),a=$l(e?.in||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),nf(a,e)}function bZ(t,e){const n=so(t,e?.in),r=+nf(n,e)-+xZ(n,e);return Math.round(r/vk)+1}function ar(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ku={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ar(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ar(n+1,2)},d(t,e){return ar(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ar(t.getHours()%12||12,e.length)},H(t,e){return ar(t.getHours(),e.length)},m(t,e){return ar(t.getMinutes(),e.length)},s(t,e){return ar(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ar(i,e.length)}},Zf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LO={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ku.y(t,e)},Y:function(t,e,n,r){const i=wk(t,r),a=i>0?i:1-i;if(e==="YY"){const c=a%100;return ar(c,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):ar(a,e.length)},R:function(t,e){const n=xk(t);return ar(n,e.length)},u:function(t,e){const n=t.getFullYear();return ar(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ar(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ar(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ku.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ar(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=bZ(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ar(i,e.length)},I:function(t,e,n){const r=vZ(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ar(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ku.d(t,e)},D:function(t,e,n){const r=yZ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ar(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return ar(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return ar(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ar(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Zf.noon:r===0?i=Zf.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Zf.evening:r>=12?i=Zf.afternoon:r>=4?i=Zf.morning:i=Zf.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ku.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ku.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ar(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ar(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ku.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ku.s(t,e)},S:function(t,e){return ku.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return FO(r);case"XXXX":case"XX":return Dc(r);default:return Dc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return FO(r);case"xxxx":case"xx":return Dc(r);default:return Dc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+BO(r,":");default:return"GMT"+Dc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+BO(r,":");default:return"GMT"+Dc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return ar(r,e.length)},T:function(t,e,n){return ar(+t,e.length)}};function BO(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+ar(a,2)}function FO(t,e){return t%60===0?(t>0?"-":"+")+ar(Math.abs(t)/60,2):Dc(t,e)}function Dc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ar(Math.trunc(r/60),2),a=ar(r%60,2);return n+i+e+a}const UO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},Ek=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},wZ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return UO(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",UO(r,e)).replace("{{time}}",Ek(i,e))},EZ={p:Ek,P:wZ},_Z=/^D+$/,AZ=/^Y+$/,SZ=["D","DD","YY","YYYY"];function CZ(t){return _Z.test(t)}function TZ(t){return AZ.test(t)}function IZ(t,e,n){const r=OZ(t,e,n);if(console.warn(r),SZ.includes(t))throw new RangeError(r)}function OZ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const NZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PZ=/^'([^]*?)'?$/,DZ=/''/g,MZ=/[a-zA-Z]/;function $a(t,e,n){const r=yy(),i=n?.locale??r.locale??pZ,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,h=so(t,n?.in);if(!LX(h))throw new RangeError("Invalid time value");let y=e.match(RZ).map(w=>{const A=w[0];if(A==="p"||A==="P"){const I=EZ[A];return I(w,i.formatLong)}return w}).join("").match(NZ).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const A=w[0];if(A==="'")return{isToken:!1,value:kZ(w)};if(LO[A])return{isToken:!0,value:w};if(A.match(MZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(y=i.localize.preprocessor(h,y));const g={firstWeekContainsDate:a,weekStartsOn:c,locale:i};return y.map(w=>{if(!w.isToken)return w.value;const A=w.value;(!n?.useAdditionalWeekYearTokens&&TZ(A)||!n?.useAdditionalDayOfYearTokens&&CZ(A))&&IZ(A,e,String(t));const I=LO[A[0]];return I(h,A,i.localize,g)}).join("")}function kZ(t){const e=t.match(PZ);return e?e[1].replace(DZ,"'"):t}function VO(t,e,n){return kX(t,-e,n)}const vy=zE((t,e)=>({entries:[],selectedDate:$a(new Date,"yyyy-MM-dd"),isLoading:!1,setDate:n=>{t({selectedDate:n}),e().loadEntries()},loadEntries:async()=>{t({isLoading:!0});const n=await sk(e().selectedDate);t({entries:n,isLoading:!1})},addEntry:async n=>{await ok(e().selectedDate,n),await e().loadEntries()},updateEntry:async(n,r)=>{await AY(n,r),await e().loadEntries()},removeEntry:async n=>{await SY(n),await e().loadEntries()},getEntriesByMealType:n=>e().entries.filter(r=>r.mealType===n),getTotalPoints:()=>e().entries.reduce((n,r)=>n+r.points,0),getPointsByMealType:n=>e().entries.filter(r=>r.mealType===n).reduce((r,i)=>r+i.points,0)}));function rf({title:t,children:e,rightAction:n,noPadding:r}){return P.jsxs("div",{className:"flex flex-col h-full",children:[P.jsx("header",{className:"bg-white/80 backdrop-blur-xl border-b border-ios-separator flex-shrink-0",style:{paddingTop:"var(--safe-area-top)"},children:P.jsxs("div",{className:"flex items-center justify-between px-4 h-[44px]",children:[P.jsx("h1",{className:"text-[17px] font-semibold text-ios-text",children:t}),n&&P.jsx("div",{children:n})]})}),P.jsx("main",{className:`flex-1 overflow-y-auto overscroll-contain ${r?"":"px-4 py-4"}`,style:{paddingBottom:"calc(60px + var(--safe-area-bottom))"},children:e})]})}function jZ({used:t,budget:e,size:n=180}){const r=t>e,i=e-t,a=r?t-e:0,c=Math.min(t/e,1),h=12,y=(n-h)/2,g=2*Math.PI*y,w=g*(1-c),A=n/2;return P.jsxs("div",{className:"flex flex-col items-center gap-2",children:[P.jsxs("div",{className:"relative",style:{width:n,height:n},children:[P.jsxs("svg",{width:n,height:n,className:"-rotate-90",children:[P.jsx("circle",{cx:A,cy:A,r:y,fill:"none",stroke:"#E5E5EA",strokeWidth:h,strokeLinecap:"round"}),P.jsx("circle",{cx:A,cy:A,r:y,fill:"none",stroke:r?"#FF3B30":"#34C759",strokeWidth:h,strokeLinecap:"round",strokeDasharray:g,strokeDashoffset:w,className:"transition-all duration-700 ease-out"})]}),P.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[P.jsx("span",{className:`text-[42px] font-bold leading-none ${r?"text-ios-destructive":"text-ios-text"}`,children:r?a:i}),P.jsx("span",{className:"text-[13px] text-ios-secondary mt-1",children:r?"te veel":"resterend"})]})]}),P.jsxs("div",{className:"flex gap-6 text-[13px] text-ios-secondary",children:[P.jsxs("span",{children:[P.jsx("strong",{className:"text-ios-text",children:t})," gebruikt"]}),P.jsxs("span",{children:[P.jsx("strong",{className:"text-ios-text",children:e})," budget"]})]})]})}const _k={breakfast:"Ontbijt",lunch:"Lunch",dinner:"Diner",snack:"Snacks"},LZ={breakfast:"",lunch:"",dinner:"",snack:""};function Tn({children:t,className:e="",onClick:n}){return P.jsx("div",{className:`bg-white rounded-2xl shadow-sm ${n?"active:bg-gray-50 cursor-pointer transition-colors":""} ${e}`,onClick:n,children:t})}function Rs({title:t,rightContent:e}){return P.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-ios-separator",children:[P.jsx("h3",{className:"text-[15px] font-semibold text-ios-secondary uppercase tracking-wide",children:t}),e]})}function BZ({mealType:t,entries:e,totalPoints:n,onRemoveEntry:r,onEditEntry:i,onSaveTemplate:a}){const c=mf();return P.jsxs(Tn,{className:"animate-fade-in",children:[P.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("span",{className:"text-lg",children:LZ[t]}),P.jsx("span",{className:"font-semibold text-[15px]",children:_k[t]})]}),P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsxs("span",{className:"text-[15px] text-ios-secondary font-medium",children:[n," pt"]}),e.length>0&&a&&P.jsx("button",{onClick:()=>a(t),className:"w-7 h-7 rounded-full bg-ios-bg flex items-center justify-center border-none cursor-pointer active:bg-gray-200 transition-colors",children:P.jsx(GY,{size:14,className:"text-ios-secondary"})}),P.jsx("button",{onClick:()=>c(`/search?meal=${t}`),className:"w-7 h-7 rounded-full bg-primary flex items-center justify-center border-none cursor-pointer active:bg-primary-dark transition-colors",children:P.jsx(Yp,{size:16,color:"white",strokeWidth:2.5})})]})]}),e.length>0&&P.jsx("div",{className:"border-t border-ios-separator",children:e.map((h,y)=>P.jsxs("div",{className:`flex items-center justify-between px-4 py-2.5 ${y<e.length-1?"border-b border-ios-separator":""} ${i?"cursor-pointer":""}`,onClick:()=>i?.(h),children:[P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsx("div",{className:"text-[15px] truncate",children:h.foodItem.name}),P.jsx("div",{className:"text-[13px] text-ios-secondary",children:(()=>{const g=h.foodItem.unit==="ml"?"ml":"g";return h.quantity&&h.quantity>1?`${h.quantity} ${h.quantityG}${g}`:`${h.quantityG}${g}`})()})]}),P.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[P.jsxs("span",{className:`text-[15px] font-medium ${h.points===0?"text-primary":""}`,children:[h.points===0?"0":h.points," pt"]}),h.id!=null&&P.jsx("button",{onClick:()=>r(h.id),className:"text-ios-secondary active:text-ios-destructive border-none bg-transparent cursor-pointer p-1",children:P.jsx(lX,{size:16})})]})]},h.id??y))}),e.length===0&&P.jsx("div",{className:"px-4 py-3 text-[15px] text-ios-secondary border-t border-ios-separator cursor-pointer active:bg-gray-50",onClick:()=>c(`/search?meal=${t}`),children:"Tik om voedsel toe te voegen..."})]})}function lm(t){const e=t.calories*.03+t.saturatedFat*.28+t.sugar*.12-t.protein*.1-t.fiber*.1-t.unsaturatedFat*.05;return Math.max(0,Math.round(e))}function um(t,e){return Math.max(0,Math.round(t*e/100))}function FZ({entry:t,onSave:e,onClose:n}){const[r,i]=D.useState(t.quantityG),[a,c]=D.useState(t.quantity||1),h=t.foodItem,y=h.unit==="ml"?"ml":"gram",g=h.unit==="ml"?"ml":"g",A=um(h.pointsPer100g,r)*a,I=()=>{t.id&&e(t.id,{quantityG:r,quantity:a>1?a:void 0,points:A})};return P.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center animate-fade-in",children:[P.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:n}),P.jsxs("div",{className:"relative bg-white rounded-t-3xl w-full max-w-lg animate-slide-up",style:{paddingBottom:"calc(20px + var(--safe-area-bottom))"},children:[P.jsx("div",{className:"flex justify-center pt-3 pb-2",children:P.jsx("div",{className:"w-9 h-1 rounded-full bg-ios-separator"})}),P.jsx("button",{onClick:n,className:"absolute top-3 right-3 w-8 h-8 rounded-full bg-ios-bg flex items-center justify-center border-none cursor-pointer",children:P.jsx(Td,{size:18,className:"text-ios-secondary"})}),P.jsxs("div",{className:"px-5 pb-4",children:[P.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[h.imageUrl?P.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-14 h-14 rounded-xl object-cover"}):P.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary-light flex items-center justify-center",children:P.jsx("span",{className:"text-primary-dark text-2xl font-bold",children:h.name.charAt(0).toUpperCase()})}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-[17px] font-semibold",children:h.name}),h.brand&&P.jsx("p",{className:"text-[13px] text-ios-secondary",children:h.brand})]})]}),P.jsxs("div",{className:"bg-ios-bg rounded-2xl p-4 mb-5 text-center",children:[P.jsx("div",{className:"text-[48px] font-bold text-primary leading-none",children:A}),P.jsx("div",{className:"text-[13px] text-ios-secondary mt-1",children:"punten"})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1.5 px-1",children:"Hoeveelheid"}),P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("button",{className:"w-10 h-10 rounded-full bg-ios-bg text-ios-text border-none cursor-pointer text-xl font-medium active:bg-gray-200",onClick:()=>i(Math.max(10,r-10)),children:"-"}),P.jsxs("div",{className:"relative flex-1",children:[P.jsx("input",{type:"number",value:r,onChange:R=>i(Math.max(1,Number(R.target.value))),className:"text-center bg-white rounded-xl text-[20px] font-medium",min:1}),P.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-ios-secondary text-[15px]",children:y})]}),P.jsx("button",{className:"w-10 h-10 rounded-full bg-ios-bg text-ios-text border-none cursor-pointer text-xl font-medium active:bg-gray-200",onClick:()=>i(r+10),children:"+"})]})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1.5 px-1",children:"Aantal"}),P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("button",{className:"w-10 h-10 rounded-full bg-ios-bg text-ios-text border-none cursor-pointer text-xl font-medium active:bg-gray-200",onClick:()=>c(Math.max(1,a-1)),children:"-"}),P.jsxs("div",{className:"relative flex-1",children:[P.jsx("input",{type:"number",value:a,onChange:R=>c(Math.max(1,Math.round(Number(R.target.value)))),className:"text-center bg-white rounded-xl text-[20px] font-medium",min:1}),P.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-ios-secondary text-[15px]",children:"stuks"})]}),P.jsx("button",{className:"w-10 h-10 rounded-full bg-ios-bg text-ios-text border-none cursor-pointer text-xl font-medium active:bg-gray-200",onClick:()=>c(a+1),children:"+"})]})]}),P.jsx("div",{className:"flex gap-2 mb-5",children:[50,100,150,200].map(R=>P.jsxs("button",{onClick:()=>i(R),className:`flex-1 py-2 rounded-xl text-[14px] font-medium border-none cursor-pointer transition-colors ${r===R?"bg-primary text-white":"bg-ios-bg text-ios-text active:bg-gray-200"}`,children:[R,g]},R))}),P.jsxs(eo,{fullWidth:!0,size:"lg",onClick:I,children:["Opslaan  ",A," pt",a>1?` (${a})`:""]})]})]})]})}const UZ={lessThanXSeconds:{one:"minder dan een seconde",other:"minder dan {{count}} seconden"},xSeconds:{one:"1 seconde",other:"{{count}} seconden"},halfAMinute:"een halve minuut",lessThanXMinutes:{one:"minder dan een minuut",other:"minder dan {{count}} minuten"},xMinutes:{one:"een minuut",other:"{{count}} minuten"},aboutXHours:{one:"ongeveer 1 uur",other:"ongeveer {{count}} uur"},xHours:{one:"1 uur",other:"{{count}} uur"},xDays:{one:"1 dag",other:"{{count}} dagen"},aboutXWeeks:{one:"ongeveer 1 week",other:"ongeveer {{count}} weken"},xWeeks:{one:"1 week",other:"{{count}} weken"},aboutXMonths:{one:"ongeveer 1 maand",other:"ongeveer {{count}} maanden"},xMonths:{one:"1 maand",other:"{{count}} maanden"},aboutXYears:{one:"ongeveer 1 jaar",other:"ongeveer {{count}} jaar"},xYears:{one:"1 jaar",other:"{{count}} jaar"},overXYears:{one:"meer dan 1 jaar",other:"meer dan {{count}} jaar"},almostXYears:{one:"bijna 1 jaar",other:"bijna {{count}} jaar"}},VZ=(t,e,n)=>{let r;const i=UZ[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"over "+r:r+" geleden":r},zZ={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd-MM-y"},qZ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},HZ={full:"{{date}} 'om' {{time}}",long:"{{date}} 'om' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GZ={date:vd({formats:zZ,defaultWidth:"full"}),time:vd({formats:qZ,defaultWidth:"full"}),dateTime:vd({formats:HZ,defaultWidth:"full"})},WZ={lastWeek:"'afgelopen' eeee 'om' p",yesterday:"'gisteren om' p",today:"'vandaag om' p",tomorrow:"'morgen om' p",nextWeek:"eeee 'om' p",other:"P"},KZ=(t,e,n,r)=>WZ[t],YZ={narrow:["v.C.","n.C."],abbreviated:["v.Chr.","n.Chr."],wide:["voor Christus","na Christus"]},$Z={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"]},XZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},ZZ={narrow:["Z","M","D","W","D","V","Z"],short:["zo","ma","di","wo","do","vr","za"],abbreviated:["zon","maa","din","woe","don","vri","zat"],wide:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},QZ={narrow:{am:"AM",pm:"PM",midnight:"middernacht",noon:"het middaguur",morning:"'s ochtends",afternoon:"'s middags",evening:"'s avonds",night:"'s nachts"},abbreviated:{am:"AM",pm:"PM",midnight:"middernacht",noon:"het middaguur",morning:"'s ochtends",afternoon:"'s middags",evening:"'s avonds",night:"'s nachts"},wide:{am:"AM",pm:"PM",midnight:"middernacht",noon:"het middaguur",morning:"'s ochtends",afternoon:"'s middags",evening:"'s avonds",night:"'s nachts"}},JZ=(t,e)=>Number(t)+"e",eQ={ordinalNumber:JZ,era:Ho({values:YZ,defaultWidth:"wide"}),quarter:Ho({values:$Z,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ho({values:XZ,defaultWidth:"wide"}),day:Ho({values:ZZ,defaultWidth:"wide"}),dayPeriod:Ho({values:QZ,defaultWidth:"wide"})},tQ=/^(\d+)e?/i,nQ=/\d+/i,rQ={narrow:/^([vn]\.? ?C\.?)/,abbreviated:/^([vn]\. ?Chr\.?)/,wide:/^((voor|na) Christus)/},iQ={any:[/^v/,/^n/]},aQ={narrow:/^[1234]/i,abbreviated:/^K[1234]/i,wide:/^[1234]e kwartaal/i},sQ={any:[/1/i,/2/i,/3/i,/4/i]},oQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan.|feb.|mrt.|apr.|mei|jun.|jul.|aug.|sep.|okt.|nov.|dec.)/i,wide:/^(januari|februari|maart|april|mei|juni|juli|augustus|september|oktober|november|december)/i},lQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^jan/i,/^feb/i,/^m(r|a)/i,/^apr/i,/^mei/i,/^jun/i,/^jul/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i]},uQ={narrow:/^[zmdwv]/i,short:/^(zo|ma|di|wo|do|vr|za)/i,abbreviated:/^(zon|maa|din|woe|don|vri|zat)/i,wide:/^(zondag|maandag|dinsdag|woensdag|donderdag|vrijdag|zaterdag)/i},cQ={narrow:[/^z/i,/^m/i,/^d/i,/^w/i,/^d/i,/^v/i,/^z/i],any:[/^zo/i,/^ma/i,/^di/i,/^wo/i,/^do/i,/^vr/i,/^za/i]},fQ={any:/^(am|pm|middernacht|het middaguur|'s (ochtends|middags|avonds|nachts))/i},dQ={any:{am:/^am/i,pm:/^pm/i,midnight:/^middernacht/i,noon:/^het middaguur/i,morning:/ochtend/i,afternoon:/middag/i,evening:/avond/i,night:/nacht/i}},hQ={ordinalNumber:bk({matchPattern:tQ,parsePattern:nQ,valueCallback:t=>parseInt(t,10)}),era:Go({matchPatterns:rQ,defaultMatchWidth:"wide",parsePatterns:iQ,defaultParseWidth:"any"}),quarter:Go({matchPatterns:aQ,defaultMatchWidth:"wide",parsePatterns:sQ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Go({matchPatterns:oQ,defaultMatchWidth:"wide",parsePatterns:lQ,defaultParseWidth:"any"}),day:Go({matchPatterns:uQ,defaultMatchWidth:"wide",parsePatterns:cQ,defaultParseWidth:"any"}),dayPeriod:Go({matchPatterns:fQ,defaultMatchWidth:"any",parsePatterns:dQ,defaultParseWidth:"any"})},Lc={code:"nl",formatDistance:VZ,formatLong:GZ,formatRelative:KZ,localize:eQ,match:hQ,options:{weekStartsOn:1,firstWeekContainsDate:4}},mQ=["breakfast","lunch","dinner","snack"];function m0(){try{const t=localStorage.getItem("bb_templates");return t?JSON.parse(t):[]}catch{return[]}}function gQ(t){const e=m0();e.push(t),localStorage.setItem("bb_templates",JSON.stringify(e))}function pQ(t){const e=m0();e.splice(t,1),localStorage.setItem("bb_templates",JSON.stringify(e))}function yQ(){const t=tf(Ne=>Ne.profile),{entries:e,selectedDate:n,setDate:r,loadEntries:i,addEntry:a,updateEntry:c,removeEntry:h,getEntriesByMealType:y,getTotalPoints:g,getPointsByMealType:w}=vy(),[A,I]=D.useState(0),[R,j]=D.useState(0),k=t?.waterGoalMl||2e3,[L,G]=D.useState(!1),[K,W]=D.useState(m0),[ne,fe]=D.useState(0),[Q,U]=D.useState(null),[$,H]=D.useState(()=>{const Ne=new Date;if(Ne.getDay()!==1)return!1;const ke=`bb_weekreport_seen_${Ne.toISOString().split("T")[0]}`;return localStorage.getItem(ke)?!1:(localStorage.setItem(ke,"1"),!0)}),[ae,ie]=D.useState(null),Z=D.useCallback(async()=>{const Ne=await IY(n);j(Ne)},[n]);D.useEffect(()=>{i()},[i]),D.useEffect(()=>{t&&TY(n,t.dailyPointsBudget).then(I)},[n,t,e]),D.useEffect(()=>{Z()},[Z]),D.useEffect(()=>{t&&MY(t.dailyPointsBudget).then(fe)},[t,e]),D.useEffect(()=>{t&&PY(t.dailyPointsBudget,t.weeklyPointsBudget,t.waterGoalMl||2e3).then(U)},[t,e]);const J=async Ne=>{const et=await OY(n,Ne);j(et),navigator.vibrate?.(10)},Be=async()=>{await NY(n),j(0)},pe=Ne=>{const et=y(Ne);if(et.length===0)return;const Tt=prompt("Naam voor deze template:");if(!Tt)return;const ke={name:Tt,mealType:Ne,items:et.map(Ye=>({foodItem:Ye.foodItem,quantityG:Ye.quantityG,quantity:Ye.quantity,points:Ye.points}))};gQ(ke),W(m0()),navigator.vibrate?.(10)},ve=async Ne=>{for(const et of Ne.items)await a({foodItem:et.foodItem,mealType:Ne.mealType,quantityG:et.quantityG,quantity:et.quantity,points:et.points});G(!1),navigator.vibrate?.(10)},Ae=Ne=>{pQ(Ne),W(m0())},We=()=>{H(Ne=>!Ne)},Ue=Ne=>{localStorage.setItem(`bb_streak_milestone_${Ne}`,"1")},st=async()=>{const Ne=new Date(n);Ne.setDate(Ne.getDate()-1);const et=$a(Ne,"yyyy-MM-dd");await RY(et,n)>0&&(await i(),navigator.vibrate?.(10))};if(!t)return null;const he=g(),_e=Math.max(0,t.weeklyPointsBudget-A),Ge=n===$a(new Date,"yyyy-MM-dd"),Fe=Ne=>{const et=new Date(n);et.setDate(et.getDate()+Ne),r($a(et,"yyyy-MM-dd"))},dt=Ge?"Vandaag":$a(new Date(n),"d MMMM",{locale:Lc});return P.jsxs(rf,{title:"BodyBalance",children:[P.jsxs("div",{className:"flex flex-col gap-4 pb-4",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("button",{onClick:()=>Fe(-1),className:"w-9 h-9 rounded-full bg-white flex items-center justify-center border-none cursor-pointer active:bg-gray-100 shadow-sm",children:P.jsx(a$,{size:20,className:"text-ios-text"})}),P.jsx("span",{className:"text-[17px] font-semibold",children:dt}),P.jsx("button",{onClick:()=>Fe(1),disabled:Ge,className:`w-9 h-9 rounded-full bg-white flex items-center justify-center border-none cursor-pointer shadow-sm ${Ge?"opacity-30":"active:bg-gray-100"}`,children:P.jsx(N_,{size:20,className:"text-ios-text"})})]}),Q&&P.jsxs(Tn,{children:[P.jsxs("button",{onClick:We,className:"w-full p-4 flex items-center justify-between bg-transparent border-none cursor-pointer",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx(hX,{size:18,className:"text-ios-blue"}),P.jsx("span",{className:"text-[15px] font-semibold",children:Q.weekLabel})]}),$?P.jsx(l$,{size:18,className:"text-ios-secondary"}):P.jsx(uk,{size:18,className:"text-ios-secondary"})]}),$&&P.jsxs("div",{className:"px-4 pb-4 flex flex-col gap-2",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("span",{className:"text-[14px] text-ios-secondary",children:"Punten"}),P.jsxs("span",{className:"text-[14px] font-medium",children:["gem. ",Q.avgPoints,"/",Q.dailyBudget," pt",Q.avgPoints<=Q.dailyBudget?P.jsx("span",{className:"text-primary ml-1",children:""}):P.jsx("span",{className:"text-ios-destructive ml-1",children:""})]})]}),P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("span",{className:"text-[14px] text-ios-secondary",children:"Binnen budget"}),P.jsxs("span",{className:"text-[14px] font-medium",children:[Q.daysWithinBudget," van ",Q.totalDays," dagen",Q.daysWithinBudget>=Q.totalDays-1?P.jsx("span",{className:"text-primary ml-1",children:""}):null]})]}),Q.waterTotalDays>0&&P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("span",{className:"text-[14px] text-ios-secondary",children:"Water"}),P.jsxs("span",{className:"text-[14px] font-medium",children:[Q.waterDaysOnTarget," van ",Q.waterTotalDays," dagen doel",Q.waterDaysOnTarget>=Q.waterTotalDays-1?P.jsx("span",{className:"text-blue-500 ml-1",children:""}):null]})]}),Q.weightChange!==null&&P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("span",{className:"text-[14px] text-ios-secondary",children:"Gewicht"}),P.jsxs("span",{className:`text-[14px] font-medium flex items-center gap-1 ${Q.weightChange<0?"text-primary":Q.weightChange>0?"text-ios-warning":""}`,children:[Q.weightChange<0?P.jsx(mk,{size:14}):Q.weightChange>0?P.jsx(fX,{size:14}):P.jsx(dk,{size:14}),Q.weightChange>0?"+":"",Q.weightChange.toFixed(1)," kg"]})]}),P.jsxs("div",{className:"border-t border-ios-separator mt-1 pt-2 flex items-center justify-between",children:[P.jsx("span",{className:"text-[14px] text-ios-secondary",children:"Beste dag"}),P.jsxs("span",{className:"text-[14px] font-medium",children:[Q.bestDay," (",Q.bestDayPoints," pt)"]})]}),P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("span",{className:"text-[14px] text-ios-secondary",children:"Weekpunten"}),P.jsxs("span",{className:"text-[14px] font-medium",children:[Q.weeklyPointsUsed," van ",Q.weeklyPointsBudget," gebruikt"]})]})]})]}),P.jsxs(Tn,{className:"py-6 flex flex-col items-center gap-2",children:[P.jsx(jZ,{used:he,budget:t.dailyPointsBudget}),ne>0&&P.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[P.jsx(_$,{size:16,className:"text-orange-500"}),P.jsxs("span",{className:"text-[14px] font-medium text-ios-secondary",children:[ne," ",ne===1?"dag":"dagen"," op rij"]})]})]}),(()=>{const et=[7,14,30,60,100].find(ke=>ne===ke&&!localStorage.getItem(`bb_streak_milestone_${ke}`));if(!et)return null;const Tt={7:"1 week op rij binnen budget!",14:"2 weken op rij binnen budget!",30:"1 maand op rij! Ongelooflijk!",60:"2 maanden op rij! Wat een discipline!",100:"100 dagen! Je bent een kampioen!"};return P.jsx(Tn,{className:"bg-primary/10 border border-primary/20",children:P.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("span",{className:"text-[16px]",children:""}),P.jsx("span",{className:"text-[14px] font-semibold text-primary",children:Tt[et]})]}),P.jsx("button",{onClick:()=>Ue(et),className:"w-6 h-6 rounded-full bg-transparent border-none cursor-pointer flex items-center justify-center",children:P.jsx(Td,{size:14,className:"text-primary"})})]})})})(),P.jsxs(Tn,{className:"px-4 py-3 flex items-center justify-between",children:[P.jsx("span",{className:"text-[15px] text-ios-secondary",children:"Weekpunten resterend"}),P.jsxs("span",{className:`text-[17px] font-bold ${_e===0?"text-ios-destructive":"text-ios-blue"}`,children:[_e,P.jsxs("span",{className:"text-[13px] font-normal text-ios-secondary ml-1",children:["/ ",t.weeklyPointsBudget]})]})]}),P.jsxs("div",{className:"flex gap-2",children:[e.length===0&&P.jsxs("button",{onClick:st,className:"flex-1 flex items-center justify-center gap-2 py-2.5 bg-white rounded-xl border border-dashed border-ios-separator text-[13px] font-medium text-ios-secondary cursor-pointer active:bg-gray-50 transition-colors",children:[P.jsx(m$,{size:14}),"Kopieer gisteren"]}),K.length>0&&P.jsxs("button",{onClick:()=>G(!L),className:"flex-1 flex items-center justify-center gap-2 py-2.5 bg-white rounded-xl border border-dashed border-ios-separator text-[13px] font-medium text-ios-blue cursor-pointer active:bg-gray-50 transition-colors",children:[P.jsx(KY,{size:14}),"Templates (",K.length,")"]})]}),L&&P.jsxs(Tn,{children:[P.jsx("div",{className:"px-4 py-2.5 border-b border-ios-separator",children:P.jsx("span",{className:"text-[13px] font-semibold text-ios-secondary uppercase tracking-wide",children:"Maaltijd templates"})}),K.map((Ne,et)=>P.jsxs("div",{className:`flex items-center justify-between px-4 py-2.5 ${et<K.length-1?"border-b border-ios-separator":""}`,children:[P.jsxs("button",{onClick:()=>ve(Ne),className:"flex-1 text-left bg-transparent border-none cursor-pointer p-0",children:[P.jsx("div",{className:"text-[15px] font-medium",children:Ne.name}),P.jsxs("div",{className:"text-[12px] text-ios-secondary",children:[Ne.items.length," items  ",Ne.items.reduce((Tt,ke)=>Tt+ke.points,0)," pt"]})]}),P.jsx("button",{onClick:()=>Ae(et),className:"text-[12px] text-ios-destructive bg-transparent border-none cursor-pointer px-2 py-1",children:"Wis"})]},et))]}),mQ.map(Ne=>P.jsx(BZ,{mealType:Ne,entries:y(Ne),totalPoints:w(Ne),onRemoveEntry:h,onEditEntry:ie,onSaveTemplate:pe},Ne)),P.jsx(Tn,{children:P.jsxs("div",{className:"p-4",children:[P.jsxs("div",{className:"flex items-center justify-between mb-3",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx(h0,{size:20,className:"text-blue-500"}),P.jsx("span",{className:"text-[17px] font-semibold",children:"Water"})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsxs("span",{className:"text-[15px] font-bold text-blue-500",children:[(R/1e3).toFixed(1)," / ",(k/1e3).toFixed(1)," L"]}),R>0&&P.jsx("button",{onClick:Be,className:"w-7 h-7 rounded-full bg-transparent border-none cursor-pointer flex items-center justify-center active:bg-gray-100",children:P.jsx(Y$,{size:14,className:"text-ios-secondary"})})]})]}),P.jsx("div",{className:"w-full h-3 bg-blue-100 rounded-full overflow-hidden mb-3",children:P.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:`${Math.min(100,R/k*100)}%`}})}),P.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[P.jsxs("button",{onClick:()=>J(150),className:"flex flex-col items-center gap-1 py-2.5 bg-blue-50 rounded-xl border-none cursor-pointer active:bg-blue-100 transition-colors",children:[P.jsx(S$,{size:18,className:"text-blue-500"}),P.jsx("span",{className:"text-[13px] font-medium text-blue-700",children:"+150ml"}),P.jsx("span",{className:"text-[11px] text-blue-400",children:"glas"})]}),P.jsxs("button",{onClick:()=>J(250),className:"flex flex-col items-center gap-1 py-2.5 bg-blue-50 rounded-xl border-none cursor-pointer active:bg-blue-100 transition-colors",children:[P.jsx(d$,{size:18,className:"text-blue-500"}),P.jsx("span",{className:"text-[13px] font-medium text-blue-700",children:"+250ml"}),P.jsx("span",{className:"text-[11px] text-blue-400",children:"beker"})]}),P.jsxs("button",{onClick:()=>J(500),className:"flex flex-col items-center gap-1 py-2.5 bg-blue-50 rounded-xl border-none cursor-pointer active:bg-blue-100 transition-colors",children:[P.jsx(h0,{size:18,className:"text-blue-500"}),P.jsx("span",{className:"text-[13px] font-medium text-blue-700",children:"+500ml"}),P.jsx("span",{className:"text-[11px] text-blue-400",children:"fles"})]})]}),R>=k&&P.jsx("p",{className:"text-[13px] text-center text-green-600 font-medium mt-2",children:"Waterdoel bereikt!"})]})})]}),ae&&P.jsx(FZ,{entry:ae,onSave:(Ne,et)=>{c(Ne,et),ie(null),navigator.vibrate?.(10)},onClose:()=>ie(null)})]})}function D_({food:t,onSelect:e,onToggleFavorite:n,showFavorite:r=!0}){const i=um(t.pointsPer100g,t.servingSizeG||100),a=t.unit==="ml"?"ml":"g";return P.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[P.jsxs("button",{onClick:()=>e(t),className:"flex-1 flex items-center gap-3 bg-transparent border-none cursor-pointer active:bg-gray-50 transition-colors text-left min-w-0",children:[t.imageUrl?P.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-11 h-11 rounded-lg object-cover bg-ios-bg flex-shrink-0"}):P.jsx("div",{className:"w-11 h-11 rounded-lg bg-primary-light flex items-center justify-center flex-shrink-0",children:P.jsx("span",{className:"text-primary-dark text-[18px] font-bold",children:t.name.charAt(0).toUpperCase()})}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsx("div",{className:"text-[15px] font-medium text-ios-text truncate",children:t.name}),t.brand&&P.jsx("div",{className:"text-[13px] text-ios-secondary truncate",children:t.brand})]}),P.jsxs("div",{className:"flex-shrink-0 text-right",children:[P.jsx("div",{className:`text-[17px] font-bold ${t.isZeroPoint?"text-primary":"text-ios-text"}`,children:i}),P.jsxs("div",{className:"text-[11px] text-ios-secondary",children:["pt/",t.servingSizeG,a]})]})]}),r&&n&&P.jsx("button",{onClick:c=>{c.stopPropagation(),n(t)},className:"flex-shrink-0 p-2 border-none bg-transparent cursor-pointer active:scale-125 transition-transform",children:P.jsx(R_,{size:20,className:t.isFavorite?"text-red-500 fill-red-500":"text-ios-separator"})})]})}function vQ(t){try{const e=localStorage.getItem("bb_portions");return e?JSON.parse(e)[t.toLowerCase()]??null:null}catch{return null}}function xQ(t,e){try{const n=localStorage.getItem("bb_portions"),r=n?JSON.parse(n):{};r[t.toLowerCase()]=e,localStorage.setItem("bb_portions",JSON.stringify(r))}catch{}}function Ak({food:t,defaultMealType:e,onAdd:n,onClose:r}){const i=vQ(t.name),[a,c]=D.useState(i??(t.servingSizeG||100)),[h,y]=D.useState(1),[g,w]=D.useState(e),A=t.unit==="ml"?"ml":"gram",I=t.unit==="ml"?"ml":"g",j=um(t.pointsPer100g,a)*h;return P.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center animate-fade-in",children:[P.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:r}),P.jsxs("div",{className:"relative bg-white rounded-t-3xl w-full max-w-lg animate-slide-up",style:{paddingBottom:"calc(20px + var(--safe-area-bottom))"},children:[P.jsx("div",{className:"flex justify-center pt-3 pb-2",children:P.jsx("div",{className:"w-9 h-1 rounded-full bg-ios-separator"})}),P.jsx("button",{onClick:r,className:"absolute top-3 right-3 w-8 h-8 rounded-full bg-ios-bg flex items-center justify-center border-none cursor-pointer",children:P.jsx(Td,{size:18,className:"text-ios-secondary"})}),P.jsxs("div",{className:"px-5 pb-4",children:[P.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[t.imageUrl?P.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-14 h-14 rounded-xl object-cover"}):P.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary-light flex items-center justify-center",children:P.jsx("span",{className:"text-primary-dark text-2xl font-bold",children:t.name.charAt(0).toUpperCase()})}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-[17px] font-semibold",children:t.name}),t.brand&&P.jsx("p",{className:"text-[13px] text-ios-secondary",children:t.brand})]})]}),P.jsxs("div",{className:"bg-ios-bg rounded-2xl p-4 mb-5 text-center",children:[P.jsx("div",{className:"text-[48px] font-bold text-primary leading-none",children:j}),P.jsx("div",{className:"text-[13px] text-ios-secondary mt-1",children:"punten"})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1.5 px-1",children:"Hoeveelheid"}),P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("button",{className:"w-10 h-10 rounded-full bg-ios-bg text-ios-text border-none cursor-pointer text-xl font-medium active:bg-gray-200",onClick:()=>c(Math.max(10,a-10)),children:"-"}),P.jsxs("div",{className:"relative flex-1",children:[P.jsx("input",{type:"number",value:a,onChange:k=>c(Math.max(1,Number(k.target.value))),className:"text-center bg-white rounded-xl text-[20px] font-medium",min:1}),P.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-ios-secondary text-[15px]",children:A})]}),P.jsx("button",{className:"w-10 h-10 rounded-full bg-ios-bg text-ios-text border-none cursor-pointer text-xl font-medium active:bg-gray-200",onClick:()=>c(a+10),children:"+"})]})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1.5 px-1",children:"Aantal"}),P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("button",{className:"w-10 h-10 rounded-full bg-ios-bg text-ios-text border-none cursor-pointer text-xl font-medium active:bg-gray-200",onClick:()=>y(Math.max(1,h-1)),children:"-"}),P.jsxs("div",{className:"relative flex-1",children:[P.jsx("input",{type:"number",value:h,onChange:k=>y(Math.max(1,Math.round(Number(k.target.value)))),className:"text-center bg-white rounded-xl text-[20px] font-medium",min:1}),P.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-ios-secondary text-[15px]",children:"stuks"})]}),P.jsx("button",{className:"w-10 h-10 rounded-full bg-ios-bg text-ios-text border-none cursor-pointer text-xl font-medium active:bg-gray-200",onClick:()=>y(h+1),children:"+"})]})]}),P.jsx("div",{className:"flex gap-2 mb-5",children:[50,100,150,200].map(k=>P.jsxs("button",{onClick:()=>c(k),className:`flex-1 py-2 rounded-xl text-[14px] font-medium border-none cursor-pointer transition-colors ${a===k?"bg-primary text-white":"bg-ios-bg text-ios-text active:bg-gray-200"}`,children:[k,I]},k))}),P.jsxs("div",{className:"mb-5",children:[P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1.5 px-1",children:"Maaltijd"}),P.jsx("div",{className:"flex gap-2",children:Object.entries(_k).map(([k,L])=>P.jsx("button",{onClick:()=>w(k),className:`flex-1 py-2.5 rounded-xl text-[13px] font-medium border-none cursor-pointer transition-colors ${g===k?"bg-primary text-white":"bg-ios-bg text-ios-text active:bg-gray-200"}`,children:L},k))})]}),P.jsxs("div",{className:"flex justify-around mb-5 py-3 bg-ios-bg rounded-xl",children:[P.jsxs("div",{className:"text-center",children:[P.jsx("div",{className:"text-[15px] font-semibold",children:Math.round(t.nutrition.calories*a*h/100)}),P.jsx("div",{className:"text-[11px] text-ios-secondary",children:"kcal"})]}),P.jsxs("div",{className:"text-center",children:[P.jsxs("div",{className:"text-[15px] font-semibold",children:[(t.nutrition.protein*a*h/100).toFixed(1),"g"]}),P.jsx("div",{className:"text-[11px] text-ios-secondary",children:"eiwit"})]}),P.jsxs("div",{className:"text-center",children:[P.jsxs("div",{className:"text-[15px] font-semibold",children:[(t.nutrition.carbs*a*h/100).toFixed(1),"g"]}),P.jsx("div",{className:"text-[11px] text-ios-secondary",children:"koolh."})]}),P.jsxs("div",{className:"text-center",children:[P.jsxs("div",{className:"text-[15px] font-semibold",children:[(t.nutrition.fat*a*h/100).toFixed(1),"g"]}),P.jsx("div",{className:"text-[11px] text-ios-secondary",children:"vet"})]})]}),P.jsxs(eo,{fullWidth:!0,size:"lg",onClick:()=>{xQ(t.name,a),n(a,g,h>1?h:void 0)},children:["Toevoegen  ",j," pt",h>1?` (${h})`:""]})]})]})]})}function bQ({onCreated:t,onClose:e}){const[n,r]=D.useState(""),[i,a]=D.useState(""),[c,h]=D.useState(""),[y,g]=D.useState("100"),[w,A]=D.useState("g"),[I,R]=D.useState({calories:"",protein:"",fat:"",saturatedFat:"",carbs:"",sugar:"",fiber:""}),j={calories:Number(I.calories)||0,protein:Number(I.protein)||0,fat:Number(I.fat)||0,saturatedFat:Number(I.saturatedFat)||0,unsaturatedFat:Math.max(0,(Number(I.fat)||0)-(Number(I.saturatedFat)||0)),carbs:Number(I.carbs)||0,sugar:Number(I.sugar)||0,addedSugar:0,fiber:Number(I.fiber)||0},k=lm(j),L=n.trim().length>=2&&Number(I.calories)>0,G=async()=>{if(!L)return;const W=await O_({name:n.trim(),brand:i.trim()||void 0,barcode:c.trim()||void 0,nutrition:j,pointsPer100g:k,servingSizeG:Number(y)||100,unit:w,isZeroPoint:k===0,isFavorite:!0,source:"user"});t(W)},K=(W,ne)=>{const fe=ne.replace(",",".").replace(/[^0-9.]/g,"");R(Q=>({...Q,[W]:fe}))};return P.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center animate-fade-in",children:[P.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),P.jsxs("div",{className:"relative bg-white rounded-t-3xl w-full max-w-lg animate-slide-up overflow-y-auto",style:{paddingBottom:"calc(20px + var(--safe-area-bottom))",maxHeight:"92vh"},children:[P.jsx("div",{className:"flex justify-center pt-3 pb-2",children:P.jsx("div",{className:"w-9 h-1 rounded-full bg-ios-separator"})}),P.jsx("button",{onClick:e,className:"absolute top-3 right-3 w-8 h-8 rounded-full bg-ios-bg flex items-center justify-center border-none cursor-pointer",children:P.jsx(Td,{size:18,className:"text-ios-secondary"})}),P.jsxs("div",{className:"px-5 pb-4",children:[P.jsx("h2",{className:"text-[20px] font-bold mb-4",children:"Eigen product"}),P.jsxs("div",{className:"flex flex-col gap-3 mb-5",children:[P.jsxs("div",{children:[P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1 px-1",children:"Naam *"}),P.jsx("input",{type:"text",placeholder:"bijv. Lavazza Cappuccino",value:n,onChange:W=>r(W.target.value),className:"bg-white rounded-xl px-4 py-3 text-[16px] w-full border border-ios-separator"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1 px-1",children:"Merk (optioneel)"}),P.jsx("input",{type:"text",placeholder:"bijv. Lavazza",value:i,onChange:W=>a(W.target.value),className:"bg-white rounded-xl px-4 py-3 text-[16px] w-full border border-ios-separator"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1 px-1",children:"Barcode (optioneel)"}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"text",inputMode:"numeric",placeholder:"Scan of typ de barcode",value:c,onChange:W=>h(W.target.value.replace(/[^0-9]/g,"")),className:"bg-white rounded-xl pl-4 pr-10 py-3 text-[16px] w-full border border-ios-separator"}),P.jsx($p,{size:18,className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-ios-secondary"})]}),P.jsx("p",{className:"text-[11px] text-ios-secondary mt-0.5 px-1",children:"Vul de barcode in zodat je dit product later kunt scannen"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1 px-1",children:"Eenheid"}),P.jsx("div",{className:"flex gap-2",children:["g","ml"].map(W=>P.jsx("button",{onClick:()=>A(W),className:`flex-1 py-2.5 rounded-xl text-[14px] font-medium border-none cursor-pointer transition-colors ${w===W?"bg-primary text-white":"bg-ios-bg text-ios-text active:bg-gray-200"}`,children:W==="g"?"Gram (g)":"Milliliter (ml)"},W))})]}),P.jsxs("div",{children:[P.jsxs("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1 px-1",children:["Standaard portie (",w,")"]}),P.jsx("input",{type:"number",value:y,onChange:W=>g(W.target.value),className:"bg-white rounded-xl px-4 py-3 text-[16px] w-full border border-ios-separator",min:1})]})]}),P.jsxs("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-2 px-1",children:["Voedingswaarden per 100",w," *"]}),P.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[P.jsx(Nc,{label:"Calorien (kcal)",value:I.calories,onChange:W=>K("calories",W)}),P.jsx(Nc,{label:"Eiwit (g)",value:I.protein,onChange:W=>K("protein",W)}),P.jsx(Nc,{label:"Koolhydraten (g)",value:I.carbs,onChange:W=>K("carbs",W)}),P.jsx(Nc,{label:"Suikers (g)",value:I.sugar,onChange:W=>K("sugar",W)}),P.jsx(Nc,{label:"Vet (g)",value:I.fat,onChange:W=>K("fat",W)}),P.jsx(Nc,{label:"Verz. vet (g)",value:I.saturatedFat,onChange:W=>K("saturatedFat",W)}),P.jsx(Nc,{label:"Vezels (g)",value:I.fiber,onChange:W=>K("fiber",W)})]}),P.jsxs("div",{className:"bg-ios-bg rounded-2xl p-4 mb-5 text-center",children:[P.jsx("div",{className:"text-[36px] font-bold text-primary leading-none",children:k}),P.jsxs("div",{className:"text-[13px] text-ios-secondary mt-1",children:["punten per 100",w]})]}),P.jsx("p",{className:"text-[13px] text-ios-secondary mb-4 px-1",children:'Tip: de voedingswaarden vind je op de verpakking of zoek online op "product voedingswaarde per 100g".'}),P.jsxs(eo,{fullWidth:!0,size:"lg",onClick:G,disabled:!L,children:["Opslaan  ",k," pt/100",w]})]})]})]})}function Nc({label:t,value:e,onChange:n}){return P.jsxs("div",{children:[P.jsx("label",{className:"text-[12px] text-ios-secondary block mb-0.5 px-1",children:t}),P.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0",value:e,onChange:r=>n(r.target.value),className:"bg-white rounded-xl px-3 py-2.5 text-[16px] w-full border border-ios-separator"})]})}const wQ=[{name:"Boterham wit",nutrition:{calories:264,protein:8.6,fat:3.2,saturatedFat:.7,unsaturatedFat:2.5,carbs:49,sugar:3.2,addedSugar:1,fiber:2.8},servingSizeG:35},{name:"Boterham bruin",nutrition:{calories:254,protein:9.4,fat:3.5,saturatedFat:.7,unsaturatedFat:2.8,carbs:44,sugar:3,addedSugar:1,fiber:5.4},servingSizeG:35},{name:"Boterham volkoren",nutrition:{calories:244,protein:10.2,fat:3.8,saturatedFat:.7,unsaturatedFat:3.1,carbs:40,sugar:2.8,addedSugar:.5,fiber:7.2},servingSizeG:35},{name:"Cruesli naturel",brand:"Quaker",nutrition:{calories:445,protein:10,fat:15,saturatedFat:5.8,unsaturatedFat:9.2,carbs:62,sugar:18,addedSugar:16,fiber:6.5},servingSizeG:45},{name:"Cruesli chocolade",brand:"Quaker",nutrition:{calories:452,protein:9,fat:16,saturatedFat:6.5,unsaturatedFat:9.5,carbs:63,sugar:22,addedSugar:20,fiber:5.5},servingSizeG:45},{name:"Cruesli rood fruit",brand:"Quaker",nutrition:{calories:420,protein:8.5,fat:12,saturatedFat:4.5,unsaturatedFat:7.5,carbs:65,sugar:24,addedSugar:18,fiber:5},servingSizeG:45},{name:"Havermout",nutrition:{calories:370,protein:13,fat:7,saturatedFat:1.2,unsaturatedFat:5.8,carbs:58,sugar:1.3,addedSugar:0,fiber:10},servingSizeG:40},{name:"Beschuit",nutrition:{calories:396,protein:9.8,fat:3.5,saturatedFat:.8,unsaturatedFat:2.7,carbs:78,sugar:8,addedSugar:6,fiber:3.5},servingSizeG:10},{name:"Ontbijtkoek",nutrition:{calories:318,protein:3.5,fat:2,saturatedFat:.5,unsaturatedFat:1.5,carbs:69,sugar:38,addedSugar:35,fiber:1.8},servingSizeG:30},{name:"Crackers volkoren",nutrition:{calories:398,protein:10,fat:9,saturatedFat:1.5,unsaturatedFat:7.5,carbs:64,sugar:3,addedSugar:2,fiber:8},servingSizeG:15},{name:"Hagelslag melk",nutrition:{calories:530,protein:5,fat:27,saturatedFat:16,unsaturatedFat:11,carbs:64,sugar:58,addedSugar:55,fiber:2.5},servingSizeG:10},{name:"Hagelslag puur",nutrition:{calories:505,protein:6,fat:25,saturatedFat:15,unsaturatedFat:10,carbs:60,sugar:52,addedSugar:50,fiber:5},servingSizeG:10},{name:"Pindakaas",nutrition:{calories:615,protein:25,fat:50,saturatedFat:8,unsaturatedFat:42,carbs:12,sugar:6,addedSugar:3,fiber:6},servingSizeG:15},{name:"Jam (aardbei)",nutrition:{calories:250,protein:.5,fat:.1,saturatedFat:0,unsaturatedFat:.1,carbs:61,sugar:47,addedSugar:40,fiber:.8},servingSizeG:15},{name:"Appelstroop",nutrition:{calories:285,protein:.8,fat:.3,saturatedFat:0,unsaturatedFat:.3,carbs:68,sugar:58,addedSugar:0,fiber:1},servingSizeG:15},{name:"Vlokken melk",nutrition:{calories:530,protein:5.5,fat:27,saturatedFat:16,unsaturatedFat:11,carbs:64,sugar:57,addedSugar:55,fiber:2},servingSizeG:10},{name:"Roomboter",nutrition:{calories:740,protein:.6,fat:82,saturatedFat:52,unsaturatedFat:30,carbs:.6,sugar:.6,addedSugar:0,fiber:0},servingSizeG:7},{name:"Margarine",nutrition:{calories:360,protein:.1,fat:40,saturatedFat:10,unsaturatedFat:30,carbs:.3,sugar:.3,addedSugar:0,fiber:0},servingSizeG:7},{name:"Goudse kaas jong",nutrition:{calories:356,protein:25,fat:28,saturatedFat:18,unsaturatedFat:10,carbs:0,sugar:0,addedSugar:0,fiber:0},servingSizeG:20},{name:"Goudse kaas oud",nutrition:{calories:403,protein:30,fat:31,saturatedFat:20,unsaturatedFat:11,carbs:0,sugar:0,addedSugar:0,fiber:0},servingSizeG:20},{name:"Goudse kaas belegen",nutrition:{calories:375,protein:27,fat:29,saturatedFat:19,unsaturatedFat:10,carbs:0,sugar:0,addedSugar:0,fiber:0},servingSizeG:20},{name:"Smeerkaas",nutrition:{calories:230,protein:11,fat:20,saturatedFat:12,unsaturatedFat:8,carbs:2,sugar:2,addedSugar:0,fiber:0},servingSizeG:20},{name:"Melk halfvol",nutrition:{calories:47,protein:3.4,fat:1.5,saturatedFat:1,unsaturatedFat:.5,carbs:4.7,sugar:4.7,addedSugar:0,fiber:0},servingSizeG:200},{name:"Melk vol",nutrition:{calories:65,protein:3.3,fat:3.5,saturatedFat:2.2,unsaturatedFat:1.3,carbs:4.7,sugar:4.7,addedSugar:0,fiber:0},servingSizeG:200},{name:"Melk mager",nutrition:{calories:35,protein:3.5,fat:.1,saturatedFat:.1,unsaturatedFat:0,carbs:4.9,sugar:4.9,addedSugar:0,fiber:0},servingSizeG:200},{name:"Karnemelk",nutrition:{calories:36,protein:3.3,fat:.5,saturatedFat:.3,unsaturatedFat:.2,carbs:4.1,sugar:4.1,addedSugar:0,fiber:0},servingSizeG:200},{name:"Yoghurt vol",nutrition:{calories:72,protein:4,fat:3.5,saturatedFat:2.2,unsaturatedFat:1.3,carbs:5.5,sugar:5.5,addedSugar:0,fiber:0},servingSizeG:150},{name:"Yoghurt mager",nutrition:{calories:40,protein:4.3,fat:.1,saturatedFat:.1,unsaturatedFat:0,carbs:5.5,sugar:5.5,addedSugar:0,fiber:0},servingSizeG:150},{name:"Vla vanille",nutrition:{calories:100,protein:3,fat:2.5,saturatedFat:1.6,unsaturatedFat:.9,carbs:16,sugar:13,addedSugar:10,fiber:0},servingSizeG:150},{name:"Vla chocolade",nutrition:{calories:108,protein:3.2,fat:2.5,saturatedFat:1.6,unsaturatedFat:.9,carbs:18,sugar:15,addedSugar:12,fiber:.5},servingSizeG:150},{name:"Kwark mager",nutrition:{calories:51,protein:9,fat:.2,saturatedFat:.1,unsaturatedFat:.1,carbs:3.5,sugar:3.5,addedSugar:0,fiber:0},servingSizeG:150},{name:"Kwark vol",nutrition:{calories:104,protein:7,fat:5.5,saturatedFat:3.5,unsaturatedFat:2,carbs:6,sugar:6,addedSugar:0,fiber:0},servingSizeG:150},{name:"Cottage cheese",nutrition:{calories:92,protein:12,fat:3.5,saturatedFat:2.2,unsaturatedFat:1.3,carbs:2,sugar:2,addedSugar:0,fiber:0},servingSizeG:100},{name:"Skyr naturel",nutrition:{calories:63,protein:11,fat:.2,saturatedFat:.1,unsaturatedFat:.1,carbs:4,sugar:4,addedSugar:0,fiber:0},servingSizeG:150},{name:"Koffie zwart",nutrition:{calories:2,protein:.3,fat:0,saturatedFat:0,unsaturatedFat:0,carbs:0,sugar:0,addedSugar:0,fiber:0},servingSizeG:150},{name:"Koffie met melk",nutrition:{calories:12,protein:.8,fat:.4,saturatedFat:.2,unsaturatedFat:.2,carbs:1.2,sugar:1.2,addedSugar:0,fiber:0},servingSizeG:170},{name:"Koffie met melk en suiker",nutrition:{calories:28,protein:.8,fat:.4,saturatedFat:.2,unsaturatedFat:.2,carbs:5.2,sugar:5.2,addedSugar:4,fiber:0},servingSizeG:175},{name:"Cappuccino",nutrition:{calories:40,protein:2,fat:1.5,saturatedFat:1,unsaturatedFat:.5,carbs:4,sugar:4,addedSugar:0,fiber:0},servingSizeG:200},{name:"Latte macchiato",nutrition:{calories:55,protein:3,fat:2.5,saturatedFat:1.5,unsaturatedFat:1,carbs:5,sugar:5,addedSugar:0,fiber:0},servingSizeG:250},{name:"Thee zonder suiker",nutrition:{calories:1,protein:0,fat:0,saturatedFat:0,unsaturatedFat:0,carbs:.3,sugar:0,addedSugar:0,fiber:0},servingSizeG:200},{name:"Thee met suiker",nutrition:{calories:20,protein:0,fat:0,saturatedFat:0,unsaturatedFat:0,carbs:5,sugar:5,addedSugar:5,fiber:0},servingSizeG:205},{name:"Jus d'orange (vers)",nutrition:{calories:43,protein:.7,fat:.2,saturatedFat:0,unsaturatedFat:.2,carbs:9.5,sugar:8.5,addedSugar:0,fiber:.2},servingSizeG:200},{name:"Appelsap",nutrition:{calories:46,protein:.1,fat:.1,saturatedFat:0,unsaturatedFat:.1,carbs:11,sugar:10,addedSugar:0,fiber:.1},servingSizeG:200},{name:"Cola",nutrition:{calories:42,protein:0,fat:0,saturatedFat:0,unsaturatedFat:0,carbs:10.6,sugar:10.6,addedSugar:10.6,fiber:0},servingSizeG:330},{name:"Cola zero",nutrition:{calories:.4,protein:0,fat:0,saturatedFat:0,unsaturatedFat:0,carbs:0,sugar:0,addedSugar:0,fiber:0},servingSizeG:330},{name:"Bier (pils)",nutrition:{calories:43,protein:.3,fat:0,saturatedFat:0,unsaturatedFat:0,carbs:3.2,sugar:0,addedSugar:0,fiber:0},servingSizeG:250},{name:"Wijn rood",nutrition:{calories:83,protein:.1,fat:0,saturatedFat:0,unsaturatedFat:0,carbs:2.6,sugar:.6,addedSugar:0,fiber:0},servingSizeG:150},{name:"Wijn wit",nutrition:{calories:82,protein:.1,fat:0,saturatedFat:0,unsaturatedFat:0,carbs:2.6,sugar:.8,addedSugar:0,fiber:0},servingSizeG:150},{name:"Kipfilet",nutrition:{calories:110,protein:24,fat:1.3,saturatedFat:.4,unsaturatedFat:.9,carbs:0,sugar:0,addedSugar:0,fiber:0},servingSizeG:150},{name:"Gehakt half om half",nutrition:{calories:215,protein:18,fat:15,saturatedFat:6.5,unsaturatedFat:8.5,carbs:0,sugar:0,addedSugar:0,fiber:0},servingSizeG:100},{name:"Gehakt rund mager",nutrition:{calories:156,protein:21,fat:8,saturatedFat:3.5,unsaturatedFat:4.5,carbs:0,sugar:0,addedSugar:0,fiber:0},servingSizeG:100},{name:"Rookworst",nutrition:{calories:275,protein:12,fat:24,saturatedFat:9,unsaturatedFat:15,carbs:2,sugar:1,addedSugar:0,fiber:0},servingSizeG:100},{name:"Frikandel",nutrition:{calories:235,protein:10,fat:18,saturatedFat:7,unsaturatedFat:11,carbs:8,sugar:1,addedSugar:0,fiber:.5},servingSizeG:80},{name:"Kroket",nutrition:{calories:210,protein:6,fat:13,saturatedFat:5,unsaturatedFat:8,carbs:17,sugar:1,addedSugar:0,fiber:.5},servingSizeG:65},{name:"Kaassouffl",nutrition:{calories:280,protein:8,fat:19,saturatedFat:8,unsaturatedFat:11,carbs:19,sugar:1,addedSugar:0,fiber:.5},servingSizeG:100},{name:"Zalm (gebakken)",nutrition:{calories:206,protein:20,fat:13,saturatedFat:2.5,unsaturatedFat:10.5,carbs:0,sugar:0,addedSugar:0,fiber:0},servingSizeG:125},{name:"Kibbelng",nutrition:{calories:225,protein:14,fat:12,saturatedFat:2,unsaturatedFat:10,carbs:15,sugar:1,addedSugar:0,fiber:.5},servingSizeG:150},{name:"Tonijn in water (blik)",nutrition:{calories:108,protein:24,fat:1,saturatedFat:.3,unsaturatedFat:.7,carbs:0,sugar:0,addedSugar:0,fiber:0},servingSizeG:120},{name:"Aardappelen gekookt",nutrition:{calories:80,protein:2,fat:.1,saturatedFat:0,unsaturatedFat:.1,carbs:17,sugar:.8,addedSugar:0,fiber:2},servingSizeG:200},{name:"Patat / Friet",nutrition:{calories:290,protein:3.5,fat:15,saturatedFat:3,unsaturatedFat:12,carbs:35,sugar:.5,addedSugar:0,fiber:3},servingSizeG:200},{name:"Stamppot boerenkool",nutrition:{calories:95,protein:4,fat:3.5,saturatedFat:1.5,unsaturatedFat:2,carbs:11,sugar:2,addedSugar:0,fiber:3},servingSizeG:250},{name:"Stamppot andijvie",nutrition:{calories:85,protein:3.5,fat:3,saturatedFat:1.5,unsaturatedFat:1.5,carbs:10,sugar:1.5,addedSugar:0,fiber:2.5},servingSizeG:250},{name:"Erwtensoep",nutrition:{calories:80,protein:5,fat:2.5,saturatedFat:1,unsaturatedFat:1.5,carbs:9,sugar:1.5,addedSugar:0,fiber:3},servingSizeG:300},{name:"Tosti ham kaas",nutrition:{calories:260,protein:13,fat:12,saturatedFat:6,unsaturatedFat:6,carbs:25,sugar:2,addedSugar:0,fiber:1.5},servingSizeG:120},{name:"Broodje gezond",nutrition:{calories:180,protein:10,fat:6,saturatedFat:2,unsaturatedFat:4,carbs:22,sugar:3,addedSugar:0,fiber:3},servingSizeG:150},{name:"Uitsmijter (2 eieren)",nutrition:{calories:195,protein:14,fat:12,saturatedFat:4,unsaturatedFat:8,carbs:8,sugar:1,addedSugar:0,fiber:1},servingSizeG:200},{name:"Stroopwafel",nutrition:{calories:450,protein:4,fat:19,saturatedFat:9,unsaturatedFat:10,carbs:65,sugar:35,addedSugar:33,fiber:1},servingSizeG:30},{name:"Gevulde koek",nutrition:{calories:430,protein:7,fat:22,saturatedFat:8,unsaturatedFat:14,carbs:50,sugar:28,addedSugar:25,fiber:3},servingSizeG:55},{name:"Appeltaart",nutrition:{calories:260,protein:3,fat:12,saturatedFat:6,unsaturatedFat:6,carbs:35,sugar:20,addedSugar:15,fiber:1.5},servingSizeG:120},{name:"Tompouce",nutrition:{calories:310,protein:3,fat:15,saturatedFat:9,unsaturatedFat:6,carbs:40,sugar:28,addedSugar:25,fiber:.5},servingSizeG:100},{name:"Bitterbal",nutrition:{calories:260,protein:8,fat:16,saturatedFat:6,unsaturatedFat:10,carbs:20,sugar:1,addedSugar:0,fiber:.5},servingSizeG:30},{name:"Chips naturel",nutrition:{calories:536,protein:6,fat:34,saturatedFat:3,unsaturatedFat:31,carbs:50,sugar:1,addedSugar:0,fiber:4},servingSizeG:30},{name:"Nootjes gezouten",nutrition:{calories:607,protein:20,fat:52,saturatedFat:7,unsaturatedFat:45,carbs:14,sugar:5,addedSugar:0,fiber:7},servingSizeG:30},{name:"Ei gekookt",nutrition:{calories:155,protein:13,fat:11,saturatedFat:3.3,unsaturatedFat:7.7,carbs:1.1,sugar:1.1,addedSugar:0,fiber:0},servingSizeG:60},{name:"Spiegelei",nutrition:{calories:196,protein:14,fat:15,saturatedFat:4,unsaturatedFat:11,carbs:.8,sugar:.8,addedSugar:0,fiber:0},servingSizeG:60},{name:"Roerei",nutrition:{calories:160,protein:11,fat:12,saturatedFat:4,unsaturatedFat:8,carbs:1.5,sugar:1.5,addedSugar:0,fiber:0},servingSizeG:100},{name:"Appel",nutrition:{calories:52,protein:.3,fat:.2,saturatedFat:0,unsaturatedFat:.2,carbs:12,sugar:10,addedSugar:0,fiber:2.4},servingSizeG:150},{name:"Banaan",nutrition:{calories:89,protein:1.1,fat:.3,saturatedFat:.1,unsaturatedFat:.2,carbs:20,sugar:12,addedSugar:0,fiber:2.6},servingSizeG:120},{name:"Sinaasappel",nutrition:{calories:47,protein:.9,fat:.1,saturatedFat:0,unsaturatedFat:.1,carbs:10,sugar:9.4,addedSugar:0,fiber:2.4},servingSizeG:150},{name:"Mandarijn",nutrition:{calories:53,protein:.8,fat:.3,saturatedFat:0,unsaturatedFat:.3,carbs:12,sugar:11,addedSugar:0,fiber:1.8},servingSizeG:75},{name:"Druiven",nutrition:{calories:69,protein:.7,fat:.2,saturatedFat:0,unsaturatedFat:.2,carbs:16,sugar:16,addedSugar:0,fiber:.9},servingSizeG:100},{name:"Witte rijst (gekookt)",nutrition:{calories:130,protein:2.7,fat:.3,saturatedFat:.1,unsaturatedFat:.2,carbs:28,sugar:0,addedSugar:0,fiber:.4},servingSizeG:200},{name:"Zilvervliesrijst (gekookt)",nutrition:{calories:123,protein:2.7,fat:1,saturatedFat:.2,unsaturatedFat:.8,carbs:25,sugar:.4,addedSugar:0,fiber:1.8},servingSizeG:200},{name:"Pasta (gekookt)",nutrition:{calories:157,protein:5.8,fat:.9,saturatedFat:.2,unsaturatedFat:.7,carbs:31,sugar:.6,addedSugar:0,fiber:1.8},servingSizeG:200},{name:"Nasi goreng",nutrition:{calories:145,protein:4,fat:5,saturatedFat:1.5,unsaturatedFat:3.5,carbs:21,sugar:2,addedSugar:0,fiber:1},servingSizeG:300},{name:"Bami goreng",nutrition:{calories:140,protein:4,fat:4.5,saturatedFat:1.5,unsaturatedFat:3,carbs:21,sugar:2,addedSugar:0,fiber:1},servingSizeG:300},{name:"Mayonaise",nutrition:{calories:680,protein:1,fat:75,saturatedFat:6,unsaturatedFat:69,carbs:1,sugar:1,addedSugar:0,fiber:0},servingSizeG:15},{name:"Ketchup",nutrition:{calories:112,protein:1.2,fat:.1,saturatedFat:0,unsaturatedFat:.1,carbs:26,sugar:22,addedSugar:18,fiber:.3},servingSizeG:15},{name:"Mosterd",nutrition:{calories:66,protein:4,fat:3.5,saturatedFat:.2,unsaturatedFat:3.3,carbs:4,sugar:2.5,addedSugar:0,fiber:3},servingSizeG:10},{name:"Satsaus",nutrition:{calories:155,protein:6,fat:10,saturatedFat:2,unsaturatedFat:8,carbs:10,sugar:6,addedSugar:3,fiber:1},servingSizeG:30},{name:"Fritessaus",nutrition:{calories:340,protein:.5,fat:33,saturatedFat:3,unsaturatedFat:30,carbs:11,sugar:8,addedSugar:6,fiber:0},servingSizeG:20}],N2=[{name:"Fruit",icon:"",items:["Appel","Banaan","Sinaasappel","Mandarijn","Druiven","Aardbei","Blauwe bes","Framboos","Watermeloen","Mango","Ananas","Kiwi","Peer","Perzik","Pruim","Grapefruit"]},{name:"Groenten",icon:"",items:["Broccoli","Sperziebonen","Spinazie","Tomaat","Komkommer","Wortel","Paprika","Courgette","Bloemkool","Sla","Champignon","Ui","Aubergine","Boerenkool","Andijvie","Spruitjes","Asperge","Selderij","Radijs","Prei"]},{name:"Eiwit",icon:"",items:["Kipfilet","Kalkoenfilet","Ei","Gekookt ei","Tonijn (in water)","Garnalen","Kabeljauw","Zalm","Tilapia","Pangasius"]},{name:"Zuivel",icon:"",items:["Magere yoghurt","Magere kwark","Skyr","Cottage cheese"]},{name:"Peulvruchten",icon:"",items:["Kidneybonen","Kikkererwten","Linzen","Zwarte bonen","Witte bonen","Tuinbonen"]}],EQ=N2.flatMap(t=>t.items);function Sk(t){const e=t.toLowerCase();return EQ.some(n=>{const r=n.toLowerCase().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(`\\b${r}\\b`).test(e)})}const Ck="https://nl.openfoodfacts.org";function _Q(t){if(!t)return{calories:0,protein:0,fat:0,saturatedFat:0,unsaturatedFat:0,carbs:0,sugar:0,addedSugar:0,fiber:0};const e=t.fat_100g??0,n=t["saturated-fat_100g"]??0;return{calories:t["energy-kcal_100g"]??0,protein:t.proteins_100g??0,fat:e,saturatedFat:n,unsaturatedFat:Math.max(0,e-n),carbs:t.carbohydrates_100g??0,sugar:t.sugars_100g??0,addedSugar:t.sugars_100g??0,fiber:t.fiber_100g??0}}function AQ(t){const e=[t.serving_size,t.quantity].filter(Boolean).join(" ").toLowerCase();return/\bml\b|\bliter\b|\bcl\b|\bdl\b/.test(e)?"ml":"g"}function R2(t){const e=t.product_name_nl||t.product_name;if(!e)return null;const n=_Q(t.nutriments);if(n.calories===0&&n.protein===0&&n.fat===0)return null;const r=Sk(e),i=r?0:lm(n),a=AQ(t);return{name:e,brand:t.brands||void 0,barcode:t.code||void 0,nutrition:n,pointsPer100g:i,servingSizeG:t.serving_quantity||100,unit:a,isZeroPoint:r,source:"openfoodfacts",imageUrl:t.image_front_small_url||void 0,createdAt:new Date}}function Tk(t){const e=t.toLowerCase();return wQ.filter(n=>n.name.toLowerCase().includes(e)).map(n=>{const r=Sk(n.name),i=r?0:lm(n.nutrition);return{...n,pointsPer100g:i,isZeroPoint:r,source:"nevo",createdAt:new Date}})}async function SQ(t){const e=t.toLowerCase();return(await at.foodItems.toArray()).filter(r=>r.name.toLowerCase().includes(e))}async function Ik(t,e){if(!t||t.length<2)return[];const n=Tk(t);try{const r=new URLSearchParams({search_terms:t,search_simple:"1",action:"process",json:"1",page_size:"20",fields:"product_name,product_name_nl,brands,code,nutriments,serving_quantity,serving_size,quantity,image_front_small_url",lc:"nl",tagtype_0:"countries",tag_contains_0:"contains",tag_0:"Netherlands"}),i=fetch(`${Ck}/cgi/search.pl?${r}`,{signal:e}),a=new URLSearchParams({search_terms:t,search_simple:"1",action:"process",json:"1",page_size:"10",fields:"product_name,product_name_nl,brands,code,nutriments,serving_quantity,serving_size,quantity,image_front_small_url",lc:"nl"}),c=fetch(`https://world.openfoodfacts.org/cgi/search.pl?${a}`,{signal:e}),h=await i;if(!h.ok)return n;let w=((await h.json()).products||[]).map(R2).filter(R=>R!==null);if(w.length<3)try{const R=await c;if(R.ok){const L=((await R.json()).products||[]).map(R2).filter(K=>K!==null),G=new Set(w.map(K=>K.name.toLowerCase()));for(const K of L)G.has(K.name.toLowerCase())||(w.push(K),G.add(K.name.toLowerCase()))}}catch{}const A=new Set(n.map(R=>R.name.toLowerCase())),I=[...n];for(const R of w)A.has(R.name.toLowerCase())||(I.push(R),A.add(R.name.toLowerCase()));return I}catch(r){return r instanceof DOMException&&r.name==="AbortError"?[]:(console.error("Zoekfout:",r),n)}}const zO="product_name,product_name_nl,brands,code,nutriments,serving_quantity,serving_size,quantity,image_front_small_url";async function CQ(t){try{const e=await at.foodItems.where("barcode").equals(t).first();if(e)return e}catch{}try{const e=await HO(`${Ck}/api/v2/product/${t}?fields=${zO}`);if(e)return await qO(e),e}catch{}try{const e=await HO(`https://world.openfoodfacts.org/api/v2/product/${t}?fields=${zO}`);if(e)return await qO(e),e}catch(e){console.error("Barcode lookup fout:",e)}return null}async function qO(t){if(t.barcode)try{await at.foodItems.where("barcode").equals(t.barcode).first()||await at.foodItems.add({...t,source:"openfoodfacts"})}catch{}}async function HO(t){const e=await fetch(t);if(!e.ok)return null;const n=await e.json();return n.status!==1||!n.product?null:R2(n.product)}function TQ({onCreated:t,onClose:e}){const[n,r]=D.useState(""),[i,a]=D.useState([]),[c,h]=D.useState(""),[y,g]=D.useState([]),[w,A]=D.useState(!1),I=D.useRef(null),R=D.useCallback(async H=>{if(H.length<2){g([]);return}A(!0);const ae=await Ik(H);g(ae),A(!1)},[]),j=H=>{h(H),I.current&&clearTimeout(I.current),I.current=setTimeout(()=>R(H),400)},k=H=>{a(ae=>[...ae,{food:H,quantityG:H.servingSizeG||100}]),h(""),g([])},L=(H,ae)=>{a(ie=>ie.map((Z,J)=>J===H?{...Z,quantityG:Math.max(1,ae)}:Z))},G=H=>{a(ae=>ae.filter((ie,Z)=>Z!==H))},K=i.reduce((H,ae)=>H+ae.quantityG,0),W=i.reduce((H,ae)=>{const ie=ae.quantityG/100;return{calories:H.calories+ae.food.nutrition.calories*ie,protein:H.protein+ae.food.nutrition.protein*ie,fat:H.fat+ae.food.nutrition.fat*ie,saturatedFat:H.saturatedFat+ae.food.nutrition.saturatedFat*ie,unsaturatedFat:H.unsaturatedFat+ae.food.nutrition.unsaturatedFat*ie,carbs:H.carbs+ae.food.nutrition.carbs*ie,sugar:H.sugar+ae.food.nutrition.sugar*ie,addedSugar:H.addedSugar+ae.food.nutrition.addedSugar*ie,fiber:H.fiber+ae.food.nutrition.fiber*ie}},{calories:0,protein:0,fat:0,saturatedFat:0,unsaturatedFat:0,carbs:0,sugar:0,addedSugar:0,fiber:0}),ne=K>0?{calories:Math.round(W.calories/K*100),protein:+(W.protein/K*100).toFixed(1),fat:+(W.fat/K*100).toFixed(1),saturatedFat:+(W.saturatedFat/K*100).toFixed(1),unsaturatedFat:+(W.unsaturatedFat/K*100).toFixed(1),carbs:+(W.carbs/K*100).toFixed(1),sugar:+(W.sugar/K*100).toFixed(1),addedSugar:+(W.addedSugar/K*100).toFixed(1),fiber:+(W.fiber/K*100).toFixed(1)}:{calories:0,protein:0,fat:0,saturatedFat:0,unsaturatedFat:0,carbs:0,sugar:0,addedSugar:0,fiber:0},fe=lm(ne),Q=K>0?Math.max(0,Math.round(fe*K/100)):0,U=n.trim().length>=2&&i.length>=2,$=async()=>{if(!U)return;const H=await O_({name:n.trim(),nutrition:ne,pointsPer100g:fe,servingSizeG:Math.round(K),isZeroPoint:fe===0,isFavorite:!0,source:"user"});t(H)};return P.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center animate-fade-in",children:[P.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),P.jsxs("div",{className:"relative bg-white rounded-t-3xl w-full max-w-lg animate-slide-up overflow-y-auto",style:{paddingBottom:"calc(20px + var(--safe-area-bottom))",maxHeight:"92vh"},children:[P.jsx("div",{className:"flex justify-center pt-3 pb-2",children:P.jsx("div",{className:"w-9 h-1 rounded-full bg-ios-separator"})}),P.jsx("button",{onClick:e,className:"absolute top-3 right-3 w-8 h-8 rounded-full bg-ios-bg flex items-center justify-center border-none cursor-pointer",children:P.jsx(Td,{size:18,className:"text-ios-secondary"})}),P.jsxs("div",{className:"px-5 pb-4",children:[P.jsx("h2",{className:"text-[20px] font-bold mb-4",children:"Samengesteld product"}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1 px-1",children:"Naam *"}),P.jsx("input",{type:"text",placeholder:"bijv. Tosti ham-kaas",value:n,onChange:H=>r(H.target.value),className:"bg-white rounded-xl px-4 py-3 text-[16px] w-full border border-ios-separator"})]}),P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1 px-1",children:"Ingredinten toevoegen"}),P.jsxs("div",{className:"relative mb-3",children:[P.jsx(N0,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-ios-secondary"}),P.jsx("input",{type:"text",placeholder:"Zoek ingredint...",value:c,onChange:H=>j(H.target.value),className:"bg-white rounded-xl pl-9 pr-4 py-2.5 text-[15px] w-full border border-ios-separator"}),w&&P.jsx(ec,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-ios-secondary animate-spin"})]}),y.length>0&&P.jsx("div",{className:"bg-white border border-ios-separator rounded-xl mb-3 max-h-40 overflow-y-auto",children:y.slice(0,8).map((H,ae)=>P.jsxs("button",{onClick:()=>k(H),className:"w-full flex items-center gap-2 px-3 py-2 text-left bg-transparent border-none cursor-pointer active:bg-gray-50 text-[14px]",children:[P.jsx(Yp,{size:14,className:"text-primary flex-shrink-0"}),P.jsx("span",{className:"truncate",children:H.name}),P.jsxs("span",{className:"text-ios-secondary text-[12px] ml-auto flex-shrink-0",children:[H.pointsPer100g," pt"]})]},`${H.name}-${ae}`))}),i.length>0&&P.jsx("div",{className:"bg-ios-bg rounded-xl mb-4",children:i.map((H,ae)=>P.jsxs("div",{className:`flex items-center gap-2 px-3 py-2.5 ${ae<i.length-1?"border-b border-ios-separator":""}`,children:[P.jsx("div",{className:"flex-1 min-w-0",children:P.jsx("div",{className:"text-[14px] font-medium truncate",children:H.food.name})}),P.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[P.jsx("button",{onClick:()=>L(ae,H.quantityG-10),className:"w-7 h-7 rounded-full bg-white flex items-center justify-center border-none cursor-pointer text-ios-secondary",children:P.jsx(dk,{size:12})}),P.jsx("input",{type:"number",value:H.quantityG,onChange:ie=>L(ae,Number(ie.target.value)),className:"w-14 text-center bg-white rounded-lg px-1 py-1 text-[14px] border border-ios-separator"}),P.jsx("span",{className:"text-[12px] text-ios-secondary",children:"g"}),P.jsx("button",{onClick:()=>L(ae,H.quantityG+10),className:"w-7 h-7 rounded-full bg-white flex items-center justify-center border-none cursor-pointer text-ios-secondary",children:P.jsx(Yp,{size:12})}),P.jsx("button",{onClick:()=>G(ae),className:"w-7 h-7 rounded-full flex items-center justify-center border-none cursor-pointer text-ios-destructive bg-transparent",children:P.jsx(Td,{size:14})})]})]},`${H.food.name}-${ae}`))}),i.length<2&&P.jsx("p",{className:"text-[13px] text-ios-secondary text-center mb-4",children:"Voeg minimaal 2 ingredinten toe"}),i.length>=2&&P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"bg-ios-bg rounded-2xl p-4 mb-3 text-center",children:[P.jsx("div",{className:"text-[36px] font-bold text-primary leading-none",children:Q}),P.jsxs("div",{className:"text-[13px] text-ios-secondary mt-1",children:["punten totaal (",Math.round(K),"g)  ",fe," pt/100g"]})]}),P.jsxs("div",{className:"flex justify-around mb-4 py-2 bg-ios-bg rounded-xl text-center",children:[P.jsxs("div",{children:[P.jsx("div",{className:"text-[14px] font-semibold",children:Math.round(W.calories)}),P.jsx("div",{className:"text-[11px] text-ios-secondary",children:"kcal"})]}),P.jsxs("div",{children:[P.jsxs("div",{className:"text-[14px] font-semibold",children:[W.protein.toFixed(1),"g"]}),P.jsx("div",{className:"text-[11px] text-ios-secondary",children:"eiwit"})]}),P.jsxs("div",{children:[P.jsxs("div",{className:"text-[14px] font-semibold",children:[W.carbs.toFixed(1),"g"]}),P.jsx("div",{className:"text-[11px] text-ios-secondary",children:"koolh."})]}),P.jsxs("div",{children:[P.jsxs("div",{className:"text-[14px] font-semibold",children:[W.fat.toFixed(1),"g"]}),P.jsx("div",{className:"text-[11px] text-ios-secondary",children:"vet"})]})]})]}),P.jsxs(eo,{fullWidth:!0,size:"lg",onClick:$,disabled:!U,children:["Opslaan  ",Q," pt"]})]})]})]})}function IQ(){const[t]=UU(),e=t.get("meal")||"lunch",[n,r]=D.useState("recent"),[i,a]=D.useState(""),[c,h]=D.useState([]),[y,g]=D.useState([]),[w,A]=D.useState([]),[I,R]=D.useState(!1),[j,k]=D.useState(!0),[L,G]=D.useState(null),[K,W]=D.useState(!1),[ne,fe]=D.useState(!1),[Q,U]=D.useState(!1),$=D.useRef(null),H=D.useRef(null),ae=D.useRef(null),ie=vy(Ue=>Ue.addEntry);D.useEffect(()=>{Z()},[]);const Z=async()=>{k(!0);const[Ue,st]=await Promise.all([OO(),NO()]);g(Ue),A(st),k(!1)},J=D.useCallback(async Ue=>{if(Ue.length<2){h([]),U(!1);return}H.current&&H.current.abort();const st=new AbortController;H.current=st;const he=new Set(w.map(et=>et.name.toLowerCase())),_e=et=>et.map(Tt=>({...Tt,isFavorite:he.has(Tt.name.toLowerCase())})),Ge=Tk(Ue),Fe=await SQ(Ue),dt=new Set(Ge.map(et=>et.name.toLowerCase())),Ne=[...Ge];for(const et of Fe)dt.has(et.name.toLowerCase())||(Ne.push(et),dt.add(et.name.toLowerCase()));!st.signal.aborted&&Ne.length>0&&(h(_e(Ne)),U(!0)),R(!0);try{const et=await Ik(Ue,st.signal);st.signal.aborted||(h(_e(et)),R(!1),U(!0))}catch{st.signal.aborted||R(!1)}},[w]),Be=Ue=>{a(Ue),Ue.length>=2&&r("search"),$.current&&clearTimeout($.current),$.current=setTimeout(()=>J(Ue),300)},pe=async Ue=>{const st=await CY(Ue),he=Ge=>Ge.map(Fe=>Fe.name.toLowerCase()===Ue.name.toLowerCase()?{...Fe,isFavorite:st}:Fe);g(he),h(he);const _e=await NO();A(_e)},ve=async(Ue,st,he)=>{if(!L)return;const Ge=um(L.pointsPer100g,Ue)*(he||1);await ie({foodItem:L,mealType:st,quantityG:Ue,quantity:he,points:Ge}),navigator.vibrate?.(10),G(null);const Fe=await OO();g(Fe)},Ae=Ue=>{W(!1),fe(!1),G(Ue),Z()},We=Ue=>{r(Ue),Ue==="search"&&setTimeout(()=>ae.current?.focus(),100)};return P.jsxs(rf,{title:"Zoek voedsel",children:[P.jsxs("div",{className:"flex flex-col gap-3",children:[P.jsxs("div",{className:"relative",children:[P.jsx(N0,{size:18,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-ios-secondary"}),P.jsx("input",{ref:ae,type:"text",placeholder:"Zoek een product...",value:i,onChange:Ue=>Be(Ue.target.value),onFocus:()=>i.length>=2&&r("search"),className:"bg-white rounded-xl pl-10 pr-4 py-3 text-[17px] w-full shadow-sm"}),I&&P.jsx(ec,{size:18,className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-ios-secondary animate-spin"})]}),P.jsxs("div",{className:"flex gap-1 bg-ios-bg rounded-xl p-1",children:[P.jsx(Bg,{active:n==="recent",onClick:()=>We("recent"),icon:P.jsx(ck,{size:14}),label:"Recent"}),P.jsx(Bg,{active:n==="favorites",onClick:()=>We("favorites"),icon:P.jsx(R_,{size:14}),label:"Favorieten"}),P.jsx(Bg,{active:n==="zeropoint",onClick:()=>We("zeropoint"),icon:P.jsx(D$,{size:14}),label:"0 Punten"}),P.jsx(Bg,{active:n==="search",onClick:()=>We("search"),icon:P.jsx(N0,{size:14}),label:"Zoeken"})]}),n==="recent"&&P.jsx(OQ,{foods:y,isLoading:j,onSelect:G,onToggleFavorite:pe}),n==="favorites"&&P.jsx(NQ,{foods:w,isLoading:j,onSelect:G,onToggleFavorite:pe}),n==="zeropoint"&&P.jsx(RQ,{onSelect:G}),n==="search"&&P.jsx(PQ,{results:c,isSearching:I,hasSearched:Q,query:i,onSelect:G,onToggleFavorite:pe}),P.jsxs("div",{className:"flex gap-2",children:[P.jsxs("button",{onClick:()=>W(!0),className:"flex-1 flex items-center justify-center gap-2 py-3.5 bg-white rounded-xl border border-dashed border-ios-separator text-[15px] font-medium text-primary cursor-pointer active:bg-gray-50 transition-colors",children:[P.jsx(Yp,{size:18}),"Eigen product"]}),P.jsxs("button",{onClick:()=>fe(!0),className:"flex-1 flex items-center justify-center gap-2 py-3.5 bg-white rounded-xl border border-dashed border-ios-separator text-[15px] font-medium text-ios-blue cursor-pointer active:bg-gray-50 transition-colors",children:[P.jsx(n$,{size:18}),"Samengesteld"]})]})]}),L&&P.jsx(Ak,{food:L,defaultMealType:e,onAdd:ve,onClose:()=>G(null)}),K&&P.jsx(bQ,{onCreated:Ae,onClose:()=>W(!1)}),ne&&P.jsx(TQ,{onCreated:Ae,onClose:()=>fe(!1)})]})}function Bg({active:t,onClick:e,icon:n,label:r}){return P.jsxs("button",{onClick:e,className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-[13px] font-medium border-none cursor-pointer transition-colors ${t?"bg-white text-primary shadow-sm":"bg-transparent text-ios-secondary"}`,children:[n,r]})}function OQ({foods:t,isLoading:e,onSelect:n,onToggleFavorite:r}){return e?P.jsx("div",{className:"flex justify-center py-12",children:P.jsx(ec,{size:24,className:"text-ios-secondary animate-spin"})}):t.length===0?P.jsxs("div",{className:"text-center py-12",children:[P.jsx(ck,{size:48,className:"text-ios-separator mx-auto mb-3"}),P.jsx("p",{className:"text-[17px] text-ios-secondary",children:"Nog geen producten gebruikt"}),P.jsx("p",{className:"text-[13px] text-ios-secondary mt-1",children:"Producten die je logt verschijnen hier automatisch"})]}):P.jsx(Tn,{children:t.map((i,a)=>P.jsx("div",{className:a<t.length-1?"border-b border-ios-separator":"",children:P.jsx(D_,{food:i,onSelect:n,onToggleFavorite:r})},`recent-${i.name}-${a}`))})}function NQ({foods:t,isLoading:e,onSelect:n,onToggleFavorite:r}){return e?P.jsx("div",{className:"flex justify-center py-12",children:P.jsx(ec,{size:24,className:"text-ios-secondary animate-spin"})}):t.length===0?P.jsxs("div",{className:"text-center py-12",children:[P.jsx(R_,{size:48,className:"text-ios-separator mx-auto mb-3"}),P.jsx("p",{className:"text-[17px] text-ios-secondary",children:"Geen favorieten"}),P.jsx("p",{className:"text-[13px] text-ios-secondary mt-1",children:"Tik op het hartje om een product als favoriet op te slaan"})]}):P.jsx(Tn,{children:t.map((i,a)=>P.jsx("div",{className:a<t.length-1?"border-b border-ios-separator":"",children:P.jsx(D_,{food:{...i,isFavorite:!0},onSelect:n,onToggleFavorite:r})},`fav-${i.id??i.name}-${a}`))})}function RQ({onSelect:t}){const[e,n]=D.useState(N2[0]?.name??null),r=i=>({name:i,nutrition:{calories:0,protein:0,fat:0,saturatedFat:0,unsaturatedFat:0,carbs:0,sugar:0,addedSugar:0,fiber:0},pointsPer100g:0,servingSizeG:100,isZeroPoint:!0,source:"nevo",createdAt:new Date});return P.jsx("div",{className:"flex flex-col gap-2",children:N2.map(i=>{const a=e===i.name;return P.jsxs(Tn,{children:[P.jsxs("button",{onClick:()=>n(a?null:i.name),className:"w-full flex items-center justify-between px-4 py-3 border-none bg-transparent cursor-pointer",children:[P.jsxs("div",{className:"flex items-center gap-2.5",children:[P.jsx("span",{className:"text-lg",children:i.icon}),P.jsx("span",{className:"text-[15px] font-semibold",children:i.name}),P.jsxs("span",{className:"text-[13px] text-ios-secondary",children:["(",i.items.length,")"]})]}),a?P.jsx(uk,{size:18,className:"text-ios-secondary"}):P.jsx(N_,{size:18,className:"text-ios-secondary"})]}),a&&P.jsx("div",{className:"border-t border-ios-separator",children:i.items.map((c,h)=>P.jsxs("button",{onClick:()=>t(r(c)),className:`w-full flex items-center justify-between px-4 py-2.5 border-none bg-transparent cursor-pointer active:bg-gray-50 text-left ${h<i.items.length-1?"border-b border-ios-separator":""}`,children:[P.jsx("span",{className:"text-[15px]",children:c}),P.jsx("span",{className:"text-[13px] font-medium text-primary",children:"0 pt"})]},c))})]},i.name)})})}function PQ({results:t,isSearching:e,hasSearched:n,query:r,onSelect:i,onToggleFavorite:a}){return t.length>0?P.jsx(Tn,{children:t.map((c,h)=>P.jsx("div",{className:h<t.length-1?"border-b border-ios-separator":"",children:P.jsx(D_,{food:c,onSelect:i,onToggleFavorite:a})},`search-${c.barcode??c.name}-${h}`))}):n&&t.length===0&&!e?P.jsxs("div",{className:"text-center py-12",children:[P.jsxs("p",{className:"text-[17px] text-ios-secondary",children:['Geen resultaten voor "',r,'"']}),P.jsx("p",{className:"text-[13px] text-ios-secondary mt-1",children:"Probeer een andere zoekterm of maak een eigen product aan"})]}):P.jsxs("div",{className:"text-center py-12",children:[P.jsx(N0,{size:48,className:"text-ios-separator mx-auto mb-3"}),P.jsx("p",{className:"text-[17px] text-ios-secondary",children:"Zoek op productnaam of merk"}),P.jsx("p",{className:"text-[13px] text-ios-secondary mt-1",children:"Of gebruik de scanner voor barcodes"})]})}var yt;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(yt||(yt={}));var GO=new Map([[yt.QR_CODE,"QR_CODE"],[yt.AZTEC,"AZTEC"],[yt.CODABAR,"CODABAR"],[yt.CODE_39,"CODE_39"],[yt.CODE_93,"CODE_93"],[yt.CODE_128,"CODE_128"],[yt.DATA_MATRIX,"DATA_MATRIX"],[yt.MAXICODE,"MAXICODE"],[yt.ITF,"ITF"],[yt.EAN_13,"EAN_13"],[yt.EAN_8,"EAN_8"],[yt.PDF_417,"PDF_417"],[yt.RSS_14,"RSS_14"],[yt.RSS_EXPANDED,"RSS_EXPANDED"],[yt.UPC_A,"UPC_A"],[yt.UPC_E,"UPC_E"],[yt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),WO;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(WO||(WO={}));function DQ(t){return Object.values(yt).includes(t)}var Zp;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Zp||(Zp={}));var MQ=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Zp.SCAN_TYPE_CAMERA,Zp.SCAN_TYPE_FILE],t})(),Ok=(function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!GO.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,GO.get(e))},t})(),KO=(function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),P2;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(P2||(P2={}));var kQ=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:P2.UNKWOWN_ERROR}},t})(),jQ=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function Rl(t){return typeof t>"u"||t===null}var ld=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),Nk=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),c=Object.keys(e),h=0,y=c;h<y.length;h++){var g=y[h];if(a.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},t})(),n0={exports:{}},LQ=n0.exports,YO;function BQ(){return YO||(YO=1,(function(t,e){(function(n,r){r(e)})(LQ,(function(n){function r(Y){return Y==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,o){Y.__proto__=o}||function(Y,o){for(var u in o)o.hasOwnProperty(u)&&(Y[u]=o[u])};function a(Y,o){i(Y,o);function u(){this.constructor=Y}Y.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}function c(Y,o){var u=Object.setPrototypeOf;u?u(Y,o):Y.__proto__=o}function h(Y,o){o===void 0&&(o=Y.constructor);var u=Error.captureStackTrace;u&&u(Y,o)}var y=(function(Y){a(o,Y);function o(u){var d=this.constructor,p=Y.call(this,u)||this;return Object.defineProperty(p,"name",{value:d.name,enumerable:!1}),c(p,d.prototype),h(p),p}return o})(Error);class g extends y{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}g.kind="Exception";class w extends g{}w.kind="ArgumentException";class A extends g{}A.kind="IllegalArgumentException";class I{constructor(o){if(this.binarizer=o,o===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,u){return this.binarizer.getBlackRow(o,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,u,d,p){const x=this.binarizer.getLuminanceSource().crop(o,u,d,p);return new I(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends g{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class j{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(o,u,d,p,x){for(;x--;)d[p++]=o[u++]}static currentTimeMillis(){return Date.now()}}class L extends g{}L.kind="IndexOutOfBoundsException";class G extends L{constructor(o=void 0,u=void 0){super(u),this.index=o,this.message=u}}G.kind="ArrayIndexOutOfBoundsException";class K{static fill(o,u){for(let d=0,p=o.length;d<p;d++)o[d]=u}static fillWithin(o,u,d,p){K.rangeCheck(o.length,u,d);for(let x=u;x<d;x++)o[x]=p}static rangeCheck(o,u,d){if(u>d)throw new A("fromIndex("+u+") > toIndex("+d+")");if(u<0)throw new G(u);if(d>o)throw new G(d)}static asList(...o){return o}static create(o,u,d){return Array.from({length:o}).map(x=>Array.from({length:u}).fill(d))}static createInt32Array(o,u,d){return Array.from({length:o}).map(x=>Int32Array.from({length:u}).fill(d))}static equals(o,u){if(!o||!u||!o.length||!u.length||o.length!==u.length)return!1;for(let d=0,p=o.length;d<p;d++)if(o[d]!==u[d])return!1;return!0}static hashCode(o){if(o===null)return 0;let u=1;for(const d of o)u=31*u+d;return u}static fillUint8Array(o,u){for(let d=0;d!==o.length;d++)o[d]=u}static copyOf(o,u){return o.slice(0,u)}static copyOfUint8Array(o,u){if(o.length<=u){const d=new Uint8Array(u);return d.set(o),d}return o.slice(0,u)}static copyOfRange(o,u,d){const p=d-u,x=new Int32Array(p);return k.arraycopy(o,u,x,0,p),x}static binarySearch(o,u,d){d===void 0&&(d=K.numberComparator);let p=0,x=o.length-1;for(;p<=x;){const E=x+p>>1,f=d(u,o[E]);if(f>0)p=E+1;else if(f<0)x=E-1;else return E}return-p-1}static numberComparator(o,u){return o-u}}class W{static numberOfTrailingZeros(o){let u;if(o===0)return 32;let d=31;return u=o<<16,u!==0&&(d-=16,o=u),u=o<<8,u!==0&&(d-=8,o=u),u=o<<4,u!==0&&(d-=4,o=u),u=o<<2,u!==0&&(d-=2,o=u),d-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let u=1;return o>>>16||(u+=16,o<<=16),o>>>24||(u+=8,o<<=8),o>>>28||(u+=4,o<<=4),o>>>30||(u+=2,o<<=2),u-=o>>>31,u}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,u){return Math.trunc(o/u)}static parseInt(o,u=void 0){return parseInt(o,u)}}W.MIN_VALUE_32_BITS=-2147483648,W.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ne{constructor(o,u){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,u==null?this.bits=ne.makeArray(o):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const u=ne.makeArray(o);k.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const u=this.size;if(o>=u)return u;const d=this.bits;let p=Math.floor(o/32),x=d[p];x&=~((1<<(o&31))-1);const E=d.length;for(;x===0;){if(++p===E)return u;x=d[p]}const f=p*32+W.numberOfTrailingZeros(x);return f>u?u:f}getNextUnset(o){const u=this.size;if(o>=u)return u;const d=this.bits;let p=Math.floor(o/32),x=~d[p];x&=~((1<<(o&31))-1);const E=d.length;for(;x===0;){if(++p===E)return u;x=~d[p]}const f=p*32+W.numberOfTrailingZeros(x);return f>u?u:f}setBulk(o,u){this.bits[Math.floor(o/32)]=u}setRange(o,u){if(u<o||o<0||u>this.size)throw new A;if(u===o)return;u--;const d=Math.floor(o/32),p=Math.floor(u/32),x=this.bits;for(let E=d;E<=p;E++){const f=E>d?0:o&31,_=(2<<(E<p?31:u&31))-(1<<f);x[E]|=_}}clear(){const o=this.bits.length,u=this.bits;for(let d=0;d<o;d++)u[d]=0}isRange(o,u,d){if(u<o||o<0||u>this.size)throw new A;if(u===o)return!0;u--;const p=Math.floor(o/32),x=Math.floor(u/32),E=this.bits;for(let f=p;f<=x;f++){const v=f>p?0:o&31,C=(2<<(f<x?31:u&31))-(1<<v)&4294967295;if((E[f]&C)!==(d?C:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,u){if(u<0||u>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let d=u;d>0;d--)this.appendBit((o>>d-1&1)===1)}appendBitArray(o){const u=o.size;this.ensureCapacity(this.size+u);for(let d=0;d<u;d++)this.appendBit(o.get(d))}xor(o){if(this.size!==o.size)throw new A("Sizes don't match");const u=this.bits;for(let d=0,p=u.length;d<p;d++)u[d]^=o.bits[d]}toBytes(o,u,d,p){for(let x=0;x<p;x++){let E=0;for(let f=0;f<8;f++)this.get(o)&&(E|=1<<7-f),o++;u[d+x]=E}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),d=u+1,p=this.bits;for(let x=0;x<d;x++){let E=p[x];E=E>>1&1431655765|(E&1431655765)<<1,E=E>>2&858993459|(E&858993459)<<2,E=E>>4&252645135|(E&252645135)<<4,E=E>>8&16711935|(E&16711935)<<8,E=E>>16&65535|(E&65535)<<16,o[u-x]=E}if(this.size!==d*32){const x=d*32-this.size;let E=o[0]>>>x;for(let f=1;f<d;f++){const v=o[f];E|=v<<32-x,o[f-1]=E,E=v>>>x}o[d-1]=E}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof ne))return!1;const u=o;return this.size===u.size&&K.equals(this.bits,u.bits)}hashCode(){return 31*this.size+K.hashCode(this.bits)}toString(){let o="";for(let u=0,d=this.size;u<d;u++)(u&7)===0&&(o+=" "),o+=this.get(u)?"X":".";return o}clone(){return new ne(this.size,this.bits.slice())}}var fe;(function(Y){Y[Y.OTHER=0]="OTHER",Y[Y.PURE_BARCODE=1]="PURE_BARCODE",Y[Y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",Y[Y.TRY_HARDER=3]="TRY_HARDER",Y[Y.CHARACTER_SET=4]="CHARACTER_SET",Y[Y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",Y[Y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",Y[Y.ASSUME_GS1=7]="ASSUME_GS1",Y[Y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",Y[Y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",Y[Y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(fe||(fe={}));var Q=fe;class U extends g{static getFormatInstance(){return new U}}U.kind="FormatException";var $;(function(Y){Y[Y.Cp437=0]="Cp437",Y[Y.ISO8859_1=1]="ISO8859_1",Y[Y.ISO8859_2=2]="ISO8859_2",Y[Y.ISO8859_3=3]="ISO8859_3",Y[Y.ISO8859_4=4]="ISO8859_4",Y[Y.ISO8859_5=5]="ISO8859_5",Y[Y.ISO8859_6=6]="ISO8859_6",Y[Y.ISO8859_7=7]="ISO8859_7",Y[Y.ISO8859_8=8]="ISO8859_8",Y[Y.ISO8859_9=9]="ISO8859_9",Y[Y.ISO8859_10=10]="ISO8859_10",Y[Y.ISO8859_11=11]="ISO8859_11",Y[Y.ISO8859_13=12]="ISO8859_13",Y[Y.ISO8859_14=13]="ISO8859_14",Y[Y.ISO8859_15=14]="ISO8859_15",Y[Y.ISO8859_16=15]="ISO8859_16",Y[Y.SJIS=16]="SJIS",Y[Y.Cp1250=17]="Cp1250",Y[Y.Cp1251=18]="Cp1251",Y[Y.Cp1252=19]="Cp1252",Y[Y.Cp1256=20]="Cp1256",Y[Y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",Y[Y.UTF8=22]="UTF8",Y[Y.ASCII=23]="ASCII",Y[Y.Big5=24]="Big5",Y[Y.GB18030=25]="GB18030",Y[Y.EUC_KR=26]="EUC_KR"})($||($={}));class H{constructor(o,u,d,...p){this.valueIdentifier=o,this.name=d,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=p,H.VALUE_IDENTIFIER_TO_ECI.set(o,this),H.NAME_TO_ECI.set(d,this);const x=this.values;for(let E=0,f=x.length;E!==f;E++){const v=x[E];H.VALUES_TO_ECI.set(v,this)}for(const E of p)H.NAME_TO_ECI.set(E,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new U("incorect value");const u=H.VALUES_TO_ECI.get(o);if(u===void 0)throw new U("incorect value");return u}static getCharacterSetECIByName(o){const u=H.NAME_TO_ECI.get(o);if(u===void 0)throw new U("incorect value");return u}equals(o){if(!(o instanceof H))return!1;const u=o;return this.getName()===u.getName()}}H.VALUE_IDENTIFIER_TO_ECI=new Map,H.VALUES_TO_ECI=new Map,H.NAME_TO_ECI=new Map,H.Cp437=new H($.Cp437,Int32Array.from([0,2]),"Cp437"),H.ISO8859_1=new H($.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),H.ISO8859_2=new H($.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),H.ISO8859_3=new H($.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),H.ISO8859_4=new H($.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),H.ISO8859_5=new H($.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),H.ISO8859_6=new H($.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),H.ISO8859_7=new H($.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),H.ISO8859_8=new H($.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),H.ISO8859_9=new H($.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),H.ISO8859_10=new H($.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),H.ISO8859_11=new H($.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),H.ISO8859_13=new H($.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),H.ISO8859_14=new H($.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),H.ISO8859_15=new H($.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),H.ISO8859_16=new H($.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),H.SJIS=new H($.SJIS,20,"SJIS","Shift_JIS"),H.Cp1250=new H($.Cp1250,21,"Cp1250","windows-1250"),H.Cp1251=new H($.Cp1251,22,"Cp1251","windows-1251"),H.Cp1252=new H($.Cp1252,23,"Cp1252","windows-1252"),H.Cp1256=new H($.Cp1256,24,"Cp1256","windows-1256"),H.UnicodeBigUnmarked=new H($.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),H.UTF8=new H($.UTF8,26,"UTF8","UTF-8"),H.ASCII=new H($.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),H.Big5=new H($.Big5,28,"Big5"),H.GB18030=new H($.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),H.EUC_KR=new H($.EUC_KR,30,"EUC_KR","EUC-KR");class ae extends g{}ae.kind="UnsupportedOperationException";class ie{static decode(o,u){const d=this.encodingName(u);return this.customDecoder?this.customDecoder(o,d):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(d)?this.decodeFallback(o,d):new TextDecoder(d).decode(o)}static shouldDecodeOnFallback(o){return!ie.isBrowser()&&o==="ISO-8859-1"}static encode(o,u){const d=this.encodingName(u);return this.customEncoder?this.customEncoder(o,d):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof H?o:H.getCharacterSetECIByName(o)}static decodeFallback(o,u){const d=this.encodingCharacterSet(u);if(ie.isDecodeFallbackSupported(d)){let p="";for(let x=0,E=o.length;x<E;x++){let f=o[x].toString(16);f.length<2&&(f="0"+f),p+="%"+f}return decodeURIComponent(p)}if(d.equals(H.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new ae(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(H.UTF8)||o.equals(H.ISO8859_1)||o.equals(H.ASCII)}static encodeFallback(o){const d=btoa(unescape(encodeURIComponent(o))).split(""),p=[];for(let x=0;x<d.length;x++)p.push(d[x].charCodeAt(0));return new Uint8Array(p)}}class Z{static castAsNonUtf8Char(o,u=null){const d=u?u.getName():this.ISO88591;return ie.decode(new Uint8Array([o]),d)}static guessEncoding(o,u){if(u!=null&&u.get(Q.CHARACTER_SET)!==void 0)return u.get(Q.CHARACTER_SET).toString();const d=o.length;let p=!0,x=!0,E=!0,f=0,v=0,_=0,C=0,O=0,M=0,F=0,z=0,X=0,re=0,te=0;const oe=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let ce=0;ce<d&&(p||x||E);ce++){const le=o[ce]&255;E&&(f>0?(le&128)===0?E=!1:f--:(le&128)!==0&&((le&64)===0?E=!1:(f++,(le&32)===0?v++:(f++,(le&16)===0?_++:(f++,(le&8)===0?C++:E=!1))))),p&&(le>127&&le<160?p=!1:le>159&&(le<192||le===215||le===247)&&te++),x&&(O>0?le<64||le===127||le>252?x=!1:O--:le===128||le===160||le>239?x=!1:le>160&&le<224?(M++,z=0,F++,F>X&&(X=F)):le>127?(O++,F=0,z++,z>re&&(re=z)):(F=0,z=0))}return E&&f>0&&(E=!1),x&&O>0&&(x=!1),E&&(oe||v+_+C>0)?Z.UTF8:x&&(Z.ASSUME_SHIFT_JIS||X>=3||re>=3)?Z.SHIFT_JIS:p&&x?X===2&&M===2||te*10>=d?Z.SHIFT_JIS:Z.ISO88591:p?Z.ISO88591:x?Z.SHIFT_JIS:E?Z.UTF8:Z.PLATFORM_DEFAULT_ENCODING}static format(o,...u){let d=-1;function p(E,f,v,_,C,O){if(E==="%%")return"%";if(u[++d]===void 0)return;E=_?parseInt(_.substr(1)):void 0;let M=C?parseInt(C.substr(1)):void 0,F;switch(O){case"s":F=u[d];break;case"c":F=u[d][0];break;case"f":F=parseFloat(u[d]).toFixed(E);break;case"p":F=parseFloat(u[d]).toPrecision(E);break;case"e":F=parseFloat(u[d]).toExponential(E);break;case"x":F=parseInt(u[d]).toString(M||16);break;case"d":F=parseFloat(parseInt(u[d],M||10).toPrecision(E)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(M);let z=parseInt(v),X=v&&v[0]+""=="0"?"0":" ";for(;F.length<z;)F=f!==void 0?F+X:X+F;return F}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,p)}static getBytes(o,u){return ie.encode(o,u)}static getCharCode(o,u=0){return o.charCodeAt(u)}static getCharAt(o){return String.fromCharCode(o)}}Z.SHIFT_JIS=H.SJIS.getName(),Z.GB2312="GB2312",Z.ISO88591=H.ISO8859_1.getName(),Z.EUC_JP="EUC_JP",Z.UTF8=H.UTF8.getName(),Z.PLATFORM_DEFAULT_ENCODING=Z.UTF8,Z.ASSUME_SHIFT_JIS=!1;class J{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=Z.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,u,d){for(let p=u;u<u+d;p++)this.append(o[p]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+1)}substring(o,u){return this.value.substring(o,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+u.length)}}class Be{constructor(o,u,d,p){if(this.width=o,this.height=u,this.rowSize=d,this.bits=p,u==null&&(u=o),this.height=u,o<1||u<1)throw new A("Both dimensions must be greater than 0");d==null&&(d=Math.floor((o+31)/32)),this.rowSize=d,p==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const u=o.length,d=o[0].length,p=new Be(d,u);for(let x=0;x<u;x++){const E=o[x];for(let f=0;f<d;f++)E[f]&&p.set(f,x)}return p}static parseFromString(o,u,d){if(o===null)throw new A("stringRepresentation cannot be null");const p=new Array(o.length);let x=0,E=0,f=-1,v=0,_=0;for(;_<o.length;)if(o.charAt(_)===`
`||o.charAt(_)==="\r"){if(x>E){if(f===-1)f=x-E;else if(x-E!==f)throw new A("row lengths do not match");E=x,v++}_++}else if(o.substring(_,_+u.length)===u)_+=u.length,p[x]=!0,x++;else if(o.substring(_,_+d.length)===d)_+=d.length,p[x]=!1,x++;else throw new A("illegal character encountered: "+o.substring(_));if(x>E){if(f===-1)f=x-E;else if(x-E!==f)throw new A("row lengths do not match");v++}const C=new Be(f,v);for(let O=0;O<x;O++)p[O]&&C.set(Math.floor(O%f),Math.floor(O/f));return C}get(o,u){const d=u*this.rowSize+Math.floor(o/32);return(this.bits[d]>>>(o&31)&1)!==0}set(o,u){const d=u*this.rowSize+Math.floor(o/32);this.bits[d]|=1<<(o&31)&4294967295}unset(o,u){const d=u*this.rowSize+Math.floor(o/32);this.bits[d]&=~(1<<(o&31)&4294967295)}flip(o,u){const d=u*this.rowSize+Math.floor(o/32);this.bits[d]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new A("input matrix dimensions do not match");const u=new ne(Math.floor(this.width/32)+1),d=this.rowSize,p=this.bits;for(let x=0,E=this.height;x<E;x++){const f=x*d,v=o.getRow(x,u).getBitArray();for(let _=0;_<d;_++)p[f+_]^=v[_]}}clear(){const o=this.bits,u=o.length;for(let d=0;d<u;d++)o[d]=0}setRegion(o,u,d,p){if(u<0||o<0)throw new A("Left and top must be nonnegative");if(p<1||d<1)throw new A("Height and width must be at least 1");const x=o+d,E=u+p;if(E>this.height||x>this.width)throw new A("The region must fit inside the matrix");const f=this.rowSize,v=this.bits;for(let _=u;_<E;_++){const C=_*f;for(let O=o;O<x;O++)v[C+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(o,u){u==null||u.getSize()<this.width?u=new ne(this.width):u.clear();const d=this.rowSize,p=this.bits,x=o*d;for(let E=0;E<d;E++)u.setBulk(E*32,p[x+E]);return u}setRow(o,u){k.arraycopy(u.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),u=this.getHeight();let d=new ne(o),p=new ne(o);for(let x=0,E=Math.floor((u+1)/2);x<E;x++)d=this.getRow(x,d),p=this.getRow(u-1-x,p),d.reverse(),p.reverse(),this.setRow(x,p),this.setRow(u-1-x,d)}getEnclosingRectangle(){const o=this.width,u=this.height,d=this.rowSize,p=this.bits;let x=o,E=u,f=-1,v=-1;for(let _=0;_<u;_++)for(let C=0;C<d;C++){const O=p[_*d+C];if(O!==0){if(_<E&&(E=_),_>v&&(v=_),C*32<x){let M=0;for(;(O<<31-M&4294967295)===0;)M++;C*32+M<x&&(x=C*32+M)}if(C*32+31>f){let M=31;for(;!(O>>>M);)M--;C*32+M>f&&(f=C*32+M)}}}return f<x||v<E?null:Int32Array.from([x,E,f-x+1,v-E+1])}getTopLeftOnBit(){const o=this.rowSize,u=this.bits;let d=0;for(;d<u.length&&u[d]===0;)d++;if(d===u.length)return null;const p=d/o;let x=d%o*32;const E=u[d];let f=0;for(;(E<<31-f&4294967295)===0;)f++;return x+=f,Int32Array.from([x,p])}getBottomRightOnBit(){const o=this.rowSize,u=this.bits;let d=u.length-1;for(;d>=0&&u[d]===0;)d--;if(d<0)return null;const p=Math.floor(d/o);let x=Math.floor(d%o)*32;const E=u[d];let f=31;for(;!(E>>>f);)f--;return x+=f,Int32Array.from([x,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof Be))return!1;const u=o;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&K.equals(this.bits,u.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+K.hashCode(this.bits),o}toString(o="X ",u="  ",d=`
`){return this.buildToString(o,u,d)}buildToString(o,u,d){let p=new J;for(let x=0,E=this.height;x<E;x++){for(let f=0,v=this.width;f<v;f++)p.append(this.get(f,x)?o:u);p.append(d)}return p.toString()}clone(){return new Be(this.width,this.height,this.rowSize,this.bits.slice())}}class pe extends g{static getNotFoundInstance(){return new pe}}pe.kind="NotFoundException";class ve extends j{constructor(o){super(o),this.luminances=ve.EMPTY,this.buckets=new Int32Array(ve.LUMINANCE_BUCKETS)}getBlackRow(o,u){const d=this.getLuminanceSource(),p=d.getWidth();u==null||u.getSize()<p?u=new ne(p):u.clear(),this.initArrays(p);const x=d.getRow(o,this.luminances),E=this.buckets;for(let v=0;v<p;v++)E[(x[v]&255)>>ve.LUMINANCE_SHIFT]++;const f=ve.estimateBlackPoint(E);if(p<3)for(let v=0;v<p;v++)(x[v]&255)<f&&u.set(v);else{let v=x[0]&255,_=x[1]&255;for(let C=1;C<p-1;C++){const O=x[C+1]&255;(_*4-v-O)/2<f&&u.set(C),v=_,_=O}}return u}getBlackMatrix(){const o=this.getLuminanceSource(),u=o.getWidth(),d=o.getHeight(),p=new Be(u,d);this.initArrays(u);const x=this.buckets;for(let v=1;v<5;v++){const _=Math.floor(d*v/5),C=o.getRow(_,this.luminances),O=Math.floor(u*4/5);for(let M=Math.floor(u/5);M<O;M++){const F=C[M]&255;x[F>>ve.LUMINANCE_SHIFT]++}}const E=ve.estimateBlackPoint(x),f=o.getMatrix();for(let v=0;v<d;v++){const _=v*u;for(let C=0;C<u;C++)(f[_+C]&255)<E&&p.set(C,v)}return p}createBinarizer(o){return new ve(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const u=this.buckets;for(let d=0;d<ve.LUMINANCE_BUCKETS;d++)u[d]=0}static estimateBlackPoint(o){const u=o.length;let d=0,p=0,x=0;for(let C=0;C<u;C++)o[C]>x&&(p=C,x=o[C]),o[C]>d&&(d=o[C]);let E=0,f=0;for(let C=0;C<u;C++){const O=C-p,M=o[C]*O*O;M>f&&(E=C,f=M)}if(p>E){const C=p;p=E,E=C}if(E-p<=u/16)throw new pe;let v=E-1,_=-1;for(let C=E-1;C>p;C--){const O=C-p,M=O*O*(E-C)*(d-o[C]);M>_&&(v=C,_=M)}return v<<ve.LUMINANCE_SHIFT}}ve.LUMINANCE_BITS=5,ve.LUMINANCE_SHIFT=8-ve.LUMINANCE_BITS,ve.LUMINANCE_BUCKETS=1<<ve.LUMINANCE_BITS,ve.EMPTY=Uint8ClampedArray.from([0]);class Ae extends ve{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),u=o.getWidth(),d=o.getHeight();if(u>=Ae.MINIMUM_DIMENSION&&d>=Ae.MINIMUM_DIMENSION){const p=o.getMatrix();let x=u>>Ae.BLOCK_SIZE_POWER;(u&Ae.BLOCK_SIZE_MASK)!==0&&x++;let E=d>>Ae.BLOCK_SIZE_POWER;(d&Ae.BLOCK_SIZE_MASK)!==0&&E++;const f=Ae.calculateBlackPoints(p,x,E,u,d),v=new Be(u,d);Ae.calculateThresholdForBlock(p,x,E,u,d,f,v),this.matrix=v}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new Ae(o)}static calculateThresholdForBlock(o,u,d,p,x,E,f){const v=x-Ae.BLOCK_SIZE,_=p-Ae.BLOCK_SIZE;for(let C=0;C<d;C++){let O=C<<Ae.BLOCK_SIZE_POWER;O>v&&(O=v);const M=Ae.cap(C,2,d-3);for(let F=0;F<u;F++){let z=F<<Ae.BLOCK_SIZE_POWER;z>_&&(z=_);const X=Ae.cap(F,2,u-3);let re=0;for(let oe=-2;oe<=2;oe++){const ce=E[M+oe];re+=ce[X-2]+ce[X-1]+ce[X]+ce[X+1]+ce[X+2]}const te=re/25;Ae.thresholdBlock(o,z,O,te,p,f)}}}static cap(o,u,d){return o<u?u:o>d?d:o}static thresholdBlock(o,u,d,p,x,E){for(let f=0,v=d*x+u;f<Ae.BLOCK_SIZE;f++,v+=x)for(let _=0;_<Ae.BLOCK_SIZE;_++)(o[v+_]&255)<=p&&E.set(u+_,d+f)}static calculateBlackPoints(o,u,d,p,x){const E=x-Ae.BLOCK_SIZE,f=p-Ae.BLOCK_SIZE,v=new Array(d);for(let _=0;_<d;_++){v[_]=new Int32Array(u);let C=_<<Ae.BLOCK_SIZE_POWER;C>E&&(C=E);for(let O=0;O<u;O++){let M=O<<Ae.BLOCK_SIZE_POWER;M>f&&(M=f);let F=0,z=255,X=0;for(let te=0,oe=C*p+M;te<Ae.BLOCK_SIZE;te++,oe+=p){for(let ce=0;ce<Ae.BLOCK_SIZE;ce++){const le=o[oe+ce]&255;F+=le,le<z&&(z=le),le>X&&(X=le)}if(X-z>Ae.MIN_DYNAMIC_RANGE)for(te++,oe+=p;te<Ae.BLOCK_SIZE;te++,oe+=p)for(let ce=0;ce<Ae.BLOCK_SIZE;ce++)F+=o[oe+ce]&255}let re=F>>Ae.BLOCK_SIZE_POWER*2;if(X-z<=Ae.MIN_DYNAMIC_RANGE&&(re=z/2,_>0&&O>0)){const te=(v[_-1][O]+2*v[_][O-1]+v[_-1][O-1])/4;z<te&&(re=te)}v[_][O]=re}}return v}}Ae.BLOCK_SIZE_POWER=3,Ae.BLOCK_SIZE=1<<Ae.BLOCK_SIZE_POWER,Ae.BLOCK_SIZE_MASK=Ae.BLOCK_SIZE-1,Ae.MINIMUM_DIMENSION=Ae.BLOCK_SIZE*5,Ae.MIN_DYNAMIC_RANGE=24;class We{constructor(o,u){this.width=o,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,u,d,p){throw new ae("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ae("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ae("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let u=new J;for(let d=0;d<this.height;d++){const p=this.getRow(d,o);for(let x=0;x<this.width;x++){const E=p[x]&255;let f;E<64?f="#":E<128?f="+":E<192?f=".":f=" ",u.append(f)}u.append(`
`)}return u.toString()}}class Ue extends We{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,u){const d=this.delegate.getRow(o,u),p=this.getWidth();for(let x=0;x<p;x++)d[x]=255-(d[x]&255);return d}getMatrix(){const o=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),d=new Uint8ClampedArray(u);for(let p=0;p<u;p++)d[p]=255-(o[p]&255);return d}isCropSupported(){return this.delegate.isCropSupported()}crop(o,u,d,p){return new Ue(this.delegate.crop(o,u,d,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ue(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ue(this.delegate.rotateCounterClockwise45())}}class st extends We{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=st.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const u=o.getContext("2d").getImageData(0,0,o.width,o.height);return st.toGrayscaleBuffer(u.data,o.width,o.height)}static toGrayscaleBuffer(o,u,d){const p=new Uint8ClampedArray(u*d);for(let x=0,E=0,f=o.length;x<f;x+=4,E++){let v;if(o[x+3]===0)v=255;else{const C=o[x],O=o[x+1],M=o[x+2];v=306*C+601*O+117*M+512>>10}p[E]=v}return p}getRow(o,u){if(o<0||o>=this.getHeight())throw new A("Requested row is outside the image: "+o);const d=this.getWidth(),p=o*d;return u===null?u=this.buffer.slice(p,p+d):(u.length<d&&(u=new Uint8ClampedArray(d)),u.set(this.buffer.slice(p,p+d))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,u,d,p){return super.crop(o,u,d,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const u=this.getTempCanvasElement(),d=u.getContext("2d"),p=o*st.DEGREE_TO_RADIANS,x=this.canvas.width,E=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(p))*x+Math.abs(Math.sin(p))*E),v=Math.ceil(Math.abs(Math.sin(p))*x+Math.abs(Math.cos(p))*E);return u.width=f,u.height=v,d.translate(f/2,v/2),d.rotate(p),d.drawImage(this.canvas,x/-2,E/-2),this.buffer=st.makeBufferFromCanvasImageData(u),this}invert(){return new Ue(this)}}st.DEGREE_TO_RADIANS=Math.PI/180;class he{constructor(o,u,d){this.deviceId=o,this.label=u,this.kind="videoinput",this.groupId=d||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var _e=(globalThis||Yh||self||window||void 0)&&(globalThis||Yh||self||window||void 0).__awaiter||function(Y,o,u,d){function p(x){return x instanceof u?x:new u(function(E){E(x)})}return new(u||(u=Promise))(function(x,E){function f(C){try{_(d.next(C))}catch(O){E(O)}}function v(C){try{_(d.throw(C))}catch(O){E(O)}}function _(C){C.done?x(C.value):p(C.value).then(f,v)}_((d=d.apply(Y,o||[])).next())})};class Ge{constructor(o,u=500,d){this.reader=o,this.timeBetweenScansMillis=u,this._hints=d,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return _e(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const d of o){const p=d.kind==="video"?"videoinput":d.kind;if(p!=="videoinput")continue;const x=d.deviceId||d.id,E=d.label||`Video device ${u.length+1}`,f=d.groupId,v={deviceId:x,label:E,kind:p,groupId:f};u.push(v)}return u})}getVideoInputDevices(){return _e(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new he(u.deviceId,u.label))})}findDeviceById(o){return _e(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(d=>d.deviceId===o):null})}decodeFromInputVideoDevice(o,u){return _e(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,u)})}decodeOnceFromVideoDevice(o,u){return _e(this,void 0,void 0,function*(){this.reset();let d;o?d={deviceId:{exact:o}}:d={facingMode:"environment"};const p={video:d};return yield this.decodeOnceFromConstraints(p,u)})}decodeOnceFromConstraints(o,u){return _e(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(d,u)})}decodeOnceFromStream(o,u){return _e(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(o,u);return yield this.decodeOnce(d)})}decodeFromInputVideoDeviceContinuously(o,u,d){return _e(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,u,d)})}decodeFromVideoDevice(o,u,d){return _e(this,void 0,void 0,function*(){let p;o?p={deviceId:{exact:o}}:p={facingMode:"environment"};const x={video:p};return yield this.decodeFromConstraints(x,u,d)})}decodeFromConstraints(o,u,d){return _e(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(p,u,d)})}decodeFromStream(o,u,d){return _e(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(o,u);return yield this.decodeContinuously(p,d)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,u){return _e(this,void 0,void 0,function*(){const d=this.prepareVideoElement(u);return this.addVideoSource(d,o),this.videoElement=d,this.stream=o,yield this.playVideoOnLoadAsync(d),d})}playVideoOnLoadAsync(o){return new Promise((u,d)=>this.playVideoOnLoad(o,()=>u()))}playVideoOnLoad(o,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",u),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return _e(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,u){const d=document.getElementById(o);if(!d)throw new w(`element with id '${o}' not found`);if(d.nodeName.toLowerCase()!==u.toLowerCase())throw new w(`element with id '${o}' must be an ${u} element`);return d}decodeFromImage(o,u){if(!o&&!u)throw new w("either imageElement with a src set or an url must be provided");return u&&!o?this.decodeFromImageUrl(u):this.decodeFromImageElement(o)}decodeFromVideo(o,u){if(!o&&!u)throw new w("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,u,d){if(o===void 0&&u===void 0)throw new w("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrlContinuously(u,d):this.decodeFromVideoElementContinuously(o,d)}decodeFromImageElement(o){if(!o)throw new w("An image element must be provided.");this.reset();const u=this.prepareImageElement(o);this.imageElement=u;let d;return this.isImageLoaded(u)?d=this.decodeOnce(u,!1,!0):d=this._decodeOnLoadImage(u),d}decodeFromVideoElement(o){const u=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(o,u){const d=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(d,u)}_decodeFromVideoElementSetup(o){if(!o)throw new w("A video element must be provided.");this.reset();const u=this.prepareVideoElement(o);return this.videoElement=u,u}decodeFromImageUrl(o){if(!o)throw new w("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const d=this._decodeOnLoadImage(u);return u.src=o,d}decodeFromVideoUrl(o){if(!o)throw new w("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),d=this.decodeFromVideoElement(u);return u.src=o,d}decodeFromVideoUrlContinuously(o,u){if(!o)throw new w("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(d,u);return d.src=o,p}_decodeOnLoadImage(o){return new Promise((u,d)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(u,d),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return _e(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,u){return _e(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,u)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let u;return typeof o>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(u=o),u}prepareVideoElement(o){let u;return!o&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(u=o),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(o,u=!0,d=!0){this._stopAsyncDecode=!1;const p=(x,E)=>{if(this._stopAsyncDecode){E(new pe("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(o);x(f)}catch(f){const v=u&&f instanceof pe,C=(f instanceof R||f instanceof U)&&d;if(v||C)return setTimeout(p,this._timeBetweenDecodingAttempts,x,E);E(f)}};return new Promise((x,E)=>p(x,E))}decodeContinuously(o,u){this._stopContinuousDecode=!1;const d=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const p=this.decode(o);u(p,null),setTimeout(d,this.timeBetweenScansMillis)}catch(p){u(null,p);const x=p instanceof R||p instanceof U,E=p instanceof pe;(x||E)&&setTimeout(d,this._timeBetweenDecodingAttempts)}};d()}decode(o){const u=this.createBinaryBitmap(o);return this.decodeBitmap(u)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,u,d){u||(u={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),d||(d=this.captureCanvasContext),d.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(o,u,d=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),d||(d=this.captureCanvasContext),d.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const u=this.getCaptureCanvas(o),d=new st(u),p=new Ae(d);return new I(p)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const d=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=d}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const u=this.createCaptureCanvas(o);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let d,p;return typeof o<"u"&&(o instanceof HTMLVideoElement?(d=o.videoWidth,p=o.videoHeight):o instanceof HTMLImageElement&&(d=o.naturalWidth||o.width,p=o.naturalHeight||o.height)),u.style.width=d+"px",u.style.height=p+"px",u.width=d,u.height=p,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,u){try{o.srcObject=u}catch{o.src=URL.createObjectURL(u)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class Fe{constructor(o,u,d=u==null?0:8*u.length,p,x,E=k.currentTimeMillis()){this.text=o,this.rawBytes=u,this.numBits=d,this.resultPoints=p,this.format=x,this.timestamp=E,this.text=o,this.rawBytes=u,d==null?this.numBits=u==null?0:8*u.length:this.numBits=d,this.resultPoints=p,this.format=x,this.resultMetadata=null,E==null?this.timestamp=k.currentTimeMillis():this.timestamp=E}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,u)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const u=this.resultPoints;if(u===null)this.resultPoints=o;else if(o!==null&&o.length>0){const d=new Array(u.length+o.length);k.arraycopy(u,0,d,0,u.length),k.arraycopy(o,0,d,u.length,o.length),this.resultPoints=d}}getTimestamp(){return this.timestamp}toString(){return this.text}}var dt;(function(Y){Y[Y.AZTEC=0]="AZTEC",Y[Y.CODABAR=1]="CODABAR",Y[Y.CODE_39=2]="CODE_39",Y[Y.CODE_93=3]="CODE_93",Y[Y.CODE_128=4]="CODE_128",Y[Y.DATA_MATRIX=5]="DATA_MATRIX",Y[Y.EAN_8=6]="EAN_8",Y[Y.EAN_13=7]="EAN_13",Y[Y.ITF=8]="ITF",Y[Y.MAXICODE=9]="MAXICODE",Y[Y.PDF_417=10]="PDF_417",Y[Y.QR_CODE=11]="QR_CODE",Y[Y.RSS_14=12]="RSS_14",Y[Y.RSS_EXPANDED=13]="RSS_EXPANDED",Y[Y.UPC_A=14]="UPC_A",Y[Y.UPC_E=15]="UPC_E",Y[Y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(dt||(dt={}));var Ne=dt,et;(function(Y){Y[Y.OTHER=0]="OTHER",Y[Y.ORIENTATION=1]="ORIENTATION",Y[Y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",Y[Y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",Y[Y.ISSUE_NUMBER=4]="ISSUE_NUMBER",Y[Y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",Y[Y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",Y[Y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",Y[Y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",Y[Y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",Y[Y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(et||(et={}));var Tt=et;class ke{constructor(o,u,d,p,x=-1,E=-1){this.rawBytes=o,this.text=u,this.byteSegments=d,this.ecLevel=p,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=E,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ye{exp(o){return this.expTable[o]}log(o){if(o===0)throw new A;return this.logTable[o]}static addOrSubtract(o,u){return o^u}}class It{constructor(o,u){if(u.length===0)throw new A;this.field=o;const d=u.length;if(d>1&&u[0]===0){let p=1;for(;p<d&&u[p]===0;)p++;p===d?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(d-p),k.arraycopy(u,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const u=this.coefficients;let d;if(o===1){d=0;for(let E=0,f=u.length;E!==f;E++){const v=u[E];d=Ye.addOrSubtract(d,v)}return d}d=u[0];const p=u.length,x=this.field;for(let E=1;E<p;E++)d=Ye.addOrSubtract(x.multiply(o,d),u[E]);return d}addOrSubtract(o){if(!this.field.equals(o.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,d=o.coefficients;if(u.length>d.length){const E=u;u=d,d=E}let p=new Int32Array(d.length);const x=d.length-u.length;k.arraycopy(d,0,p,0,x);for(let E=x;E<d.length;E++)p[E]=Ye.addOrSubtract(u[E-x],d[E]);return new It(this.field,p)}multiply(o){if(!this.field.equals(o.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const u=this.coefficients,d=u.length,p=o.coefficients,x=p.length,E=new Int32Array(d+x-1),f=this.field;for(let v=0;v<d;v++){const _=u[v];for(let C=0;C<x;C++)E[v+C]=Ye.addOrSubtract(E[v+C],f.multiply(_,p[C]))}return new It(f,E)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const u=this.coefficients.length,d=this.field,p=new Int32Array(u),x=this.coefficients;for(let E=0;E<u;E++)p[E]=d.multiply(x[E],o);return new It(d,p)}multiplyByMonomial(o,u){if(o<0)throw new A;if(u===0)return this.field.getZero();const d=this.coefficients,p=d.length,x=new Int32Array(p+o),E=this.field;for(let f=0;f<p;f++)x[f]=E.multiply(d[f],u);return new It(E,x)}divide(o){if(!this.field.equals(o.field))throw new A("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new A("Divide by 0");const u=this.field;let d=u.getZero(),p=this;const x=o.getCoefficient(o.getDegree()),E=u.inverse(x);for(;p.getDegree()>=o.getDegree()&&!p.isZero();){const f=p.getDegree()-o.getDegree(),v=u.multiply(p.getCoefficient(p.getDegree()),E),_=o.multiplyByMonomial(f,v),C=u.buildMonomial(f,v);d=d.addOrSubtract(C),p=p.addOrSubtract(_)}return[d,p]}toString(){let o="";for(let u=this.getDegree();u>=0;u--){let d=this.getCoefficient(u);if(d!==0){if(d<0?(o+=" - ",d=-d):o.length>0&&(o+=" + "),u===0||d!==1){const p=this.field.log(d);p===0?o+="1":p===1?o+="a":(o+="a^",o+=p)}u!==0&&(u===1?o+="x":(o+="x^",o+=u))}}return o}}class Le extends g{}Le.kind="ArithmeticException";class At extends Ye{constructor(o,u,d){super(),this.primitive=o,this.size=u,this.generatorBase=d;const p=new Int32Array(u);let x=1;for(let f=0;f<u;f++)p[f]=x,x*=2,x>=u&&(x^=o,x&=u-1);this.expTable=p;const E=new Int32Array(u);for(let f=0;f<u-1;f++)E[p[f]]=f;this.logTable=E,this.zero=new It(this,Int32Array.from([0])),this.one=new It(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new A;if(u===0)return this.zero;const d=new Int32Array(o+1);return d[0]=u,new It(this,d)}inverse(o){if(o===0)throw new Le;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+W.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}At.AZTEC_DATA_12=new At(4201,4096,1),At.AZTEC_DATA_10=new At(1033,1024,1),At.AZTEC_DATA_6=new At(67,64,1),At.AZTEC_PARAM=new At(19,16,1),At.QR_CODE_FIELD_256=new At(285,256,0),At.DATA_MATRIX_FIELD_256=new At(301,256,1),At.AZTEC_DATA_8=At.DATA_MATRIX_FIELD_256,At.MAXICODE_FIELD_64=At.AZTEC_DATA_6;class zt extends g{}zt.kind="ReedSolomonException";class cn extends g{}cn.kind="IllegalStateException";class Hn{constructor(o){this.field=o}decode(o,u){const d=this.field,p=new It(d,o),x=new Int32Array(u);let E=!0;for(let F=0;F<u;F++){const z=p.evaluateAt(d.exp(F+d.getGeneratorBase()));x[x.length-1-F]=z,z!==0&&(E=!1)}if(E)return;const f=new It(d,x),v=this.runEuclideanAlgorithm(d.buildMonomial(u,1),f,u),_=v[0],C=v[1],O=this.findErrorLocations(_),M=this.findErrorMagnitudes(C,O);for(let F=0;F<O.length;F++){const z=o.length-1-d.log(O[F]);if(z<0)throw new zt("Bad error location");o[z]=At.addOrSubtract(o[z],M[F])}}runEuclideanAlgorithm(o,u,d){if(o.getDegree()<u.getDegree()){const F=o;o=u,u=F}const p=this.field;let x=o,E=u,f=p.getZero(),v=p.getOne();for(;E.getDegree()>=(d/2|0);){let F=x,z=f;if(x=E,f=v,x.isZero())throw new zt("r_{i-1} was zero");E=F;let X=p.getZero();const re=x.getCoefficient(x.getDegree()),te=p.inverse(re);for(;E.getDegree()>=x.getDegree()&&!E.isZero();){const oe=E.getDegree()-x.getDegree(),ce=p.multiply(E.getCoefficient(E.getDegree()),te);X=X.addOrSubtract(p.buildMonomial(oe,ce)),E=E.addOrSubtract(x.multiplyByMonomial(oe,ce))}if(v=X.multiply(f).addOrSubtract(z),E.getDegree()>=x.getDegree())throw new cn("Division algorithm failed to reduce polynomial?")}const _=v.getCoefficient(0);if(_===0)throw new zt("sigmaTilde(0) was zero");const C=p.inverse(_),O=v.multiplyScalar(C),M=E.multiplyScalar(C);return[O,M]}findErrorLocations(o){const u=o.getDegree();if(u===1)return Int32Array.from([o.getCoefficient(1)]);const d=new Int32Array(u);let p=0;const x=this.field;for(let E=1;E<x.getSize()&&p<u;E++)o.evaluateAt(E)===0&&(d[p]=x.inverse(E),p++);if(p!==u)throw new zt("Error locator degree does not match number of roots");return d}findErrorMagnitudes(o,u){const d=u.length,p=new Int32Array(d),x=this.field;for(let E=0;E<d;E++){const f=x.inverse(u[E]);let v=1;for(let _=0;_<d;_++)if(E!==_){const C=x.multiply(u[_],f),O=(C&1)===0?C|1:C&-2;v=x.multiply(v,O)}p[E]=x.multiply(o.evaluateAt(f),x.inverse(v)),x.getGeneratorBase()!==0&&(p[E]=x.multiply(p[E],f))}return p}}var Rn;(function(Y){Y[Y.UPPER=0]="UPPER",Y[Y.LOWER=1]="LOWER",Y[Y.MIXED=2]="MIXED",Y[Y.DIGIT=3]="DIGIT",Y[Y.PUNCT=4]="PUNCT",Y[Y.BINARY=5]="BINARY"})(Rn||(Rn={}));class fn{decode(o){this.ddata=o;let u=o.getBits(),d=this.extractBits(u),p=this.correctBits(d),x=fn.convertBoolArrayToByteArray(p),E=fn.getEncodedData(p),f=new ke(x,E,null,null);return f.setNumBits(p.length),f}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let u=o.length,d=Rn.UPPER,p=Rn.UPPER,x="",E=0;for(;E<u;)if(p===Rn.BINARY){if(u-E<5)break;let f=fn.readCode(o,E,5);if(E+=5,f===0){if(u-E<11)break;f=fn.readCode(o,E,11)+31,E+=11}for(let v=0;v<f;v++){if(u-E<8){E=u;break}const _=fn.readCode(o,E,8);x+=Z.castAsNonUtf8Char(_),E+=8}p=d}else{let f=p===Rn.DIGIT?4:5;if(u-E<f)break;let v=fn.readCode(o,E,f);E+=f;let _=fn.getCharacter(p,v);_.startsWith("CTRL_")?(d=p,p=fn.getTable(_.charAt(5)),_.charAt(6)==="L"&&(d=p)):(x+=_,p=d)}return x}static getTable(o){switch(o){case"L":return Rn.LOWER;case"P":return Rn.PUNCT;case"M":return Rn.MIXED;case"D":return Rn.DIGIT;case"B":return Rn.BINARY;default:return Rn.UPPER}}static getCharacter(o,u){switch(o){case Rn.UPPER:return fn.UPPER_TABLE[u];case Rn.LOWER:return fn.LOWER_TABLE[u];case Rn.MIXED:return fn.MIXED_TABLE[u];case Rn.PUNCT:return fn.PUNCT_TABLE[u];case Rn.DIGIT:return fn.DIGIT_TABLE[u];default:throw new cn("Bad table")}}correctBits(o){let u,d;this.ddata.getNbLayers()<=2?(d=6,u=At.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(d=8,u=At.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(d=10,u=At.AZTEC_DATA_10):(d=12,u=At.AZTEC_DATA_12);let p=this.ddata.getNbDatablocks(),x=o.length/d;if(x<p)throw new U;let E=o.length%d,f=new Int32Array(x);for(let M=0;M<x;M++,E+=d)f[M]=fn.readCode(o,E,d);try{new Hn(u).decode(f,x-p)}catch(M){throw new U(M)}let v=(1<<d)-1,_=0;for(let M=0;M<p;M++){let F=f[M];if(F===0||F===v)throw new U;(F===1||F===v-1)&&_++}let C=new Array(p*d-_),O=0;for(let M=0;M<p;M++){let F=f[M];if(F===1||F===v-1)C.fill(F>1,O,O+d-1),O+=d-1;else for(let z=d-1;z>=0;--z)C[O++]=(F&1<<z)!==0}return C}extractBits(o){let u=this.ddata.isCompact(),d=this.ddata.getNbLayers(),p=(u?11:14)+d*4,x=new Int32Array(p),E=new Array(this.totalBitsInLayer(d,u));if(u)for(let f=0;f<x.length;f++)x[f]=f;else{let f=p+1+2*W.truncDivision(W.truncDivision(p,2)-1,15),v=p/2,_=W.truncDivision(f,2);for(let C=0;C<v;C++){let O=C+W.truncDivision(C,15);x[v-C-1]=_-O-1,x[v+C]=_+O+1}}for(let f=0,v=0;f<d;f++){let _=(d-f)*4+(u?9:12),C=f*2,O=p-1-C;for(let M=0;M<_;M++){let F=M*2;for(let z=0;z<2;z++)E[v+F+z]=o.get(x[C+z],x[C+M]),E[v+2*_+F+z]=o.get(x[C+M],x[O-z]),E[v+4*_+F+z]=o.get(x[O-z],x[O-M]),E[v+6*_+F+z]=o.get(x[O-M],x[C+z])}v+=_*8}return E}static readCode(o,u,d){let p=0;for(let x=u;x<u+d;x++)p<<=1,o[x]&&(p|=1);return p}static readByte(o,u){let d=o.length-u;return d>=8?fn.readCode(o,u,8):fn.readCode(o,u,d)<<8-d}static convertBoolArrayToByteArray(o){let u=new Uint8Array((o.length+7)/8);for(let d=0;d<u.length;d++)u[d]=fn.readByte(o,8*d);return u}totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}fn.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],fn.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],fn.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],fn.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],fn.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ot{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,u,d,p){const x=o-d,E=u-p;return Math.sqrt(x*x+E*E)}static sum(o){let u=0;for(let d=0,p=o.length;d!==p;d++){const x=o[d];u+=x}return u}}class nt{static floatToIntBits(o){return o}}nt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ot{constructor(o,u){this.x=o,this.y=u}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof ot){const u=o;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*nt.floatToIntBits(this.x)+nt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const u=this.distance(o[0],o[1]),d=this.distance(o[1],o[2]),p=this.distance(o[0],o[2]);let x,E,f;if(d>=u&&d>=p?(E=o[0],x=o[1],f=o[2]):p>=d&&p>=u?(E=o[1],x=o[0],f=o[2]):(E=o[2],x=o[0],f=o[1]),this.crossProductZ(x,E,f)<0){const v=x;x=f,f=v}o[0]=x,o[1]=E,o[2]=f}static distance(o,u){return Ot.distance(o.x,o.y,u.x,u.y)}static crossProductZ(o,u,d){const p=u.x,x=u.y;return(d.x-p)*(o.y-x)-(d.y-x)*(o.x-p)}}class Jr{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class kr extends Jr{constructor(o,u,d,p,x){super(o,u),this.compact=d,this.nbDatablocks=p,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Zt{constructor(o,u,d,p){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),u==null&&(u=Zt.INIT_SIZE),d==null&&(d=o.getWidth()/2|0),p==null&&(p=o.getHeight()/2|0);const x=u/2|0;if(this.leftInit=d-x,this.rightInit=d+x,this.upInit=p-x,this.downInit=p+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new pe}detect(){let o=this.leftInit,u=this.rightInit,d=this.upInit,p=this.downInit,x=!1,E=!0,f=!1,v=!1,_=!1,C=!1,O=!1;const M=this.width,F=this.height;for(;E;){E=!1;let z=!0;for(;(z||!v)&&u<M;)z=this.containsBlackPoint(d,p,u,!1),z?(u++,E=!0,v=!0):v||u++;if(u>=M){x=!0;break}let X=!0;for(;(X||!_)&&p<F;)X=this.containsBlackPoint(o,u,p,!0),X?(p++,E=!0,_=!0):_||p++;if(p>=F){x=!0;break}let re=!0;for(;(re||!C)&&o>=0;)re=this.containsBlackPoint(d,p,o,!1),re?(o--,E=!0,C=!0):C||o--;if(o<0){x=!0;break}let te=!0;for(;(te||!O)&&d>=0;)te=this.containsBlackPoint(o,u,d,!0),te?(d--,E=!0,O=!0):O||d--;if(d<0){x=!0;break}E&&(f=!0)}if(!x&&f){const z=u-o;let X=null;for(let ce=1;X===null&&ce<z;ce++)X=this.getBlackPointOnSegment(o,p-ce,o+ce,p);if(X==null)throw new pe;let re=null;for(let ce=1;re===null&&ce<z;ce++)re=this.getBlackPointOnSegment(o,d+ce,o+ce,d);if(re==null)throw new pe;let te=null;for(let ce=1;te===null&&ce<z;ce++)te=this.getBlackPointOnSegment(u,d+ce,u-ce,d);if(te==null)throw new pe;let oe=null;for(let ce=1;oe===null&&ce<z;ce++)oe=this.getBlackPointOnSegment(u,p-ce,u-ce,p);if(oe==null)throw new pe;return this.centerEdges(oe,X,te,re)}else throw new pe}getBlackPointOnSegment(o,u,d,p){const x=Ot.round(Ot.distance(o,u,d,p)),E=(d-o)/x,f=(p-u)/x,v=this.image;for(let _=0;_<x;_++){const C=Ot.round(o+_*E),O=Ot.round(u+_*f);if(v.get(C,O))return new ot(C,O)}return null}centerEdges(o,u,d,p){const x=o.getX(),E=o.getY(),f=u.getX(),v=u.getY(),_=d.getX(),C=d.getY(),O=p.getX(),M=p.getY(),F=Zt.CORR;return x<this.width/2?[new ot(O-F,M+F),new ot(f+F,v+F),new ot(_-F,C-F),new ot(x+F,E-F)]:[new ot(O+F,M+F),new ot(f+F,v-F),new ot(_-F,C+F),new ot(x-F,E-F)]}containsBlackPoint(o,u,d,p){const x=this.image;if(p){for(let E=o;E<=u;E++)if(x.get(E,d))return!0}else for(let E=o;E<=u;E++)if(x.get(d,E))return!0;return!1}}Zt.INIT_SIZE=10,Zt.CORR=1;class jr{static checkAndNudgePoints(o,u){const d=o.getWidth(),p=o.getHeight();let x=!0;for(let E=0;E<u.length&&x;E+=2){const f=Math.floor(u[E]),v=Math.floor(u[E+1]);if(f<-1||f>d||v<-1||v>p)throw new pe;x=!1,f===-1?(u[E]=0,x=!0):f===d&&(u[E]=d-1,x=!0),v===-1?(u[E+1]=0,x=!0):v===p&&(u[E+1]=p-1,x=!0)}x=!0;for(let E=u.length-2;E>=0&&x;E-=2){const f=Math.floor(u[E]),v=Math.floor(u[E+1]);if(f<-1||f>d||v<-1||v>p)throw new pe;x=!1,f===-1?(u[E]=0,x=!0):f===d&&(u[E]=d-1,x=!0),v===-1?(u[E+1]=0,x=!0):v===p&&(u[E+1]=p-1,x=!0)}}}class Gn{constructor(o,u,d,p,x,E,f,v,_){this.a11=o,this.a21=u,this.a31=d,this.a12=p,this.a22=x,this.a32=E,this.a13=f,this.a23=v,this.a33=_}static quadrilateralToQuadrilateral(o,u,d,p,x,E,f,v,_,C,O,M,F,z,X,re){const te=Gn.quadrilateralToSquare(o,u,d,p,x,E,f,v);return Gn.squareToQuadrilateral(_,C,O,M,F,z,X,re).times(te)}transformPoints(o){const u=o.length,d=this.a11,p=this.a12,x=this.a13,E=this.a21,f=this.a22,v=this.a23,_=this.a31,C=this.a32,O=this.a33;for(let M=0;M<u;M+=2){const F=o[M],z=o[M+1],X=x*F+v*z+O;o[M]=(d*F+E*z+_)/X,o[M+1]=(p*F+f*z+C)/X}}transformPointsWithValues(o,u){const d=this.a11,p=this.a12,x=this.a13,E=this.a21,f=this.a22,v=this.a23,_=this.a31,C=this.a32,O=this.a33,M=o.length;for(let F=0;F<M;F++){const z=o[F],X=u[F],re=x*z+v*X+O;o[F]=(d*z+E*X+_)/re,u[F]=(p*z+f*X+C)/re}}static squareToQuadrilateral(o,u,d,p,x,E,f,v){const _=o-d+x-f,C=u-p+E-v;if(_===0&&C===0)return new Gn(d-o,x-d,o,p-u,E-p,u,0,0,1);{const O=d-x,M=f-x,F=p-E,z=v-E,X=O*z-M*F,re=(_*z-M*C)/X,te=(O*C-_*F)/X;return new Gn(d-o+re*d,f-o+te*f,o,p-u+re*p,v-u+te*v,u,re,te,1)}}static quadrilateralToSquare(o,u,d,p,x,E,f,v){return Gn.squareToQuadrilateral(o,u,d,p,x,E,f,v).buildAdjoint()}buildAdjoint(){return new Gn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new Gn(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Aa extends jr{sampleGrid(o,u,d,p,x,E,f,v,_,C,O,M,F,z,X,re,te,oe,ce){const le=Gn.quadrilateralToQuadrilateral(p,x,E,f,v,_,C,O,M,F,z,X,re,te,oe,ce);return this.sampleGridWithTransform(o,u,d,le)}sampleGridWithTransform(o,u,d,p){if(u<=0||d<=0)throw new pe;const x=new Be(u,d),E=new Float32Array(2*u);for(let f=0;f<d;f++){const v=E.length,_=f+.5;for(let C=0;C<v;C+=2)E[C]=C/2+.5,E[C+1]=_;p.transformPoints(E),jr.checkAndNudgePoints(o,E);try{for(let C=0;C<v;C+=2)o.get(Math.floor(E[C]),Math.floor(E[C+1]))&&x.set(C/2,f)}catch{throw new pe}}return x}}class ci{static setGridSampler(o){ci.gridSampler=o}static getInstance(){return ci.gridSampler}}ci.gridSampler=new Aa;class Tr{constructor(o,u){this.x=o,this.y=u}toResultPoint(){return new ot(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class lo{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let u=this.getMatrixCenter(),d=this.getBullsEyeCorners(u);if(o){let E=d[0];d[0]=d[2],d[2]=E}this.extractParameters(d);let p=this.sampleGrid(this.image,d[this.shift%4],d[(this.shift+1)%4],d[(this.shift+2)%4],d[(this.shift+3)%4]),x=this.getMatrixCornerPoints(d);return new kr(p,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new pe;let u=2*this.nbCenterLayers,d=new Int32Array([this.sampleLine(o[0],o[1],u),this.sampleLine(o[1],o[2],u),this.sampleLine(o[2],o[3],u),this.sampleLine(o[3],o[0],u)]);this.shift=this.getRotation(d,u);let p=0;for(let E=0;E<4;E++){let f=d[(this.shift+E)%4];this.compact?(p<<=7,p+=f>>1&127):(p<<=10,p+=(f>>2&992)+(f>>1&31))}let x=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(o,u){let d=0;o.forEach((p,x,E)=>{let f=(p>>u-2<<1)+(p&1);d=(d<<3)+f}),d=((d&1)<<11)+(d>>1);for(let p=0;p<4;p++)if(W.bitCount(d^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new pe}getCorrectedParameterData(o,u){let d,p;u?(d=7,p=2):(d=10,p=4);let x=d-p,E=new Int32Array(d);for(let v=d-1;v>=0;--v)E[v]=o&15,o>>=4;try{new Hn(At.AZTEC_PARAM).decode(E,x)}catch{throw new pe}let f=0;for(let v=0;v<p;v++)f=(f<<4)+E[v];return f}getBullsEyeCorners(o){let u=o,d=o,p=o,x=o,E=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(u,E,1,-1),M=this.getFirstDifferent(d,E,1,1),F=this.getFirstDifferent(p,E,-1,1),z=this.getFirstDifferent(x,E,-1,-1);if(this.nbCenterLayers>2){let X=this.distancePoint(z,O)*this.nbCenterLayers/(this.distancePoint(x,u)*(this.nbCenterLayers+2));if(X<.75||X>1.25||!this.isWhiteOrBlackRectangle(O,M,F,z))break}u=O,d=M,p=F,x=z,E=!E}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new pe;this.compact=this.nbCenterLayers===5;let f=new ot(u.getX()+.5,u.getY()-.5),v=new ot(d.getX()+.5,d.getY()+.5),_=new ot(p.getX()-.5,p.getY()+.5),C=new ot(x.getX()-.5,x.getY()-.5);return this.expandSquare([f,v,_,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,u,d,p;try{let f=new Zt(this.image).detect();o=f[0],u=f[1],d=f[2],p=f[3]}catch{let v=this.image.getWidth()/2,_=this.image.getHeight()/2;o=this.getFirstDifferent(new Tr(v+7,_-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new Tr(v+7,_+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new Tr(v-7,_+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new Tr(v-7,_-7),!1,-1,-1).toResultPoint()}let x=Ot.round((o.getX()+p.getX()+u.getX()+d.getX())/4),E=Ot.round((o.getY()+p.getY()+u.getY()+d.getY())/4);try{let f=new Zt(this.image,15,x,E).detect();o=f[0],u=f[1],d=f[2],p=f[3]}catch{o=this.getFirstDifferent(new Tr(x+7,E-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new Tr(x+7,E+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new Tr(x-7,E+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new Tr(x-7,E-7),!1,-1,-1).toResultPoint()}return x=Ot.round((o.getX()+p.getX()+u.getX()+d.getX())/4),E=Ot.round((o.getY()+p.getY()+u.getY()+d.getY())/4),new Tr(x,E)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,u,d,p,x){let E=ci.getInstance(),f=this.getDimension(),v=f/2-this.nbCenterLayers,_=f/2+this.nbCenterLayers;return E.sampleGrid(o,f,f,v,v,_,v,_,_,v,_,u.getX(),u.getY(),d.getX(),d.getY(),p.getX(),p.getY(),x.getX(),x.getY())}sampleLine(o,u,d){let p=0,x=this.distanceResultPoint(o,u),E=x/d,f=o.getX(),v=o.getY(),_=E*(u.getX()-o.getX())/x,C=E*(u.getY()-o.getY())/x;for(let O=0;O<d;O++)this.image.get(Ot.round(f+O*_),Ot.round(v+O*C))&&(p|=1<<d-O-1);return p}isWhiteOrBlackRectangle(o,u,d,p){let x=3;o=new Tr(o.getX()-x,o.getY()+x),u=new Tr(u.getX()-x,u.getY()-x),d=new Tr(d.getX()+x,d.getY()-x),p=new Tr(p.getX()+x,p.getY()+x);let E=this.getColor(p,o);if(E===0)return!1;let f=this.getColor(o,u);return f!==E||(f=this.getColor(u,d),f!==E)?!1:(f=this.getColor(d,p),f===E)}getColor(o,u){let d=this.distancePoint(o,u),p=(u.getX()-o.getX())/d,x=(u.getY()-o.getY())/d,E=0,f=o.getX(),v=o.getY(),_=this.image.get(o.getX(),o.getY()),C=Math.ceil(d);for(let M=0;M<C;M++)f+=p,v+=x,this.image.get(Ot.round(f),Ot.round(v))!==_&&E++;let O=E/d;return O>.1&&O<.9?0:O<=.1===_?1:-1}getFirstDifferent(o,u,d,p){let x=o.getX()+d,E=o.getY()+p;for(;this.isValid(x,E)&&this.image.get(x,E)===u;)x+=d,E+=p;for(x-=d,E-=p;this.isValid(x,E)&&this.image.get(x,E)===u;)x+=d;for(x-=d;this.isValid(x,E)&&this.image.get(x,E)===u;)E+=p;return E-=p,new Tr(x,E)}expandSquare(o,u,d){let p=d/(2*u),x=o[0].getX()-o[2].getX(),E=o[0].getY()-o[2].getY(),f=(o[0].getX()+o[2].getX())/2,v=(o[0].getY()+o[2].getY())/2,_=new ot(f+p*x,v+p*E),C=new ot(f-p*x,v-p*E);x=o[1].getX()-o[3].getX(),E=o[1].getY()-o[3].getY(),f=(o[1].getX()+o[3].getX())/2,v=(o[1].getY()+o[3].getY())/2;let O=new ot(f+p*x,v+p*E),M=new ot(f-p*x,v-p*E);return[_,O,C,M]}isValid(o,u){return o>=0&&o<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(o){let u=Ot.round(o.getX()),d=Ot.round(o.getY());return this.isValid(u,d)}distancePoint(o,u){return Ot.distance(o.getX(),o.getY(),u.getX(),u.getY())}distanceResultPoint(o,u){return Ot.distance(o.getX(),o.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(W.truncDivision(this.nbLayers-4,8)+1)+15}}class es{decode(o,u=null){let d=null,p=new lo(o.getBlackMatrix()),x=null,E=null;try{let C=p.detectMirror(!1);x=C.getPoints(),this.reportFoundResultPoints(u,x),E=new fn().decode(C)}catch(C){d=C}if(E==null)try{let C=p.detectMirror(!0);x=C.getPoints(),this.reportFoundResultPoints(u,x),E=new fn().decode(C)}catch(C){throw d??C}let f=new Fe(E.getText(),E.getRawBytes(),E.getNumBits(),x,Ne.AZTEC,k.currentTimeMillis()),v=E.getByteSegments();v!=null&&f.putMetadata(Tt.BYTE_SEGMENTS,v);let _=E.getECLevel();return _!=null&&f.putMetadata(Tt.ERROR_CORRECTION_LEVEL,_),f}reportFoundResultPoints(o,u){if(o!=null){let d=o.get(Q.NEED_RESULT_POINT_CALLBACK);d!=null&&u.forEach((p,x,E)=>{d.foundPossibleResultPoint(p)})}}reset(){}}class ts extends Ge{constructor(o=500){super(new es,o)}}class wn{decode(o,u){try{return this.doDecode(o,u)}catch{if(u&&u.get(Q.TRY_HARDER)===!0&&o.isRotateSupported()){const x=o.rotateCounterClockwise(),E=this.doDecode(x,u),f=E.getResultMetadata();let v=270;f!==null&&f.get(Tt.ORIENTATION)===!0&&(v=v+f.get(Tt.ORIENTATION)%360),E.putMetadata(Tt.ORIENTATION,v);const _=E.getResultPoints();if(_!==null){const C=x.getHeight();for(let O=0;O<_.length;O++)_[O]=new ot(C-_[O].getY()-1,_[O].getX())}return E}else throw new pe}}reset(){}doDecode(o,u){const d=o.getWidth(),p=o.getHeight();let x=new ne(d);const E=u&&u.get(Q.TRY_HARDER)===!0,f=Math.max(1,p>>(E?8:5));let v;E?v=p:v=15;const _=Math.trunc(p/2);for(let C=0;C<v;C++){const O=Math.trunc((C+1)/2),M=(C&1)===0,F=_+f*(M?O:-O);if(F<0||F>=p)break;try{x=o.getBlackRow(F,x)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(x.reverse(),u&&u.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){const X=new Map;u.forEach((re,te)=>X.set(te,re)),X.delete(Q.NEED_RESULT_POINT_CALLBACK),u=X}try{const X=this.decodeRow(F,x,u);if(z===1){X.putMetadata(Tt.ORIENTATION,180);const re=X.getResultPoints();re!==null&&(re[0]=new ot(d-re[0].getX()-1,re[0].getY()),re[1]=new ot(d-re[1].getX()-1,re[1].getY()))}return X}catch{}}}throw new pe}static recordPattern(o,u,d){const p=d.length;for(let _=0;_<p;_++)d[_]=0;const x=o.getSize();if(u>=x)throw new pe;let E=!o.get(u),f=0,v=u;for(;v<x;){if(o.get(v)!==E)d[f]++;else{if(++f===p)break;d[f]=1,E=!E}v++}if(!(f===p||f===p-1&&v===x))throw new pe}static recordPatternInReverse(o,u,d){let p=d.length,x=o.get(u);for(;u>0&&p>=0;)o.get(--u)!==x&&(p--,x=!x);if(p>=0)throw new pe;wn.recordPattern(o,u+1,d)}static patternMatchVariance(o,u,d){const p=o.length;let x=0,E=0;for(let _=0;_<p;_++)x+=o[_],E+=u[_];if(x<E)return Number.POSITIVE_INFINITY;const f=x/E;d*=f;let v=0;for(let _=0;_<p;_++){const C=o[_],O=u[_]*f,M=C>O?C-O:O-C;if(M>d)return Number.POSITIVE_INFINITY;v+=M}return v/x}}class Je extends wn{static findStartPattern(o){const u=o.getSize(),d=o.getNextSet(0);let p=0,x=Int32Array.from([0,0,0,0,0,0]),E=d,f=!1;const v=6;for(let _=d;_<u;_++)if(o.get(_)!==f)x[p]++;else{if(p===v-1){let C=Je.MAX_AVG_VARIANCE,O=-1;for(let M=Je.CODE_START_A;M<=Je.CODE_START_C;M++){const F=wn.patternMatchVariance(x,Je.CODE_PATTERNS[M],Je.MAX_INDIVIDUAL_VARIANCE);F<C&&(C=F,O=M)}if(O>=0&&o.isRange(Math.max(0,E-(_-E)/2),E,!1))return Int32Array.from([E,_,O]);E+=x[0]+x[1],x=x.slice(2,x.length-1),x[p-1]=0,x[p]=0,p--}else p++;x[p]=1,f=!f}throw new pe}static decodeCode(o,u,d){wn.recordPattern(o,d,u);let p=Je.MAX_AVG_VARIANCE,x=-1;for(let E=0;E<Je.CODE_PATTERNS.length;E++){const f=Je.CODE_PATTERNS[E],v=this.patternMatchVariance(u,f,Je.MAX_INDIVIDUAL_VARIANCE);v<p&&(p=v,x=E)}if(x>=0)return x;throw new pe}decodeRow(o,u,d){const p=d&&d.get(Q.ASSUME_GS1)===!0,x=Je.findStartPattern(u),E=x[2];let f=0;const v=new Uint8Array(20);v[f++]=E;let _;switch(E){case Je.CODE_START_A:_=Je.CODE_CODE_A;break;case Je.CODE_START_B:_=Je.CODE_CODE_B;break;case Je.CODE_START_C:_=Je.CODE_CODE_C;break;default:throw new U}let C=!1,O=!1,M="",F=x[0],z=x[1];const X=Int32Array.from([0,0,0,0,0,0]);let re=0,te=0,oe=E,ce=0,le=!0,me=!1,de=!1;for(;!C;){const Ze=O;switch(O=!1,re=te,te=Je.decodeCode(u,X,z),v[f++]=te,te!==Je.CODE_STOP&&(le=!0),te!==Je.CODE_STOP&&(ce++,oe+=ce*te),F=z,z+=X.reduce((ht,ft)=>ht+ft,0),te){case Je.CODE_START_A:case Je.CODE_START_B:case Je.CODE_START_C:throw new U}switch(_){case Je.CODE_CODE_A:if(te<64)de===me?M+=String.fromCharCode(32+te):M+=String.fromCharCode(32+te+128),de=!1;else if(te<96)de===me?M+=String.fromCharCode(te-64):M+=String.fromCharCode(te+64),de=!1;else switch(te!==Je.CODE_STOP&&(le=!1),te){case Je.CODE_FNC_1:p&&(M.length===0?M+="]C1":M+="");break;case Je.CODE_FNC_2:case Je.CODE_FNC_3:break;case Je.CODE_FNC_4_A:!me&&de?(me=!0,de=!1):me&&de?(me=!1,de=!1):de=!0;break;case Je.CODE_SHIFT:O=!0,_=Je.CODE_CODE_B;break;case Je.CODE_CODE_B:_=Je.CODE_CODE_B;break;case Je.CODE_CODE_C:_=Je.CODE_CODE_C;break;case Je.CODE_STOP:C=!0;break}break;case Je.CODE_CODE_B:if(te<96)de===me?M+=String.fromCharCode(32+te):M+=String.fromCharCode(32+te+128),de=!1;else switch(te!==Je.CODE_STOP&&(le=!1),te){case Je.CODE_FNC_1:p&&(M.length===0?M+="]C1":M+="");break;case Je.CODE_FNC_2:case Je.CODE_FNC_3:break;case Je.CODE_FNC_4_B:!me&&de?(me=!0,de=!1):me&&de?(me=!1,de=!1):de=!0;break;case Je.CODE_SHIFT:O=!0,_=Je.CODE_CODE_A;break;case Je.CODE_CODE_A:_=Je.CODE_CODE_A;break;case Je.CODE_CODE_C:_=Je.CODE_CODE_C;break;case Je.CODE_STOP:C=!0;break}break;case Je.CODE_CODE_C:if(te<100)te<10&&(M+="0"),M+=te;else switch(te!==Je.CODE_STOP&&(le=!1),te){case Je.CODE_FNC_1:p&&(M.length===0?M+="]C1":M+="");break;case Je.CODE_CODE_A:_=Je.CODE_CODE_A;break;case Je.CODE_CODE_B:_=Je.CODE_CODE_B;break;case Je.CODE_STOP:C=!0;break}break}Ze&&(_=_===Je.CODE_CODE_A?Je.CODE_CODE_B:Je.CODE_CODE_A)}const be=z-F;if(z=u.getNextUnset(z),!u.isRange(z,Math.min(u.getSize(),z+(z-F)/2),!1))throw new pe;if(oe-=ce*re,oe%103!==re)throw new R;const Ce=M.length;if(Ce===0)throw new pe;Ce>0&&le&&(_===Je.CODE_CODE_C?M=M.substring(0,Ce-2):M=M.substring(0,Ce-1));const xe=(x[1]+x[0])/2,Pe=F+be/2,qe=v.length,it=new Uint8Array(qe);for(let Ze=0;Ze<qe;Ze++)it[Ze]=v[Ze];const lt=[new ot(xe,o),new ot(Pe,o)];return new Fe(M,it,0,lt,Ne.CODE_128,new Date().getTime())}}Je.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Je.MAX_AVG_VARIANCE=.25,Je.MAX_INDIVIDUAL_VARIANCE=.7,Je.CODE_SHIFT=98,Je.CODE_CODE_C=99,Je.CODE_CODE_B=100,Je.CODE_CODE_A=101,Je.CODE_FNC_1=102,Je.CODE_FNC_2=97,Je.CODE_FNC_3=96,Je.CODE_FNC_4_A=101,Je.CODE_FNC_4_B=100,Je.CODE_START_A=103,Je.CODE_START_B=104,Je.CODE_START_C=105,Je.CODE_STOP=106;class sn extends wn{constructor(o=!1,u=!1){super(),this.usingCheckDigit=o,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,u,d){let p=this.counters;p.fill(0),this.decodeRowResult="";let x=sn.findAsteriskPattern(u,p),E=u.getNextSet(x[1]),f=u.getSize(),v,_;do{sn.recordPattern(u,E,p);let X=sn.toNarrowWidePattern(p);if(X<0)throw new pe;v=sn.patternToChar(X),this.decodeRowResult+=v,_=E;for(let re of p)E+=re;E=u.getNextSet(E)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let X of p)C+=X;let O=E-_-C;if(E!==f&&O*2<C)throw new pe;if(this.usingCheckDigit){let X=this.decodeRowResult.length-1,re=0;for(let te=0;te<X;te++)re+=sn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt(X)!==sn.ALPHABET_STRING.charAt(re%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,X)}if(this.decodeRowResult.length===0)throw new pe;let M;this.extendedMode?M=sn.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;let F=(x[1]+x[0])/2,z=_+C/2;return new Fe(M,null,0,[new ot(F,o),new ot(z,o)],Ne.CODE_39,new Date().getTime())}static findAsteriskPattern(o,u){let d=o.getSize(),p=o.getNextSet(0),x=0,E=p,f=!1,v=u.length;for(let _=p;_<d;_++)if(o.get(_)!==f)u[x]++;else{if(x===v-1){if(this.toNarrowWidePattern(u)===sn.ASTERISK_ENCODING&&o.isRange(Math.max(0,E-Math.floor((_-E)/2)),E,!1))return[E,_];E+=u[0]+u[1],u.copyWithin(0,2,2+x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,f=!f}throw new pe}static toNarrowWidePattern(o){let u=o.length,d=0,p;do{let x=2147483647;for(let v of o)v<x&&v>d&&(x=v);d=x,p=0;let E=0,f=0;for(let v=0;v<u;v++){let _=o[v];_>d&&(f|=1<<u-1-v,p++,E+=_)}if(p===3){for(let v=0;v<u&&p>0;v++){let _=o[v];if(_>d&&(p--,_*2>=E))return-1}return f}}while(p>3);return-1}static patternToChar(o){for(let u=0;u<sn.CHARACTER_ENCODINGS.length;u++)if(sn.CHARACTER_ENCODINGS[u]===o)return sn.ALPHABET_STRING.charAt(u);if(o===sn.ASTERISK_ENCODING)return"*";throw new pe}static decodeExtended(o){let u=o.length,d="";for(let p=0;p<u;p++){let x=o.charAt(p);if(x==="+"||x==="$"||x==="%"||x==="/"){let E=o.charAt(p+1),f="\0";switch(x){case"+":if(E>="A"&&E<="Z")f=String.fromCharCode(E.charCodeAt(0)+32);else throw new U;break;case"$":if(E>="A"&&E<="Z")f=String.fromCharCode(E.charCodeAt(0)-64);else throw new U;break;case"%":if(E>="A"&&E<="E")f=String.fromCharCode(E.charCodeAt(0)-38);else if(E>="F"&&E<="J")f=String.fromCharCode(E.charCodeAt(0)-11);else if(E>="K"&&E<="O")f=String.fromCharCode(E.charCodeAt(0)+16);else if(E>="P"&&E<="T")f=String.fromCharCode(E.charCodeAt(0)+43);else if(E==="U")f="\0";else if(E==="V")f="@";else if(E==="W")f="`";else if(E==="X"||E==="Y"||E==="Z")f="";else throw new U;break;case"/":if(E>="A"&&E<="O")f=String.fromCharCode(E.charCodeAt(0)-32);else if(E==="Z")f=":";else throw new U;break}d+=f,p++}else d+=x}return d}}sn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",sn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],sn.ASTERISK_ENCODING=148;class Xe extends wn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,u,d){let p=this.decodeStart(u),x=this.decodeEnd(u),E=new J;Xe.decodeMiddle(u,p[1],x[0],E);let f=E.toString(),v=null;d!=null&&(v=d.get(Q.ALLOWED_LENGTHS)),v==null&&(v=Xe.DEFAULT_ALLOWED_LENGTHS);let _=f.length,C=!1,O=0;for(let z of v){if(_===z){C=!0;break}z>O&&(O=z)}if(!C&&_>O&&(C=!0),!C)throw new U;const M=[new ot(p[1],o),new ot(x[0],o)];return new Fe(f,null,0,M,Ne.ITF,new Date().getTime())}static decodeMiddle(o,u,d,p){let x=new Int32Array(10),E=new Int32Array(5),f=new Int32Array(5);for(x.fill(0),E.fill(0),f.fill(0);u<d;){wn.recordPattern(o,u,x);for(let _=0;_<5;_++){let C=2*_;E[_]=x[C],f[_]=x[C+1]}let v=Xe.decodeDigit(E);p.append(v.toString()),v=this.decodeDigit(f),p.append(v.toString()),x.forEach(function(_){u+=_})}}decodeStart(o){let u=Xe.skipWhiteSpace(o),d=Xe.findGuardPattern(o,u,Xe.START_PATTERN);return this.narrowLineWidth=(d[1]-d[0])/4,this.validateQuietZone(o,d[0]),d}validateQuietZone(o,u){let d=this.narrowLineWidth*10;d=d<u?d:u;for(let p=u-1;d>0&&p>=0&&!o.get(p);p--)d--;if(d!==0)throw new pe}static skipWhiteSpace(o){const u=o.getSize(),d=o.getNextSet(0);if(d===u)throw new pe;return d}decodeEnd(o){o.reverse();try{let u=Xe.skipWhiteSpace(o),d;try{d=Xe.findGuardPattern(o,u,Xe.END_PATTERN_REVERSED[0])}catch(x){x instanceof pe&&(d=Xe.findGuardPattern(o,u,Xe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,d[0]);let p=d[0];return d[0]=o.getSize()-d[1],d[1]=o.getSize()-p,d}finally{o.reverse()}}static findGuardPattern(o,u,d){let p=d.length,x=new Int32Array(p),E=o.getSize(),f=!1,v=0,_=u;x.fill(0);for(let C=u;C<E;C++)if(o.get(C)!==f)x[v]++;else{if(v===p-1){if(wn.patternMatchVariance(x,d,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return[_,C];_+=x[0]+x[1],k.arraycopy(x,2,x,0,v-1),x[v-1]=0,x[v]=0,v--}else v++;x[v]=1,f=!f}throw new pe}static decodeDigit(o){let u=Xe.MAX_AVG_VARIANCE,d=-1,p=Xe.PATTERNS.length;for(let x=0;x<p;x++){let E=Xe.PATTERNS[x],f=wn.patternMatchVariance(o,E,Xe.MAX_INDIVIDUAL_VARIANCE);f<u?(u=f,d=x):f===u&&(d=-1)}if(d>=0)return d%10;throw new pe}}Xe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Xe.MAX_AVG_VARIANCE=.38,Xe.MAX_INDIVIDUAL_VARIANCE=.5,Xe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Xe.START_PATTERN=Int32Array.from([1,1,1,1]),Xe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class kn extends wn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let u=!1,d,p=0,x=Int32Array.from([0,0,0]);for(;!u;){x=Int32Array.from([0,0,0]),d=kn.findGuardPattern(o,p,!1,this.START_END_PATTERN,x);let E=d[0];p=d[1];let f=E-(p-E);f>=0&&(u=o.isRange(f,E,!1))}return d}static checkChecksum(o){return kn.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let d=parseInt(o.charAt(u-1),10);return kn.getStandardUPCEANChecksum(o.substring(0,u-1))===d}static getStandardUPCEANChecksum(o){let u=o.length,d=0;for(let p=u-1;p>=0;p-=2){let x=o.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new U;d+=x}d*=3;for(let p=u-2;p>=0;p-=2){let x=o.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new U;d+=x}return(1e3-d)%10}static decodeEnd(o,u){return kn.findGuardPattern(o,u,!1,kn.START_END_PATTERN,new Int32Array(kn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,u,d,p){return this.findGuardPattern(o,u,d,p,new Int32Array(p.length))}static findGuardPattern(o,u,d,p,x){let E=o.getSize();u=d?o.getNextUnset(u):o.getNextSet(u);let f=0,v=u,_=p.length,C=d;for(let O=u;O<E;O++)if(o.get(O)!==C)x[f]++;else{if(f===_-1){if(wn.patternMatchVariance(x,p,kn.MAX_INDIVIDUAL_VARIANCE)<kn.MAX_AVG_VARIANCE)return Int32Array.from([v,O]);v+=x[0]+x[1];let M=x.slice(2,x.length-1);for(let F=0;F<f-1;F++)x[F]=M[F];x[f-1]=0,x[f]=0,f--}else f++;x[f]=1,C=!C}throw new pe}static decodeDigit(o,u,d,p){this.recordPattern(o,d,u);let x=this.MAX_AVG_VARIANCE,E=-1,f=p.length;for(let v=0;v<f;v++){let _=p[v],C=wn.patternMatchVariance(u,_,kn.MAX_INDIVIDUAL_VARIANCE);C<x&&(x=C,E=v)}if(E>=0)return E;throw new pe}}kn.MAX_AVG_VARIANCE=.48,kn.MAX_INDIVIDUAL_VARIANCE=.7,kn.START_END_PATTERN=Int32Array.from([1,1,1]),kn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),kn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),kn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class yi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,d){let p=this.decodeRowStringBuffer,x=this.decodeMiddle(u,d,p),E=p.toString(),f=yi.parseExtensionString(E),v=[new ot((d[0]+d[1])/2,o),new ot(x,o)],_=new Fe(E,null,0,v,Ne.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&_.putAllMetadata(f),_}decodeMiddle(o,u,d){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=o.getSize(),E=u[1],f=0;for(let _=0;_<5&&E<x;_++){let C=kn.decodeDigit(o,p,E,kn.L_AND_G_PATTERNS);d+=String.fromCharCode(48+C%10);for(let O of p)E+=O;C>=10&&(f|=1<<4-_),_!==4&&(E=o.getNextSet(E),E=o.getNextUnset(E))}if(d.length!==5)throw new pe;let v=this.determineCheckDigit(f);if(yi.extensionChecksum(d.toString())!==v)throw new pe;return E}static extensionChecksum(o){let u=o.length,d=0;for(let p=u-2;p>=0;p-=2)d+=o.charAt(p).charCodeAt(0)-48;d*=3;for(let p=u-1;p>=0;p-=2)d+=o.charAt(p).charCodeAt(0)-48;return d*=3,d%10}determineCheckDigit(o){for(let u=0;u<10;u++)if(o===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new pe}static parseExtensionString(o){if(o.length!==5)return null;let u=yi.parseExtension5String(o);return u==null?null:new Map([[Tt.SUGGESTED_PRICE,u]])}static parseExtension5String(o){let u;switch(o.charAt(0)){case"0":u="";break;case"5":u="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let d=parseInt(o.substring(1)),p=(d/100).toString(),x=d%100,E=x<10?"0"+x:x.toString();return u+p+"."+E}}class bs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,d){let p=this.decodeRowStringBuffer,x=this.decodeMiddle(u,d,p),E=p.toString(),f=bs.parseExtensionString(E),v=[new ot((d[0]+d[1])/2,o),new ot(x,o)],_=new Fe(E,null,0,v,Ne.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&_.putAllMetadata(f),_}decodeMiddle(o,u,d){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=o.getSize(),E=u[1],f=0;for(let v=0;v<2&&E<x;v++){let _=kn.decodeDigit(o,p,E,kn.L_AND_G_PATTERNS);d+=String.fromCharCode(48+_%10);for(let C of p)E+=C;_>=10&&(f|=1<<1-v),v!==1&&(E=o.getNextSet(E),E=o.getNextUnset(E))}if(d.length!==2)throw new pe;if(parseInt(d.toString())%4!==f)throw new pe;return E}static parseExtensionString(o){return o.length!==2?null:new Map([[Tt.ISSUE_NUMBER,parseInt(o)]])}}class ut{static decodeRow(o,u,d){let p=kn.findGuardPattern(u,d,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new yi().decodeRow(o,u,p)}catch{return new bs().decodeRow(o,u,p)}}}ut.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Qt extends kn{constructor(){super(),this.decodeRowStringBuffer="",Qt.L_AND_G_PATTERNS=Qt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let u=Qt.L_PATTERNS[o-10],d=new Int32Array(u.length);for(let p=0;p<u.length;p++)d[p]=u[u.length-p-1];Qt.L_AND_G_PATTERNS[o]=d}}decodeRow(o,u,d){let p=Qt.findStartGuardPattern(u),x=d==null?null:d.get(Q.NEED_RESULT_POINT_CALLBACK);if(x!=null){const le=new ot((p[0]+p[1])/2,o);x.foundPossibleResultPoint(le)}let E=this.decodeMiddle(u,p,this.decodeRowStringBuffer),f=E.rowOffset,v=E.resultString;if(x!=null){const le=new ot(f,o);x.foundPossibleResultPoint(le)}let _=this.decodeEnd(u,f);if(x!=null){const le=new ot((_[0]+_[1])/2,o);x.foundPossibleResultPoint(le)}let C=_[1],O=C+(C-_[0]);if(O>=u.getSize()||!u.isRange(C,O,!1))throw new pe;let M=v.toString();if(M.length<8)throw new U;if(!Qt.checkChecksum(M))throw new R;let F=(p[1]+p[0])/2,z=(_[1]+_[0])/2,X=this.getBarcodeFormat(),re=[new ot(F,o),new ot(z,o)],te=new Fe(M,null,0,re,X,new Date().getTime()),oe=0;try{let le=ut.decodeRow(o,u,_[1]);te.putMetadata(Tt.UPC_EAN_EXTENSION,le.getText()),te.putAllMetadata(le.getResultMetadata()),te.addResultPoints(le.getResultPoints()),oe=le.getText().length}catch{}let ce=d==null?null:d.get(Q.ALLOWED_EAN_EXTENSIONS);if(ce!=null){let le=!1;for(let me in ce)if(oe.toString()===me){le=!0;break}if(!le)throw new pe}return te}decodeEnd(o,u){return Qt.findGuardPattern(o,u,!1,Qt.START_END_PATTERN,new Int32Array(Qt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return Qt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let d=parseInt(o.charAt(u-1),10);return Qt.getStandardUPCEANChecksum(o.substring(0,u-1))===d}static getStandardUPCEANChecksum(o){let u=o.length,d=0;for(let p=u-1;p>=0;p-=2){let x=o.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new U;d+=x}d*=3;for(let p=u-2;p>=0;p-=2){let x=o.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new U;d+=x}return(1e3-d)%10}}class Wn extends Qt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,d){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=o.getSize(),E=u[1],f=0;for(let _=0;_<6&&E<x;_++){let C=Qt.decodeDigit(o,p,E,Qt.L_AND_G_PATTERNS);d+=String.fromCharCode(48+C%10);for(let O of p)E+=O;C>=10&&(f|=1<<5-_)}d=Wn.determineFirstDigit(d,f),E=Qt.findGuardPattern(o,E,!0,Qt.MIDDLE_PATTERN,new Int32Array(Qt.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<6&&E<x;_++){let C=Qt.decodeDigit(o,p,E,Qt.L_PATTERNS);d+=String.fromCharCode(48+C);for(let O of p)E+=O}return{rowOffset:E,resultString:d}}getBarcodeFormat(){return Ne.EAN_13}static determineFirstDigit(o,u){for(let d=0;d<10;d++)if(u===this.FIRST_DIGIT_ENCODINGS[d])return o=String.fromCharCode(48+d)+o,o;throw new pe}}Wn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ia extends Qt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,d){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=o.getSize(),E=u[1];for(let v=0;v<4&&E<x;v++){let _=Qt.decodeDigit(o,p,E,Qt.L_PATTERNS);d+=String.fromCharCode(48+_);for(let C of p)E+=C}E=Qt.findGuardPattern(o,E,!0,Qt.MIDDLE_PATTERN,new Int32Array(Qt.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<4&&E<x;v++){let _=Qt.decodeDigit(o,p,E,Qt.L_PATTERNS);d+=String.fromCharCode(48+_);for(let C of p)E+=C}return{rowOffset:E,resultString:d}}getBarcodeFormat(){return Ne.EAN_8}}class Sa extends Qt{constructor(){super(...arguments),this.ean13Reader=new Wn}getBarcodeFormat(){return Ne.UPC_A}decode(o,u){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,u,d){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,u,d))}decodeMiddle(o,u,d){return this.ean13Reader.decodeMiddle(o,u,d)}maybeReturnResult(o){let u=o.getText();if(u.charAt(0)==="0"){let d=new Fe(u.substring(1),null,null,o.getResultPoints(),Ne.UPC_A);return o.getResultMetadata()!=null&&d.putAllMetadata(o.getResultMetadata()),d}else throw new pe}reset(){this.ean13Reader.reset()}}class mr extends Qt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,u,d){const p=this.decodeMiddleCounters.map(_=>_);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const x=o.getSize();let E=u[1],f=0;for(let _=0;_<6&&E<x;_++){const C=mr.decodeDigit(o,p,E,mr.L_AND_G_PATTERNS);d+=String.fromCharCode(48+C%10);for(let O of p)E+=O;C>=10&&(f|=1<<5-_)}let v=mr.determineNumSysAndCheckDigit(d,f);return{rowOffset:E,resultString:v}}decodeEnd(o,u){return mr.findGuardPatternWithoutCounters(o,u,!0,mr.MIDDLE_END_PATTERN)}checkChecksum(o){return Qt.checkChecksum(mr.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,u){for(let d=0;d<=1;d++)for(let p=0;p<10;p++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[d][p]){let x=String.fromCharCode(48+d),E=String.fromCharCode(48+p);return x+o+E}throw pe.getNotFoundInstance()}getBarcodeFormat(){return Ne.UPC_E}static convertUPCEtoUPCA(o){const u=o.slice(1,7).split("").map(x=>x.charCodeAt(0)),d=new J;d.append(o.charAt(0));let p=u[5];switch(p){case 0:case 1:case 2:d.appendChars(u,0,2),d.append(p),d.append("0000"),d.appendChars(u,2,3);break;case 3:d.appendChars(u,0,3),d.append("00000"),d.appendChars(u,3,2);break;case 4:d.appendChars(u,0,4),d.append("00000"),d.append(u[4]);break;default:d.appendChars(u,0,5),d.append("0000"),d.append(p);break}return o.length>=8&&d.append(o.charAt(7)),d.toString()}}mr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),mr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class cl extends wn{constructor(o){super();let u=o==null?null:o.get(Q.POSSIBLE_FORMATS),d=[];r(u)?(d.push(new Wn),d.push(new Sa),d.push(new ia),d.push(new mr)):(u.indexOf(Ne.EAN_13)>-1&&d.push(new Wn),u.indexOf(Ne.UPC_A)>-1&&d.push(new Sa),u.indexOf(Ne.EAN_8)>-1&&d.push(new ia),u.indexOf(Ne.UPC_E)>-1&&d.push(new mr)),this.readers=d}decodeRow(o,u,d){for(let p of this.readers)try{const x=p.decodeRow(o,u,d),E=x.getBarcodeFormat()===Ne.EAN_13&&x.getText().charAt(0)==="0",f=d==null?null:d.get(Q.POSSIBLE_FORMATS),v=f==null||f.includes(Ne.UPC_A);if(E&&v){const _=x.getRawBytes(),C=new Fe(x.getText().substring(1),_,_?_.length:null,x.getResultPoints(),Ne.UPC_A);return C.putAllMetadata(x.getResultMetadata()),C}return x}catch{}throw new pe}reset(){for(let o of this.readers)o.reset()}}class Kr extends wn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,u){for(let d=0;d<u.length;d++)if(wn.patternMatchVariance(o,u[d],Kr.MAX_INDIVIDUAL_VARIANCE)<Kr.MAX_AVG_VARIANCE)return d;throw new pe}static count(o){return Ot.sum(new Int32Array(o))}static increment(o,u){let d=0,p=u[0];for(let x=1;x<o.length;x++)u[x]>p&&(p=u[x],d=x);o[d]++}static decrement(o,u){let d=0,p=u[0];for(let x=1;x<o.length;x++)u[x]<p&&(p=u[x],d=x);o[d]--}static isFinderPattern(o){let u=o[0]+o[1],d=u+o[2]+o[3],p=u/d;if(p>=Kr.MIN_FINDER_PATTERN_RATIO&&p<=Kr.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER;for(let f of o)f>E&&(E=f),f<x&&(x=f);return E<10*x}return!1}}Kr.MAX_AVG_VARIANCE=.2,Kr.MAX_INDIVIDUAL_VARIANCE=.45,Kr.MIN_FINDER_PATTERN_RATIO=9.5/12,Kr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Lr{constructor(o,u){this.value=o,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof Lr))return!1;const u=o;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ri{constructor(o,u,d,p,x){this.value=o,this.startEnd=u,this.value=o,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new ot(d,x)),this.resultPoints.push(new ot(p,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof Ri))return!1;const u=o;return this.value===u.value}hashCode(){return this.value}}class Hi{constructor(){}static getRSSvalue(o,u,d){let p=0;for(let v of o)p+=v;let x=0,E=0,f=o.length;for(let v=0;v<f-1;v++){let _;for(_=1,E|=1<<v;_<o[v];_++,E&=~(1<<v)){let C=Hi.combins(p-_-1,f-v-2);if(d&&E===0&&p-_-(f-v-1)>=f-v-1&&(C-=Hi.combins(p-_-(f-v),f-v-2)),f-v-1>1){let O=0;for(let M=p-_-(f-v-2);M>u;M--)O+=Hi.combins(p-_-M-1,f-v-3);C-=O*(f-1-v)}else p-_>u&&C--;x+=C}p-=_}return x}static combins(o,u){let d,p;o-u>u?(p=u,d=o-u):(p=o-u,d=u);let x=1,E=1;for(let f=o;f>d;f--)x*=f,E<=p&&(x/=E,E++);for(;E<=p;)x/=E,E++;return x}}class ns{static buildBitArray(o){let u=o.length*2-1;o[o.length-1].getRightChar()==null&&(u-=1);let d=12*u,p=new ne(d),x=0,f=o[0].getRightChar().getValue();for(let v=11;v>=0;--v)(f&1<<v)!=0&&p.set(x),x++;for(let v=1;v<o.length;++v){let _=o[v],C=_.getLeftChar().getValue();for(let O=11;O>=0;--O)(C&1<<O)!=0&&p.set(x),x++;if(_.getRightChar()!=null){let O=_.getRightChar().getValue();for(let M=11;M>=0;--M)(O&1<<M)!=0&&p.set(x),x++}}return p}}class xn{constructor(o,u){u?this.decodedInformation=null:(this.finished=o,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class or{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Br extends or{constructor(o,u){super(o),this.value=u}getValue(){return this.value}isFNC1(){return this.value===Br.FNC1}}Br.FNC1="$";class ei extends or{constructor(o,u,d){super(o),d?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ti extends or{constructor(o,u,d){if(super(o),u<0||u>10||d<0||d>10)throw new U;this.firstDigit=u,this.secondDigit=d}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ti.FNC1}isSecondDigitFNC1(){return this.secondDigit===ti.FNC1}isAnyFNC1(){return this.firstDigit===ti.FNC1||this.secondDigit===ti.FNC1}}ti.FNC1=10;class ct{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new pe;let u=o.substring(0,2);for(let x of ct.TWO_DIGIT_DATA_LENGTH)if(x[0]===u)return x[1]===ct.VARIABLE_LENGTH?ct.processVariableAI(2,x[2],o):ct.processFixedAI(2,x[1],o);if(o.length<3)throw new pe;let d=o.substring(0,3);for(let x of ct.THREE_DIGIT_DATA_LENGTH)if(x[0]===d)return x[1]===ct.VARIABLE_LENGTH?ct.processVariableAI(3,x[2],o):ct.processFixedAI(3,x[1],o);for(let x of ct.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===d)return x[1]===ct.VARIABLE_LENGTH?ct.processVariableAI(4,x[2],o):ct.processFixedAI(4,x[1],o);if(o.length<4)throw new pe;let p=o.substring(0,4);for(let x of ct.FOUR_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===ct.VARIABLE_LENGTH?ct.processVariableAI(4,x[2],o):ct.processFixedAI(4,x[1],o);throw new pe}static processFixedAI(o,u,d){if(d.length<o)throw new pe;let p=d.substring(0,o);if(d.length<o+u)throw new pe;let x=d.substring(o,o+u),E=d.substring(o+u),f="("+p+")"+x,v=ct.parseFieldsInGeneralPurpose(E);return v==null?f:f+v}static processVariableAI(o,u,d){let p=d.substring(0,o),x;d.length<o+u?x=d.length:x=o+u;let E=d.substring(o,x),f=d.substring(x),v="("+p+")"+E,_=ct.parseFieldsInGeneralPurpose(f);return _==null?v:v+_}}ct.VARIABLE_LENGTH=[],ct.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ct.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ct.VARIABLE_LENGTH,20],["22",ct.VARIABLE_LENGTH,29],["30",ct.VARIABLE_LENGTH,8],["37",ct.VARIABLE_LENGTH,8],["90",ct.VARIABLE_LENGTH,30],["91",ct.VARIABLE_LENGTH,30],["92",ct.VARIABLE_LENGTH,30],["93",ct.VARIABLE_LENGTH,30],["94",ct.VARIABLE_LENGTH,30],["95",ct.VARIABLE_LENGTH,30],["96",ct.VARIABLE_LENGTH,30],["97",ct.VARIABLE_LENGTH,3],["98",ct.VARIABLE_LENGTH,30],["99",ct.VARIABLE_LENGTH,30]],ct.THREE_DIGIT_DATA_LENGTH=[["240",ct.VARIABLE_LENGTH,30],["241",ct.VARIABLE_LENGTH,30],["242",ct.VARIABLE_LENGTH,6],["250",ct.VARIABLE_LENGTH,30],["251",ct.VARIABLE_LENGTH,30],["253",ct.VARIABLE_LENGTH,17],["254",ct.VARIABLE_LENGTH,20],["400",ct.VARIABLE_LENGTH,30],["401",ct.VARIABLE_LENGTH,30],["402",17],["403",ct.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ct.VARIABLE_LENGTH,20],["421",ct.VARIABLE_LENGTH,15],["422",3],["423",ct.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ct.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ct.VARIABLE_LENGTH,15],["391",ct.VARIABLE_LENGTH,18],["392",ct.VARIABLE_LENGTH,15],["393",ct.VARIABLE_LENGTH,18],["703",ct.VARIABLE_LENGTH,30]],ct.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ct.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ct.VARIABLE_LENGTH,20],["8003",ct.VARIABLE_LENGTH,30],["8004",ct.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ct.VARIABLE_LENGTH,30],["8008",ct.VARIABLE_LENGTH,12],["8018",18],["8020",ct.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ct.VARIABLE_LENGTH,70],["8200",ct.VARIABLE_LENGTH,70]];class vi{constructor(o){this.buffer=new J,this.information=o}decodeAllCodes(o,u){let d=u,p=null;do{let x=this.decodeGeneralPurposeField(d,p),E=ct.parseFieldsInGeneralPurpose(x.getNewString());if(E!=null&&o.append(E),x.isRemaining()?p=""+x.getRemainingValue():p=null,d===x.getNewPosition())break;d=x.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let u=o;u<o+3;++u)if(this.information.get(u))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(o,4);return x===0?new ti(this.information.getSize(),ti.FNC1,ti.FNC1):new ti(this.information.getSize(),x-1,ti.FNC1)}let u=this.extractNumericValueFromBitArray(o,7),d=(u-8)/11,p=(u-8)%11;return new ti(o+7,d,p)}extractNumericValueFromBitArray(o,u){return vi.extractNumericValueFromBitArray(this.information,o,u)}static extractNumericValueFromBitArray(o,u,d){let p=0;for(let x=0;x<d;++x)o.get(u+x)&&(p|=1<<d-x-1);return p}decodeGeneralPurposeField(o,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(o);let d=this.parseBlocks();return d!=null&&d.isRemaining()?new ei(this.current.getPosition(),this.buffer.toString(),d.getRemainingValue()):new ei(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,u;do{let d=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),o=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),o=u.isFinished()):(u=this.parseNumericBlock(),o=u.isFinished()),!(d!==this.current.getPosition())&&!o)break}while(!o);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let u;return o.isSecondDigitFNC1()?u=new ei(this.current.getPosition(),this.buffer.toString()):u=new ei(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new xn(!0,u)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let u=new ei(this.current.getPosition(),this.buffer.toString());return new xn(!0,u)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new xn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new ei(this.current.getPosition(),this.buffer.toString());return new xn(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new xn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new ei(this.current.getPosition(),this.buffer.toString());return new xn(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new xn(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+7>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(o,7);if(d>=64&&d<116)return!0;if(o+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(o,8);return p>=232&&p<253}decodeIsoIec646(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Br(o+5,Br.FNC1);if(u>=5&&u<15)return new Br(o+5,"0"+(u-5));let d=this.extractNumericValueFromBitArray(o,7);if(d>=64&&d<90)return new Br(o+7,""+(d+1));if(d>=90&&d<116)return new Br(o+7,""+(d+7));let p=this.extractNumericValueFromBitArray(o,8),x;switch(p){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new U}return new Br(o+8,x)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+6>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(o,6);return d>=16&&d<63}decodeAlphanumeric(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Br(o+5,Br.FNC1);if(u>=5&&u<15)return new Br(o+5,"0"+(u-5));let d=this.extractNumericValueFromBitArray(o,6);if(d>=32&&d<58)return new Br(o+6,""+(d+33));let p;switch(d){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new cn("Decoding invalid alphanumeric value: "+d)}return new Br(o+6,p)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<5&&u+o<this.information.getSize();++u)if(u===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+u))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let u=o;u<o+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<4&&u+o<this.information.getSize();++u)if(this.information.get(o+u))return!1;return!0}}class jn{constructor(o){this.information=o,this.generalDecoder=new vi(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class dn extends jn{constructor(o){super(o)}encodeCompressedGtin(o,u){o.append("(01)");let d=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,u,d)}encodeCompressedGtinWithoutAI(o,u,d){for(let p=0;p<4;++p){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*p,10);x/100===0&&o.append("0"),x/10===0&&o.append("0"),o.append(x)}dn.appendCheckDigit(o,d)}static appendCheckDigit(o,u){let d=0;for(let p=0;p<13;p++){let x=o.charAt(p+u).charCodeAt(0)-48;d+=(p&1)===0?3*x:x}d=10-d%10,d===10&&(d=0),o.append(d)}}dn.GTIN_SIZE=40;class wr extends dn{constructor(o){super(o)}parseInformation(){let o=new J;o.append("(01)");let u=o.length(),d=this.getGeneralDecoder().extractNumericValueFromBitArray(wr.HEADER_SIZE,4);return o.append(d),this.encodeCompressedGtinWithoutAI(o,wr.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(o,wr.HEADER_SIZE+44)}}wr.HEADER_SIZE=4;class Ca extends jn{constructor(o){super(o)}parseInformation(){let o=new J;return this.getGeneralDecoder().decodeAllCodes(o,Ca.HEADER_SIZE)}}Ca.HEADER_SIZE=5;class Co extends dn{constructor(o){super(o)}encodeCompressedWeight(o,u,d){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(u,d);this.addWeightCode(o,p);let x=this.checkWeight(p),E=1e5;for(let f=0;f<5;++f)x/E===0&&o.append("0"),E/=10;o.append(x)}}class Fr extends Co{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Fr.HEADER_SIZE+Co.GTIN_SIZE+Fr.WEIGHT_SIZE)throw new pe;let o=new J;return this.encodeCompressedGtin(o,Fr.HEADER_SIZE),this.encodeCompressedWeight(o,Fr.HEADER_SIZE+Co.GTIN_SIZE,Fr.WEIGHT_SIZE),o.toString()}}Fr.HEADER_SIZE=5,Fr.WEIGHT_SIZE=15;class fl extends Fr{constructor(o){super(o)}addWeightCode(o,u){o.append("(3103)")}checkWeight(o){return o}}class xi extends Fr{constructor(o){super(o)}addWeightCode(o,u){u<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class bi extends dn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<bi.HEADER_SIZE+dn.GTIN_SIZE)throw new pe;let o=new J;this.encodeCompressedGtin(o,bi.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(bi.HEADER_SIZE+dn.GTIN_SIZE,bi.LAST_DIGIT_SIZE);o.append("(392"),o.append(u),o.append(")");let d=this.getGeneralDecoder().decodeGeneralPurposeField(bi.HEADER_SIZE+dn.GTIN_SIZE+bi.LAST_DIGIT_SIZE,null);return o.append(d.getNewString()),o.toString()}}bi.HEADER_SIZE=8,bi.LAST_DIGIT_SIZE=2;class Yn extends dn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Yn.HEADER_SIZE+dn.GTIN_SIZE)throw new pe;let o=new J;this.encodeCompressedGtin(o,Yn.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Yn.HEADER_SIZE+dn.GTIN_SIZE,Yn.LAST_DIGIT_SIZE);o.append("(393"),o.append(u),o.append(")");let d=this.getGeneralDecoder().extractNumericValueFromBitArray(Yn.HEADER_SIZE+dn.GTIN_SIZE+Yn.LAST_DIGIT_SIZE,Yn.FIRST_THREE_DIGITS_SIZE);d/100==0&&o.append("0"),d/10==0&&o.append("0"),o.append(d);let p=this.getGeneralDecoder().decodeGeneralPurposeField(Yn.HEADER_SIZE+dn.GTIN_SIZE+Yn.LAST_DIGIT_SIZE+Yn.FIRST_THREE_DIGITS_SIZE,null);return o.append(p.getNewString()),o.toString()}}Yn.HEADER_SIZE=8,Yn.LAST_DIGIT_SIZE=2,Yn.FIRST_THREE_DIGITS_SIZE=10;class Nt extends Co{constructor(o,u,d){super(o),this.dateCode=d,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE+Nt.DATE_SIZE)throw new pe;let o=new J;return this.encodeCompressedGtin(o,Nt.HEADER_SIZE),this.encodeCompressedWeight(o,Nt.HEADER_SIZE+Nt.GTIN_SIZE,Nt.WEIGHT_SIZE),this.encodeCompressedDate(o,Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(u,Nt.DATE_SIZE);if(d==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let p=d%32;d/=32;let x=d%12+1;d/=12;let E=d;E/10==0&&o.append("0"),o.append(E),x/10==0&&o.append("0"),o.append(x),p/10==0&&o.append("0"),o.append(p)}addWeightCode(o,u){o.append("("),o.append(this.firstAIdigits),o.append(u/1e5),o.append(")")}checkWeight(o){return o%1e5}}Nt.HEADER_SIZE=8,Nt.WEIGHT_SIZE=20,Nt.DATE_SIZE=16;function Ur(Y){try{if(Y.get(1))return new wr(Y);if(!Y.get(2))return new Ca(Y);switch(vi.extractNumericValueFromBitArray(Y,1,4)){case 4:return new fl(Y);case 5:return new xi(Y)}switch(vi.extractNumericValueFromBitArray(Y,1,5)){case 12:return new bi(Y);case 13:return new Yn(Y)}switch(vi.extractNumericValueFromBitArray(Y,1,7)){case 56:return new Nt(Y,"310","11");case 57:return new Nt(Y,"320","11");case 58:return new Nt(Y,"310","13");case 59:return new Nt(Y,"320","13");case 60:return new Nt(Y,"310","15");case 61:return new Nt(Y,"320","15");case 62:return new Nt(Y,"310","17");case 63:return new Nt(Y,"320","17")}}catch(o){throw console.log(o),new cn("unknown decoder: "+Y)}}class er{constructor(o,u,d,p){this.leftchar=o,this.rightchar=u,this.finderpattern=d,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,u){return o instanceof er?er.equalsOrNull(o.leftchar,u.leftchar)&&er.equalsOrNull(o.rightchar,u.rightchar)&&er.equalsOrNull(o.finderpattern,u.finderpattern):!1}static equalsOrNull(o,u){return o===null?u===null:er.equals(o,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class gr{constructor(o,u,d){this.pairs=o,this.rowNumber=u,this.wasReversed=d}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,u){return o instanceof gr?this.checkEqualitity(o,u)&&o.wasReversed===u.wasReversed:!1}checkEqualitity(o,u){if(!o||!u)return;let d;return o.forEach((p,x)=>{u.forEach(E=>{p.getLeftChar().getValue()===E.getLeftChar().getValue()&&p.getRightChar().getValue()===E.getRightChar().getValue()&&p.getFinderPatter().getValue()===E.getFinderPatter().getValue()&&(d=!0)})}),d}}class ze extends Kr{constructor(o){super(...arguments),this.pairs=new Array(ze.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,u,d){this.pairs.length=0,this.startFromEven=!1;try{return ze.constructResult(this.decodeRow2pairs(o,u))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,ze.constructResult(this.decodeRow2pairs(o,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,u){let d=!1;for(;!d;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,o))}catch(x){if(x instanceof pe){if(!this.pairs.length)throw new pe;d=!0}}if(this.checkChecksum())return this.pairs;let p;if(this.rows.length?p=!0:p=!1,this.storeRow(o,!1),p){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new pe}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(d){this.verbose&&console.log(d)}return o&&(this.rows=this.rows.reverse()),u}checkRows(o,u){for(let d=u;d<this.rows.length;d++){let p=this.rows[d];this.pairs.length=0;for(let E of o)this.pairs.push(E.getPairs());if(this.pairs.push(p.getPairs()),!ze.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(o);x.push(p);try{return this.checkRows(x,d+1)}catch(E){this.verbose&&console.log(E)}}throw new pe}static isValidSequence(o){for(let u of ze.FINDER_PATTERN_SEQUENCES){if(o.length>u.length)continue;let d=!0;for(let p=0;p<o.length;p++)if(o[p].getFinderPattern().getValue()!=u[p]){d=!1;break}if(d)return!0}return!1}storeRow(o,u){let d=0,p=!1,x=!1;for(;d<this.rows.length;){let E=this.rows[d];if(E.getRowNumber()>o){x=E.isEquivalent(this.pairs);break}p=E.isEquivalent(this.pairs),d++}x||p||ze.isPartialRow(this.pairs,this.rows)||(this.rows.push(d,new gr(this.pairs,o,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,u){for(let d of u)if(d.getPairs().length!==o.length){for(let p of d.getPairs())for(let x of o)if(er.equals(p,x))break}}static isPartialRow(o,u){for(let d of u){let p=!0;for(let x of o){let E=!1;for(let f of d.getPairs())if(x.equals(f)){E=!0;break}if(!E){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=ns.buildBitArray(o),p=Ur(u).parseInformation(),x=o[0].getFinderPattern().getResultPoints(),E=o[o.length-1].getFinderPattern().getResultPoints(),f=[x[0],x[1],E[0],E[1]];return new Fe(p,null,null,f,Ne.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),u=o.getLeftChar(),d=o.getRightChar();if(d==null)return!1;let p=d.getChecksumPortion(),x=2;for(let f=1;f<this.pairs.size();++f){let v=this.pairs.get(f);p+=v.getLeftChar().getChecksumPortion(),x++;let _=v.getRightChar();_!=null&&(p+=_.getChecksumPortion(),x++)}return p%=211,211*(x-4)+p==u.getValue()}static getNextSecondBar(o,u){let d;return o.get(u)?(d=o.getNextUnset(u),d=o.getNextSet(d)):(d=o.getNextSet(u),d=o.getNextUnset(d)),d}retrieveNextPair(o,u,d){let p=u.length%2==0;this.startFromEven&&(p=!p);let x,E=!0,f=-1;do this.findNextPair(o,u,f),x=this.parseFoundFinderPattern(o,d,p),x==null?f=ze.getNextSecondBar(o,this.startEnd[0]):E=!1;while(E);let v=this.decodeDataCharacter(o,x,p,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new pe;let _;try{_=this.decodeDataCharacter(o,x,p,!1)}catch(C){_=null,this.verbose&&console.log(C)}return new er(v,_,x,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,u,d){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=o.getSize(),E;d>=0?E=d:this.isEmptyPair(u)?E=0:E=u[u.length-1].getFinderPattern().getStartEnd()[1];let f=u.length%2!=0;this.startFromEven&&(f=!f);let v=!1;for(;E<x&&(v=!o.get(E),!!v);)E++;let _=0,C=E;for(let O=E;O<x;O++)if(o.get(O)!=v)p[_]++;else{if(_==3){if(f&&ze.reverseCounters(p),ze.isFinderPattern(p)){this.startEnd[0]=C,this.startEnd[1]=O;return}f&&ze.reverseCounters(p),C+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,_--}else _++;p[_]=1,v=!v}throw new pe}static reverseCounters(o){let u=o.length;for(let d=0;d<u/2;++d){let p=o[d];o[d]=o[u-d-1],o[u-d-1]=p}}parseFoundFinderPattern(o,u,d){let p,x,E;if(d){let _=this.startEnd[0]-1;for(;_>=0&&!o.get(_);)_--;_++,p=this.startEnd[0]-_,x=_,E=this.startEnd[1]}else x=this.startEnd[0],E=o.getNextUnset(this.startEnd[1]+1),p=E-this.startEnd[1];let f=this.getDecodeFinderCounters();k.arraycopy(f,0,f,1,f.length-1),f[0]=p;let v;try{v=this.parseFinderValue(f,ze.FINDER_PATTERNS)}catch{return null}return new Ri(v,[x,E],x,E,u)}decodeDataCharacter(o,u,d,p){let x=this.getDataCharacterCounters();for(let Pe=0;Pe<x.length;Pe++)x[Pe]=0;if(p)ze.recordPatternInReverse(o,u.getStartEnd()[0],x);else{ze.recordPattern(o,u.getStartEnd()[1],x);for(let Pe=0,qe=x.length-1;Pe<qe;Pe++,qe--){let it=x[Pe];x[Pe]=x[qe],x[qe]=it}}let E=17,f=Ot.sum(new Int32Array(x))/E,v=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(f-v)/v>.3)throw new pe;let _=this.getOddCounts(),C=this.getEvenCounts(),O=this.getOddRoundingErrors(),M=this.getEvenRoundingErrors();for(let Pe=0;Pe<x.length;Pe++){let qe=1*x[Pe]/f,it=qe+.5;if(it<1){if(qe<.3)throw new pe;it=1}else if(it>8){if(qe>8.7)throw new pe;it=8}let lt=Pe/2;(Pe&1)==0?(_[lt]=it,O[lt]=qe-it):(C[lt]=it,M[lt]=qe-it)}this.adjustOddEvenCounts(E);let F=4*u.getValue()+(d?0:2)+(p?0:1)-1,z=0,X=0;for(let Pe=_.length-1;Pe>=0;Pe--){if(ze.isNotA1left(u,d,p)){let qe=ze.WEIGHTS[F][2*Pe];X+=_[Pe]*qe}z+=_[Pe]}let re=0;for(let Pe=C.length-1;Pe>=0;Pe--)if(ze.isNotA1left(u,d,p)){let qe=ze.WEIGHTS[F][2*Pe+1];re+=C[Pe]*qe}let te=X+re;if((z&1)!=0||z>13||z<4)throw new pe;let oe=(13-z)/2,ce=ze.SYMBOL_WIDEST[oe],le=9-ce,me=Hi.getRSSvalue(_,ce,!0),de=Hi.getRSSvalue(C,le,!1),be=ze.EVEN_TOTAL_SUBSET[oe],Ce=ze.GSUM[oe],xe=me*be+de+Ce;return new Lr(xe,te)}static isNotA1left(o,u,d){return!(o.getValue()==0&&u&&d)}adjustOddEvenCounts(o){let u=Ot.sum(new Int32Array(this.getOddCounts())),d=Ot.sum(new Int32Array(this.getEvenCounts())),p=!1,x=!1;u>13?x=!0:u<4&&(p=!0);let E=!1,f=!1;d>13?f=!0:d<4&&(E=!0);let v=u+d-o,_=(u&1)==1,C=(d&1)==0;if(v==1)if(_){if(C)throw new pe;x=!0}else{if(!C)throw new pe;f=!0}else if(v==-1)if(_){if(C)throw new pe;p=!0}else{if(!C)throw new pe;E=!0}else if(v==0){if(_){if(!C)throw new pe;u<d?(p=!0,f=!0):(x=!0,E=!0)}else if(C)throw new pe}else throw new pe;if(p){if(x)throw new pe;ze.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&ze.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(f)throw new pe;ze.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&ze.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ze.SYMBOL_WIDEST=[7,5,4,3,1],ze.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ze.GSUM=[0,348,1388,2948,3988],ze.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ze.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ze.FINDER_PAT_A=0,ze.FINDER_PAT_B=1,ze.FINDER_PAT_C=2,ze.FINDER_PAT_D=3,ze.FINDER_PAT_E=4,ze.FINDER_PAT_F=5,ze.FINDER_PATTERN_SEQUENCES=[[ze.FINDER_PAT_A,ze.FINDER_PAT_A],[ze.FINDER_PAT_A,ze.FINDER_PAT_B,ze.FINDER_PAT_B],[ze.FINDER_PAT_A,ze.FINDER_PAT_C,ze.FINDER_PAT_B,ze.FINDER_PAT_D],[ze.FINDER_PAT_A,ze.FINDER_PAT_E,ze.FINDER_PAT_B,ze.FINDER_PAT_D,ze.FINDER_PAT_C],[ze.FINDER_PAT_A,ze.FINDER_PAT_E,ze.FINDER_PAT_B,ze.FINDER_PAT_D,ze.FINDER_PAT_D,ze.FINDER_PAT_F],[ze.FINDER_PAT_A,ze.FINDER_PAT_E,ze.FINDER_PAT_B,ze.FINDER_PAT_D,ze.FINDER_PAT_E,ze.FINDER_PAT_F,ze.FINDER_PAT_F],[ze.FINDER_PAT_A,ze.FINDER_PAT_A,ze.FINDER_PAT_B,ze.FINDER_PAT_B,ze.FINDER_PAT_C,ze.FINDER_PAT_C,ze.FINDER_PAT_D,ze.FINDER_PAT_D],[ze.FINDER_PAT_A,ze.FINDER_PAT_A,ze.FINDER_PAT_B,ze.FINDER_PAT_B,ze.FINDER_PAT_C,ze.FINDER_PAT_C,ze.FINDER_PAT_D,ze.FINDER_PAT_E,ze.FINDER_PAT_E],[ze.FINDER_PAT_A,ze.FINDER_PAT_A,ze.FINDER_PAT_B,ze.FINDER_PAT_B,ze.FINDER_PAT_C,ze.FINDER_PAT_C,ze.FINDER_PAT_D,ze.FINDER_PAT_E,ze.FINDER_PAT_F,ze.FINDER_PAT_F],[ze.FINDER_PAT_A,ze.FINDER_PAT_A,ze.FINDER_PAT_B,ze.FINDER_PAT_B,ze.FINDER_PAT_C,ze.FINDER_PAT_D,ze.FINDER_PAT_D,ze.FINDER_PAT_E,ze.FINDER_PAT_E,ze.FINDER_PAT_F,ze.FINDER_PAT_F]],ze.MAX_PAIRS=11;class Bs extends Lr{constructor(o,u,d){super(o,u),this.count=0,this.finderPattern=d}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class En extends Kr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,u,d){const p=this.decodePair(u,!1,o,d);En.addOrTally(this.possibleLeftPairs,p),u.reverse();let x=this.decodePair(u,!0,o,d);En.addOrTally(this.possibleRightPairs,x),u.reverse();for(let E of this.possibleLeftPairs)if(E.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&En.checkChecksum(E,f))return En.constructResult(E,f)}throw new pe}static addOrTally(o,u){if(u==null)return;let d=!1;for(let p of o)if(p.getValue()===u.getValue()){p.incrementCount(),d=!0;break}d||o.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,u){let d=4537077*o.getValue()+u.getValue(),p=new String(d).toString(),x=new J;for(let _=13-p.length;_>0;_--)x.append("0");x.append(p);let E=0;for(let _=0;_<13;_++){let C=x.charAt(_).charCodeAt(0)-48;E+=(_&1)===0?3*C:C}E=10-E%10,E===10&&(E=0),x.append(E.toString());let f=o.getFinderPattern().getResultPoints(),v=u.getFinderPattern().getResultPoints();return new Fe(x.toString(),null,0,[f[0],f[1],v[0],v[1]],Ne.RSS_14,new Date().getTime())}static checkChecksum(o,u){let d=(o.getChecksumPortion()+16*u.getChecksumPortion())%79,p=9*o.getFinderPattern().getValue()+u.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,d===p}decodePair(o,u,d,p){try{let x=this.findFinderPattern(o,u),E=this.parseFoundFinderPattern(o,d,u,x),f=p==null?null:p.get(Q.NEED_RESULT_POINT_CALLBACK);if(f!=null){let C=(x[0]+x[1])/2;u&&(C=o.getSize()-1-C),f.foundPossibleResultPoint(new ot(C,d))}let v=this.decodeDataCharacter(o,E,!0),_=this.decodeDataCharacter(o,E,!1);return new Bs(1597*v.getValue()+_.getValue(),v.getChecksumPortion()+4*_.getChecksumPortion(),E)}catch{return null}}decodeDataCharacter(o,u,d){let p=this.getDataCharacterCounters();for(let re=0;re<p.length;re++)p[re]=0;if(d)wn.recordPatternInReverse(o,u.getStartEnd()[0],p);else{wn.recordPattern(o,u.getStartEnd()[1]+1,p);for(let re=0,te=p.length-1;re<te;re++,te--){let oe=p[re];p[re]=p[te],p[te]=oe}}let x=d?16:15,E=Ot.sum(new Int32Array(p))/x,f=this.getOddCounts(),v=this.getEvenCounts(),_=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let re=0;re<p.length;re++){let te=p[re]/E,oe=Math.floor(te+.5);oe<1?oe=1:oe>8&&(oe=8);let ce=Math.floor(re/2);(re&1)===0?(f[ce]=oe,_[ce]=te-oe):(v[ce]=oe,C[ce]=te-oe)}this.adjustOddEvenCounts(d,x);let O=0,M=0;for(let re=f.length-1;re>=0;re--)M*=9,M+=f[re],O+=f[re];let F=0,z=0;for(let re=v.length-1;re>=0;re--)F*=9,F+=v[re],z+=v[re];let X=M+3*F;if(d){if((O&1)!==0||O>12||O<4)throw new pe;let re=(12-O)/2,te=En.OUTSIDE_ODD_WIDEST[re],oe=9-te,ce=Hi.getRSSvalue(f,te,!1),le=Hi.getRSSvalue(v,oe,!0),me=En.OUTSIDE_EVEN_TOTAL_SUBSET[re],de=En.OUTSIDE_GSUM[re];return new Lr(ce*me+le+de,X)}else{if((z&1)!==0||z>10||z<4)throw new pe;let re=(10-z)/2,te=En.INSIDE_ODD_WIDEST[re],oe=9-te,ce=Hi.getRSSvalue(f,te,!0),le=Hi.getRSSvalue(v,oe,!1),me=En.INSIDE_ODD_TOTAL_SUBSET[re],de=En.INSIDE_GSUM[re];return new Lr(le*me+ce+de,X)}}findFinderPattern(o,u){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=o.getSize(),x=!1,E=0;for(;E<p&&(x=!o.get(E),u!==x);)E++;let f=0,v=E;for(let _=E;_<p;_++)if(o.get(_)!==x)d[f]++;else{if(f===3){if(Kr.isFinderPattern(d))return[v,_];v+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,f--}else f++;d[f]=1,x=!x}throw new pe}parseFoundFinderPattern(o,u,d,p){let x=o.get(p[0]),E=p[0]-1;for(;E>=0&&x!==o.get(E);)E--;E++;const f=p[0]-E,v=this.getDecodeFinderCounters(),_=new Int32Array(v.length);k.arraycopy(v,0,_,1,v.length-1),_[0]=f;const C=this.parseFinderValue(_,En.FINDER_PATTERNS);let O=E,M=p[1];return d&&(O=o.getSize()-1-O,M=o.getSize()-1-M),new Ri(C,[E,p[1]],O,M,u)}adjustOddEvenCounts(o,u){let d=Ot.sum(new Int32Array(this.getOddCounts())),p=Ot.sum(new Int32Array(this.getEvenCounts())),x=!1,E=!1,f=!1,v=!1;o?(d>12?E=!0:d<4&&(x=!0),p>12?v=!0:p<4&&(f=!0)):(d>11?E=!0:d<5&&(x=!0),p>10?v=!0:p<4&&(f=!0));let _=d+p-u,C=(d&1)===(o?1:0),O=(p&1)===1;if(_===1)if(C){if(O)throw new pe;E=!0}else{if(!O)throw new pe;v=!0}else if(_===-1)if(C){if(O)throw new pe;x=!0}else{if(!O)throw new pe;f=!0}else if(_===0){if(C){if(!O)throw new pe;d<p?(x=!0,v=!0):(E=!0,f=!0)}else if(O)throw new pe}else throw new pe;if(x){if(E)throw new pe;Kr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(E&&Kr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(v)throw new pe;Kr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&Kr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}En.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],En.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],En.OUTSIDE_GSUM=[0,161,961,2015,2715],En.INSIDE_GSUM=[0,336,1036,1516],En.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],En.INSIDE_ODD_WIDEST=[2,4,6,8],En.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class fi extends wn{constructor(o,u){super(),this.readers=[],this.verbose=u===!0;const d=o?o.get(Q.POSSIBLE_FORMATS):null,p=o&&o.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;d?((d.includes(Ne.EAN_13)||d.includes(Ne.UPC_A)||d.includes(Ne.EAN_8)||d.includes(Ne.UPC_E))&&this.readers.push(new cl(o)),d.includes(Ne.CODE_39)&&this.readers.push(new sn(p)),d.includes(Ne.CODE_128)&&this.readers.push(new Je),d.includes(Ne.ITF)&&this.readers.push(new Xe),d.includes(Ne.RSS_14)&&this.readers.push(new En),d.includes(Ne.RSS_EXPANDED)&&this.readers.push(new ze(this.verbose))):(this.readers.push(new cl(o)),this.readers.push(new sn),this.readers.push(new cl(o)),this.readers.push(new Je),this.readers.push(new Xe),this.readers.push(new En),this.readers.push(new ze(this.verbose)))}decodeRow(o,u,d){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(o,u,d)}catch{}throw new pe}reset(){this.readers.forEach(o=>o.reset())}}class Ga extends Ge{constructor(o=500,u){super(new fi(u),o,u)}}class mn{constructor(o,u,d){this.ecCodewords=o,this.ecBlocks=[u],d&&this.ecBlocks.push(d)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class rn{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Jt{constructor(o,u,d,p,x,E){this.versionNumber=o,this.symbolSizeRows=u,this.symbolSizeColumns=d,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=x,this.ecBlocks=E;let f=0;const v=E.getECCodewords(),_=E.getECBlocks();for(let C of _)f+=C.getCount()*(C.getDataCodewords()+v);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,u){if((o&1)!==0||(u&1)!==0)throw new U;for(let d of Jt.VERSIONS)if(d.symbolSizeRows===o&&d.symbolSizeColumns===u)return d;throw new U}toString(){return""+this.versionNumber}static buildVersions(){return[new Jt(1,10,10,8,8,new mn(5,new rn(1,3))),new Jt(2,12,12,10,10,new mn(7,new rn(1,5))),new Jt(3,14,14,12,12,new mn(10,new rn(1,8))),new Jt(4,16,16,14,14,new mn(12,new rn(1,12))),new Jt(5,18,18,16,16,new mn(14,new rn(1,18))),new Jt(6,20,20,18,18,new mn(18,new rn(1,22))),new Jt(7,22,22,20,20,new mn(20,new rn(1,30))),new Jt(8,24,24,22,22,new mn(24,new rn(1,36))),new Jt(9,26,26,24,24,new mn(28,new rn(1,44))),new Jt(10,32,32,14,14,new mn(36,new rn(1,62))),new Jt(11,36,36,16,16,new mn(42,new rn(1,86))),new Jt(12,40,40,18,18,new mn(48,new rn(1,114))),new Jt(13,44,44,20,20,new mn(56,new rn(1,144))),new Jt(14,48,48,22,22,new mn(68,new rn(1,174))),new Jt(15,52,52,24,24,new mn(42,new rn(2,102))),new Jt(16,64,64,14,14,new mn(56,new rn(2,140))),new Jt(17,72,72,16,16,new mn(36,new rn(4,92))),new Jt(18,80,80,18,18,new mn(48,new rn(4,114))),new Jt(19,88,88,20,20,new mn(56,new rn(4,144))),new Jt(20,96,96,22,22,new mn(68,new rn(4,174))),new Jt(21,104,104,24,24,new mn(56,new rn(6,136))),new Jt(22,120,120,18,18,new mn(68,new rn(6,175))),new Jt(23,132,132,20,20,new mn(62,new rn(8,163))),new Jt(24,144,144,22,22,new mn(62,new rn(8,156),new rn(2,155))),new Jt(25,8,18,6,16,new mn(7,new rn(1,5))),new Jt(26,8,32,6,14,new mn(11,new rn(1,10))),new Jt(27,12,26,10,24,new mn(14,new rn(1,16))),new Jt(28,12,36,10,16,new mn(18,new rn(1,22))),new Jt(29,16,36,14,16,new mn(24,new rn(1,32))),new Jt(30,16,48,14,22,new mn(28,new rn(1,49)))]}}Jt.VERSIONS=Jt.buildVersions();class Wt{constructor(o){const u=o.getHeight();if(u<8||u>144||(u&1)!==0)throw new U;this.version=Wt.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new Be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const u=o.getHeight(),d=o.getWidth();return Jt.getVersionForDimensions(u,d)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let u=0,d=4,p=0;const x=this.mappingBitMatrix.getHeight(),E=this.mappingBitMatrix.getWidth();let f=!1,v=!1,_=!1,C=!1;do if(d===x&&p===0&&!f)o[u++]=this.readCorner1(x,E)&255,d-=2,p+=2,f=!0;else if(d===x-2&&p===0&&(E&3)!==0&&!v)o[u++]=this.readCorner2(x,E)&255,d-=2,p+=2,v=!0;else if(d===x+4&&p===2&&(E&7)===0&&!_)o[u++]=this.readCorner3(x,E)&255,d-=2,p+=2,_=!0;else if(d===x-2&&p===0&&(E&7)===4&&!C)o[u++]=this.readCorner4(x,E)&255,d-=2,p+=2,C=!0;else{do d<x&&p>=0&&!this.readMappingMatrix.get(p,d)&&(o[u++]=this.readUtah(d,p,x,E)&255),d-=2,p+=2;while(d>=0&&p<E);d+=1,p+=3;do d>=0&&p<E&&!this.readMappingMatrix.get(p,d)&&(o[u++]=this.readUtah(d,p,x,E)&255),d+=2,p-=2;while(d<x&&p>=0);d+=3,p+=1}while(d<x||p<E);if(u!==this.version.getTotalCodewords())throw new U;return o}readModule(o,u,d,p){return o<0&&(o+=d,u+=4-(d+4&7)),u<0&&(u+=p,o+=4-(p+4&7)),this.readMappingMatrix.set(u,o),this.mappingBitMatrix.get(u,o)}readUtah(o,u,d,p){let x=0;return this.readModule(o-2,u-2,d,p)&&(x|=1),x<<=1,this.readModule(o-2,u-1,d,p)&&(x|=1),x<<=1,this.readModule(o-1,u-2,d,p)&&(x|=1),x<<=1,this.readModule(o-1,u-1,d,p)&&(x|=1),x<<=1,this.readModule(o-1,u,d,p)&&(x|=1),x<<=1,this.readModule(o,u-2,d,p)&&(x|=1),x<<=1,this.readModule(o,u-1,d,p)&&(x|=1),x<<=1,this.readModule(o,u,d,p)&&(x|=1),x}readCorner1(o,u){let d=0;return this.readModule(o-1,0,o,u)&&(d|=1),d<<=1,this.readModule(o-1,1,o,u)&&(d|=1),d<<=1,this.readModule(o-1,2,o,u)&&(d|=1),d<<=1,this.readModule(0,u-2,o,u)&&(d|=1),d<<=1,this.readModule(0,u-1,o,u)&&(d|=1),d<<=1,this.readModule(1,u-1,o,u)&&(d|=1),d<<=1,this.readModule(2,u-1,o,u)&&(d|=1),d<<=1,this.readModule(3,u-1,o,u)&&(d|=1),d}readCorner2(o,u){let d=0;return this.readModule(o-3,0,o,u)&&(d|=1),d<<=1,this.readModule(o-2,0,o,u)&&(d|=1),d<<=1,this.readModule(o-1,0,o,u)&&(d|=1),d<<=1,this.readModule(0,u-4,o,u)&&(d|=1),d<<=1,this.readModule(0,u-3,o,u)&&(d|=1),d<<=1,this.readModule(0,u-2,o,u)&&(d|=1),d<<=1,this.readModule(0,u-1,o,u)&&(d|=1),d<<=1,this.readModule(1,u-1,o,u)&&(d|=1),d}readCorner3(o,u){let d=0;return this.readModule(o-1,0,o,u)&&(d|=1),d<<=1,this.readModule(o-1,u-1,o,u)&&(d|=1),d<<=1,this.readModule(0,u-3,o,u)&&(d|=1),d<<=1,this.readModule(0,u-2,o,u)&&(d|=1),d<<=1,this.readModule(0,u-1,o,u)&&(d|=1),d<<=1,this.readModule(1,u-3,o,u)&&(d|=1),d<<=1,this.readModule(1,u-2,o,u)&&(d|=1),d<<=1,this.readModule(1,u-1,o,u)&&(d|=1),d}readCorner4(o,u){let d=0;return this.readModule(o-3,0,o,u)&&(d|=1),d<<=1,this.readModule(o-2,0,o,u)&&(d|=1),d<<=1,this.readModule(o-1,0,o,u)&&(d|=1),d<<=1,this.readModule(0,u-2,o,u)&&(d|=1),d<<=1,this.readModule(0,u-1,o,u)&&(d|=1),d<<=1,this.readModule(1,u-1,o,u)&&(d|=1),d<<=1,this.readModule(2,u-1,o,u)&&(d|=1),d<<=1,this.readModule(3,u-1,o,u)&&(d|=1),d}extractDataRegion(o){const u=this.version.getSymbolSizeRows(),d=this.version.getSymbolSizeColumns();if(o.getHeight()!==u)throw new A("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),E=u/p|0,f=d/x|0,v=E*p,_=f*x,C=new Be(_,v);for(let O=0;O<E;++O){const M=O*p;for(let F=0;F<f;++F){const z=F*x;for(let X=0;X<p;++X){const re=O*(p+2)+1+X,te=M+X;for(let oe=0;oe<x;++oe){const ce=F*(x+2)+1+oe;if(o.get(ce,re)){const le=z+oe;C.set(le,te)}}}}}return C}}class wi{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u){const d=u.getECBlocks();let p=0;const x=d.getECBlocks();for(let X of x)p+=X.getCount();const E=new Array(p);let f=0;for(let X of x)for(let re=0;re<X.getCount();re++){const te=X.getDataCodewords(),oe=d.getECCodewords()+te;E[f++]=new wi(te,new Uint8Array(oe))}const _=E[0].codewords.length-d.getECCodewords(),C=_-1;let O=0;for(let X=0;X<C;X++)for(let re=0;re<f;re++)E[re].codewords[X]=o[O++];const M=u.getVersionNumber()===24,F=M?8:f;for(let X=0;X<F;X++)E[X].codewords[_-1]=o[O++];const z=E[0].codewords.length;for(let X=_;X<z;X++)for(let re=0;re<f;re++){const te=M?(re+8)%f:re,oe=M&&te>7?X-1:X;E[te].codewords[oe]=o[O++]}if(O!==o.length)throw new A;return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class pr{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new A(""+o);let u=0,d=this.bitOffset,p=this.byteOffset;const x=this.bytes;if(d>0){const E=8-d,f=o<E?o:E,v=E-f,_=255>>8-f<<v;u=(x[p]&_)>>v,o-=f,d+=f,d===8&&(d=0,p++)}if(o>0){for(;o>=8;)u=u<<8|x[p]&255,p++,o-=8;if(o>0){const E=8-o,f=255>>E<<E;u=u<<o|(x[p]&f)>>E,d+=o}}return this.bitOffset=d,this.byteOffset=p,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var en;(function(Y){Y[Y.PAD_ENCODE=0]="PAD_ENCODE",Y[Y.ASCII_ENCODE=1]="ASCII_ENCODE",Y[Y.C40_ENCODE=2]="C40_ENCODE",Y[Y.TEXT_ENCODE=3]="TEXT_ENCODE",Y[Y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Y[Y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Y[Y.BASE256_ENCODE=6]="BASE256_ENCODE"})(en||(en={}));class Yr{static decode(o){const u=new pr(o),d=new J,p=new J,x=new Array;let E=en.ASCII_ENCODE;do if(E===en.ASCII_ENCODE)E=this.decodeAsciiSegment(u,d,p);else{switch(E){case en.C40_ENCODE:this.decodeC40Segment(u,d);break;case en.TEXT_ENCODE:this.decodeTextSegment(u,d);break;case en.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,d);break;case en.EDIFACT_ENCODE:this.decodeEdifactSegment(u,d);break;case en.BASE256_ENCODE:this.decodeBase256Segment(u,d,x);break;default:throw new U}E=en.ASCII_ENCODE}while(E!==en.PAD_ENCODE&&u.available()>0);return p.length()>0&&d.append(p.toString()),new ke(o,d.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(o,u,d){let p=!1;do{let x=o.readBits(8);if(x===0)throw new U;if(x<=128)return p&&(x+=128),u.append(String.fromCharCode(x-1)),en.ASCII_ENCODE;if(x===129)return en.PAD_ENCODE;if(x<=229){const E=x-130;E<10&&u.append("0"),u.append(""+E)}else switch(x){case 230:return en.C40_ENCODE;case 231:return en.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:p=!0;break;case 236:u.append("[)>05"),d.insert(0,"");break;case 237:u.append("[)>06"),d.insert(0,"");break;case 238:return en.ANSIX12_ENCODE;case 239:return en.TEXT_ENCODE;case 240:return en.EDIFACT_ENCODE;case 241:break;default:if(x!==254||o.available()!==0)throw new U;break}}while(o.available()>0);return en.ASCII_ENCODE}static decodeC40Segment(o,u){let d=!1;const p=[];let x=0;do{if(o.available()===8)return;const E=o.readBits(8);if(E===254)return;this.parseTwoBytes(E,o.readBits(8),p);for(let f=0;f<3;f++){const v=p[f];switch(x){case 0:if(v<3)x=v+1;else if(v<this.C40_BASIC_SET_CHARS.length){const _=this.C40_BASIC_SET_CHARS[v];d?(u.append(String.fromCharCode(_.charCodeAt(0)+128)),d=!1):u.append(_)}else throw new U;break;case 1:d?(u.append(String.fromCharCode(v+128)),d=!1):u.append(String.fromCharCode(v)),x=0;break;case 2:if(v<this.C40_SHIFT2_SET_CHARS.length){const _=this.C40_SHIFT2_SET_CHARS[v];d?(u.append(String.fromCharCode(_.charCodeAt(0)+128)),d=!1):u.append(_)}else switch(v){case 27:u.append("");break;case 30:d=!0;break;default:throw new U}x=0;break;case 3:d?(u.append(String.fromCharCode(v+224)),d=!1):u.append(String.fromCharCode(v+96)),x=0;break;default:throw new U}}}while(o.available()>0)}static decodeTextSegment(o,u){let d=!1,p=[],x=0;do{if(o.available()===8)return;const E=o.readBits(8);if(E===254)return;this.parseTwoBytes(E,o.readBits(8),p);for(let f=0;f<3;f++){const v=p[f];switch(x){case 0:if(v<3)x=v+1;else if(v<this.TEXT_BASIC_SET_CHARS.length){const _=this.TEXT_BASIC_SET_CHARS[v];d?(u.append(String.fromCharCode(_.charCodeAt(0)+128)),d=!1):u.append(_)}else throw new U;break;case 1:d?(u.append(String.fromCharCode(v+128)),d=!1):u.append(String.fromCharCode(v)),x=0;break;case 2:if(v<this.TEXT_SHIFT2_SET_CHARS.length){const _=this.TEXT_SHIFT2_SET_CHARS[v];d?(u.append(String.fromCharCode(_.charCodeAt(0)+128)),d=!1):u.append(_)}else switch(v){case 27:u.append("");break;case 30:d=!0;break;default:throw new U}x=0;break;case 3:if(v<this.TEXT_SHIFT3_SET_CHARS.length){const _=this.TEXT_SHIFT3_SET_CHARS[v];d?(u.append(String.fromCharCode(_.charCodeAt(0)+128)),d=!1):u.append(_),x=0}else throw new U;break;default:throw new U}}}while(o.available()>0)}static decodeAnsiX12Segment(o,u){const d=[];do{if(o.available()===8)return;const p=o.readBits(8);if(p===254)return;this.parseTwoBytes(p,o.readBits(8),d);for(let x=0;x<3;x++){const E=d[x];switch(E){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(E<14)u.append(String.fromCharCode(E+44));else if(E<40)u.append(String.fromCharCode(E+51));else throw new U;break}}}while(o.available()>0)}static parseTwoBytes(o,u,d){let p=(o<<8)+u-1,x=Math.floor(p/1600);d[0]=x,p-=x*1600,x=Math.floor(p/40),d[1]=x,d[2]=p-x*40}static decodeEdifactSegment(o,u){do{if(o.available()<=16)return;for(let d=0;d<4;d++){let p=o.readBits(6);if(p===31){const x=8-o.getBitOffset();x!==8&&o.readBits(x);return}(p&32)===0&&(p|=64),u.append(String.fromCharCode(p))}}while(o.available()>0)}static decodeBase256Segment(o,u,d){let p=1+o.getByteOffset();const x=this.unrandomize255State(o.readBits(8),p++);let E;if(x===0?E=o.available()/8|0:x<250?E=x:E=250*(x-249)+this.unrandomize255State(o.readBits(8),p++),E<0)throw new U;const f=new Uint8Array(E);for(let v=0;v<E;v++){if(o.available()<8)throw new U;f[v]=this.unrandomize255State(o.readBits(8),p++)}d.push(f);try{u.append(ie.decode(f,Z.ISO88591))}catch(v){throw new cn("Platform does not support required encoding: "+v.message)}}static unrandomize255State(o,u){const d=149*u%255+1,p=o-d;return p>=0?p:p+256}}Yr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Yr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Yr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Yr.TEXT_SHIFT2_SET_CHARS=Yr.C40_SHIFT2_SET_CHARS,Yr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class To{constructor(){this.rsDecoder=new Hn(At.DATA_MATRIX_FIELD_256)}decode(o){const u=new Wt(o),d=u.getVersion(),p=u.readCodewords(),x=wi.getDataBlocks(p,d);let E=0;for(let _ of x)E+=_.getNumDataCodewords();const f=new Uint8Array(E),v=x.length;for(let _=0;_<v;_++){const C=x[_],O=C.getCodewords(),M=C.getNumDataCodewords();this.correctErrors(O,M);for(let F=0;F<M;F++)f[F*v+_]=O[F]}return Yr.decode(f)}correctErrors(o,u){const d=new Int32Array(o);try{this.rsDecoder.decode(d,o.length-u)}catch{throw new R}for(let p=0;p<u;p++)o[p]=d[p]}}class Mt{constructor(o){this.image=o,this.rectangleDetector=new Zt(this.image)}detect(){const o=this.rectangleDetector.detect();let u=this.detectSolid1(o);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new pe;u=this.shiftToModuleCenter(u);const d=u[0],p=u[1],x=u[2],E=u[3];let f=this.transitionsBetween(d,E)+1,v=this.transitionsBetween(x,E)+1;(f&1)===1&&(f+=1),(v&1)===1&&(v+=1),4*f<7*v&&4*v<7*f&&(f=v=Math.max(f,v));let _=Mt.sampleGrid(this.image,d,p,x,E,f,v);return new Jr(_,[d,p,x,E])}static shiftPoint(o,u,d){let p=(u.getX()-o.getX())/(d+1),x=(u.getY()-o.getY())/(d+1);return new ot(o.getX()+p,o.getY()+x)}static moveAway(o,u,d){let p=o.getX(),x=o.getY();return p<u?p-=1:p+=1,x<d?x-=1:x+=1,new ot(p,x)}detectSolid1(o){let u=o[0],d=o[1],p=o[3],x=o[2],E=this.transitionsBetween(u,d),f=this.transitionsBetween(d,p),v=this.transitionsBetween(p,x),_=this.transitionsBetween(x,u),C=E,O=[x,u,d,p];return C>f&&(C=f,O[0]=u,O[1]=d,O[2]=p,O[3]=x),C>v&&(C=v,O[0]=d,O[1]=p,O[2]=x,O[3]=u),C>_&&(O[0]=p,O[1]=x,O[2]=u,O[3]=d),O}detectSolid2(o){let u=o[0],d=o[1],p=o[2],x=o[3],E=this.transitionsBetween(u,x),f=Mt.shiftPoint(d,p,(E+1)*4),v=Mt.shiftPoint(p,d,(E+1)*4),_=this.transitionsBetween(f,u),C=this.transitionsBetween(v,x);return _<C?(o[0]=u,o[1]=d,o[2]=p,o[3]=x):(o[0]=d,o[1]=p,o[2]=x,o[3]=u),o}correctTopRight(o){let u=o[0],d=o[1],p=o[2],x=o[3],E=this.transitionsBetween(u,x),f=this.transitionsBetween(d,x),v=Mt.shiftPoint(u,d,(f+1)*4),_=Mt.shiftPoint(p,d,(E+1)*4);E=this.transitionsBetween(v,x),f=this.transitionsBetween(_,x);let C=new ot(x.getX()+(p.getX()-d.getX())/(E+1),x.getY()+(p.getY()-d.getY())/(E+1)),O=new ot(x.getX()+(u.getX()-d.getX())/(f+1),x.getY()+(u.getY()-d.getY())/(f+1));if(!this.isValid(C))return this.isValid(O)?O:null;if(!this.isValid(O))return C;let M=this.transitionsBetween(v,C)+this.transitionsBetween(_,C),F=this.transitionsBetween(v,O)+this.transitionsBetween(_,O);return M>F?C:O}shiftToModuleCenter(o){let u=o[0],d=o[1],p=o[2],x=o[3],E=this.transitionsBetween(u,x)+1,f=this.transitionsBetween(p,x)+1,v=Mt.shiftPoint(u,d,f*4),_=Mt.shiftPoint(p,d,E*4);E=this.transitionsBetween(v,x)+1,f=this.transitionsBetween(_,x)+1,(E&1)===1&&(E+=1),(f&1)===1&&(f+=1);let C=(u.getX()+d.getX()+p.getX()+x.getX())/4,O=(u.getY()+d.getY()+p.getY()+x.getY())/4;u=Mt.moveAway(u,C,O),d=Mt.moveAway(d,C,O),p=Mt.moveAway(p,C,O),x=Mt.moveAway(x,C,O);let M,F;return v=Mt.shiftPoint(u,d,f*4),v=Mt.shiftPoint(v,x,E*4),M=Mt.shiftPoint(d,u,f*4),M=Mt.shiftPoint(M,p,E*4),_=Mt.shiftPoint(p,x,f*4),_=Mt.shiftPoint(_,d,E*4),F=Mt.shiftPoint(x,p,f*4),F=Mt.shiftPoint(F,u,E*4),[v,M,_,F]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,u,d,p,x,E,f){return ci.getInstance().sampleGrid(o,E,f,.5,.5,E-.5,.5,E-.5,f-.5,.5,f-.5,u.getX(),u.getY(),x.getX(),x.getY(),p.getX(),p.getY(),d.getX(),d.getY())}transitionsBetween(o,u){let d=Math.trunc(o.getX()),p=Math.trunc(o.getY()),x=Math.trunc(u.getX()),E=Math.trunc(u.getY()),f=Math.abs(E-p)>Math.abs(x-d);if(f){let X=d;d=p,p=X,X=x,x=E,E=X}let v=Math.abs(x-d),_=Math.abs(E-p),C=-v/2,O=p<E?1:-1,M=d<x?1:-1,F=0,z=this.image.get(f?p:d,f?d:p);for(let X=d,re=p;X!==x;X+=M){let te=this.image.get(f?re:X,f?X:re);if(te!==z&&(F++,z=te),C+=_,C>0){if(re===E)break;re+=O,C-=v}}return F}}class Pi{constructor(){this.decoder=new To}decode(o,u=null){let d,p;if(u!=null&&u.has(Q.PURE_BARCODE)){const _=Pi.extractPureBits(o.getBlackMatrix());d=this.decoder.decode(_),p=Pi.NO_POINTS}else{const _=new Mt(o.getBlackMatrix()).detect();d=this.decoder.decode(_.getBits()),p=_.getPoints()}const x=d.getRawBytes(),E=new Fe(d.getText(),x,8*x.length,p,Ne.DATA_MATRIX,k.currentTimeMillis()),f=d.getByteSegments();f!=null&&E.putMetadata(Tt.BYTE_SEGMENTS,f);const v=d.getECLevel();return v!=null&&E.putMetadata(Tt.ERROR_CORRECTION_LEVEL,v),E}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),d=o.getBottomRightOnBit();if(u==null||d==null)throw new pe;const p=this.moduleSize(u,o);let x=u[1];const E=d[1];let f=u[0];const _=(d[0]-f+1)/p,C=(E-x+1)/p;if(_<=0||C<=0)throw new pe;const O=p/2;x+=O,f+=O;const M=new Be(_,C);for(let F=0;F<C;F++){const z=x+F*p;for(let X=0;X<_;X++)o.get(f+X*p,z)&&M.set(X,F)}return M}static moduleSize(o,u){const d=u.getWidth();let p=o[0];const x=o[1];for(;p<d&&u.get(p,x);)p++;if(p===d)throw new pe;const E=p-o[0];if(E===0)throw new pe;return E}}Pi.NO_POINTS=[];class gn extends Ge{constructor(o=500){super(new Pi,o)}}var Ei;(function(Y){Y[Y.L=0]="L",Y[Y.M=1]="M",Y[Y.Q=2]="Q",Y[Y.H=3]="H"})(Ei||(Ei={}));class qt{constructor(o,u,d){this.value=o,this.stringValue=u,this.bits=d,qt.FOR_BITS.set(d,this),qt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return qt.L;case"M":return qt.M;case"Q":return qt.Q;case"H":return qt.H;default:throw new w(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof qt))return!1;const u=o;return this.value===u.value}static forBits(o){if(o<0||o>=qt.FOR_BITS.size)throw new A;return qt.FOR_BITS.get(o)}}qt.FOR_BITS=new Map,qt.FOR_VALUE=new Map,qt.L=new qt(Ei.L,"L",1),qt.M=new qt(Ei.M,"M",0),qt.Q=new qt(Ei.Q,"Q",3),qt.H=new qt(Ei.H,"H",2);class $n{constructor(o){this.errorCorrectionLevel=qt.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,u){return W.bitCount(o^u)}static decodeFormatInformation(o,u){const d=$n.doDecodeFormatInformation(o,u);return d!==null?d:$n.doDecodeFormatInformation(o^$n.FORMAT_INFO_MASK_QR,u^$n.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,u){let d=Number.MAX_SAFE_INTEGER,p=0;for(const x of $n.FORMAT_INFO_DECODE_LOOKUP){const E=x[0];if(E===o||E===u)return new $n(x[1]);let f=$n.numBitsDiffering(o,E);f<d&&(p=x[1],d=f),o!==u&&(f=$n.numBitsDiffering(u,E),f<d&&(p=x[1],d=f))}return d<=3?new $n(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof $n))return!1;const u=o;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}$n.FORMAT_INFO_MASK_QR=21522,$n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Se{constructor(o,...u){this.ecCodewordsPerBlock=o,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const u=this.ecBlocks;for(const d of u)o+=d.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ue{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class gt{constructor(o,u,...d){this.versionNumber=o,this.alignmentPatternCenters=u,this.ecBlocks=d;let p=0;const x=d[0].getECCodewordsPerBlock(),E=d[0].getECBlocks();for(const f of E)p+=f.getCount()*(f.getDataCodewords()+x);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new U;try{return this.getVersionForNumber((o-17)/4)}catch{throw new U}}static getVersionForNumber(o){if(o<1||o>40)throw new A;return gt.VERSIONS[o-1]}static decodeVersionInformation(o){let u=Number.MAX_SAFE_INTEGER,d=0;for(let p=0;p<gt.VERSION_DECODE_INFO.length;p++){const x=gt.VERSION_DECODE_INFO[p];if(x===o)return gt.getVersionForNumber(p+7);const E=$n.numBitsDiffering(o,x);E<u&&(d=p+7,u=E)}return u<=3?gt.getVersionForNumber(d):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),u=new Be(o);u.setRegion(0,0,9,9),u.setRegion(o-8,0,8,9),u.setRegion(0,o-8,9,8);const d=this.alignmentPatternCenters.length;for(let p=0;p<d;p++){const x=this.alignmentPatternCenters[p]-2;for(let E=0;E<d;E++)p===0&&(E===0||E===d-1)||p===d-1&&E===0||u.setRegion(this.alignmentPatternCenters[E]-2,x,5,5)}return u.setRegion(6,9,1,o-17),u.setRegion(9,6,o-17,1),this.versionNumber>6&&(u.setRegion(o-11,0,3,6),u.setRegion(0,o-11,6,3)),u}toString(){return""+this.versionNumber}}gt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),gt.VERSIONS=[new gt(1,new Int32Array(0),new Se(7,new ue(1,19)),new Se(10,new ue(1,16)),new Se(13,new ue(1,13)),new Se(17,new ue(1,9))),new gt(2,Int32Array.from([6,18]),new Se(10,new ue(1,34)),new Se(16,new ue(1,28)),new Se(22,new ue(1,22)),new Se(28,new ue(1,16))),new gt(3,Int32Array.from([6,22]),new Se(15,new ue(1,55)),new Se(26,new ue(1,44)),new Se(18,new ue(2,17)),new Se(22,new ue(2,13))),new gt(4,Int32Array.from([6,26]),new Se(20,new ue(1,80)),new Se(18,new ue(2,32)),new Se(26,new ue(2,24)),new Se(16,new ue(4,9))),new gt(5,Int32Array.from([6,30]),new Se(26,new ue(1,108)),new Se(24,new ue(2,43)),new Se(18,new ue(2,15),new ue(2,16)),new Se(22,new ue(2,11),new ue(2,12))),new gt(6,Int32Array.from([6,34]),new Se(18,new ue(2,68)),new Se(16,new ue(4,27)),new Se(24,new ue(4,19)),new Se(28,new ue(4,15))),new gt(7,Int32Array.from([6,22,38]),new Se(20,new ue(2,78)),new Se(18,new ue(4,31)),new Se(18,new ue(2,14),new ue(4,15)),new Se(26,new ue(4,13),new ue(1,14))),new gt(8,Int32Array.from([6,24,42]),new Se(24,new ue(2,97)),new Se(22,new ue(2,38),new ue(2,39)),new Se(22,new ue(4,18),new ue(2,19)),new Se(26,new ue(4,14),new ue(2,15))),new gt(9,Int32Array.from([6,26,46]),new Se(30,new ue(2,116)),new Se(22,new ue(3,36),new ue(2,37)),new Se(20,new ue(4,16),new ue(4,17)),new Se(24,new ue(4,12),new ue(4,13))),new gt(10,Int32Array.from([6,28,50]),new Se(18,new ue(2,68),new ue(2,69)),new Se(26,new ue(4,43),new ue(1,44)),new Se(24,new ue(6,19),new ue(2,20)),new Se(28,new ue(6,15),new ue(2,16))),new gt(11,Int32Array.from([6,30,54]),new Se(20,new ue(4,81)),new Se(30,new ue(1,50),new ue(4,51)),new Se(28,new ue(4,22),new ue(4,23)),new Se(24,new ue(3,12),new ue(8,13))),new gt(12,Int32Array.from([6,32,58]),new Se(24,new ue(2,92),new ue(2,93)),new Se(22,new ue(6,36),new ue(2,37)),new Se(26,new ue(4,20),new ue(6,21)),new Se(28,new ue(7,14),new ue(4,15))),new gt(13,Int32Array.from([6,34,62]),new Se(26,new ue(4,107)),new Se(22,new ue(8,37),new ue(1,38)),new Se(24,new ue(8,20),new ue(4,21)),new Se(22,new ue(12,11),new ue(4,12))),new gt(14,Int32Array.from([6,26,46,66]),new Se(30,new ue(3,115),new ue(1,116)),new Se(24,new ue(4,40),new ue(5,41)),new Se(20,new ue(11,16),new ue(5,17)),new Se(24,new ue(11,12),new ue(5,13))),new gt(15,Int32Array.from([6,26,48,70]),new Se(22,new ue(5,87),new ue(1,88)),new Se(24,new ue(5,41),new ue(5,42)),new Se(30,new ue(5,24),new ue(7,25)),new Se(24,new ue(11,12),new ue(7,13))),new gt(16,Int32Array.from([6,26,50,74]),new Se(24,new ue(5,98),new ue(1,99)),new Se(28,new ue(7,45),new ue(3,46)),new Se(24,new ue(15,19),new ue(2,20)),new Se(30,new ue(3,15),new ue(13,16))),new gt(17,Int32Array.from([6,30,54,78]),new Se(28,new ue(1,107),new ue(5,108)),new Se(28,new ue(10,46),new ue(1,47)),new Se(28,new ue(1,22),new ue(15,23)),new Se(28,new ue(2,14),new ue(17,15))),new gt(18,Int32Array.from([6,30,56,82]),new Se(30,new ue(5,120),new ue(1,121)),new Se(26,new ue(9,43),new ue(4,44)),new Se(28,new ue(17,22),new ue(1,23)),new Se(28,new ue(2,14),new ue(19,15))),new gt(19,Int32Array.from([6,30,58,86]),new Se(28,new ue(3,113),new ue(4,114)),new Se(26,new ue(3,44),new ue(11,45)),new Se(26,new ue(17,21),new ue(4,22)),new Se(26,new ue(9,13),new ue(16,14))),new gt(20,Int32Array.from([6,34,62,90]),new Se(28,new ue(3,107),new ue(5,108)),new Se(26,new ue(3,41),new ue(13,42)),new Se(30,new ue(15,24),new ue(5,25)),new Se(28,new ue(15,15),new ue(10,16))),new gt(21,Int32Array.from([6,28,50,72,94]),new Se(28,new ue(4,116),new ue(4,117)),new Se(26,new ue(17,42)),new Se(28,new ue(17,22),new ue(6,23)),new Se(30,new ue(19,16),new ue(6,17))),new gt(22,Int32Array.from([6,26,50,74,98]),new Se(28,new ue(2,111),new ue(7,112)),new Se(28,new ue(17,46)),new Se(30,new ue(7,24),new ue(16,25)),new Se(24,new ue(34,13))),new gt(23,Int32Array.from([6,30,54,78,102]),new Se(30,new ue(4,121),new ue(5,122)),new Se(28,new ue(4,47),new ue(14,48)),new Se(30,new ue(11,24),new ue(14,25)),new Se(30,new ue(16,15),new ue(14,16))),new gt(24,Int32Array.from([6,28,54,80,106]),new Se(30,new ue(6,117),new ue(4,118)),new Se(28,new ue(6,45),new ue(14,46)),new Se(30,new ue(11,24),new ue(16,25)),new Se(30,new ue(30,16),new ue(2,17))),new gt(25,Int32Array.from([6,32,58,84,110]),new Se(26,new ue(8,106),new ue(4,107)),new Se(28,new ue(8,47),new ue(13,48)),new Se(30,new ue(7,24),new ue(22,25)),new Se(30,new ue(22,15),new ue(13,16))),new gt(26,Int32Array.from([6,30,58,86,114]),new Se(28,new ue(10,114),new ue(2,115)),new Se(28,new ue(19,46),new ue(4,47)),new Se(28,new ue(28,22),new ue(6,23)),new Se(30,new ue(33,16),new ue(4,17))),new gt(27,Int32Array.from([6,34,62,90,118]),new Se(30,new ue(8,122),new ue(4,123)),new Se(28,new ue(22,45),new ue(3,46)),new Se(30,new ue(8,23),new ue(26,24)),new Se(30,new ue(12,15),new ue(28,16))),new gt(28,Int32Array.from([6,26,50,74,98,122]),new Se(30,new ue(3,117),new ue(10,118)),new Se(28,new ue(3,45),new ue(23,46)),new Se(30,new ue(4,24),new ue(31,25)),new Se(30,new ue(11,15),new ue(31,16))),new gt(29,Int32Array.from([6,30,54,78,102,126]),new Se(30,new ue(7,116),new ue(7,117)),new Se(28,new ue(21,45),new ue(7,46)),new Se(30,new ue(1,23),new ue(37,24)),new Se(30,new ue(19,15),new ue(26,16))),new gt(30,Int32Array.from([6,26,52,78,104,130]),new Se(30,new ue(5,115),new ue(10,116)),new Se(28,new ue(19,47),new ue(10,48)),new Se(30,new ue(15,24),new ue(25,25)),new Se(30,new ue(23,15),new ue(25,16))),new gt(31,Int32Array.from([6,30,56,82,108,134]),new Se(30,new ue(13,115),new ue(3,116)),new Se(28,new ue(2,46),new ue(29,47)),new Se(30,new ue(42,24),new ue(1,25)),new Se(30,new ue(23,15),new ue(28,16))),new gt(32,Int32Array.from([6,34,60,86,112,138]),new Se(30,new ue(17,115)),new Se(28,new ue(10,46),new ue(23,47)),new Se(30,new ue(10,24),new ue(35,25)),new Se(30,new ue(19,15),new ue(35,16))),new gt(33,Int32Array.from([6,30,58,86,114,142]),new Se(30,new ue(17,115),new ue(1,116)),new Se(28,new ue(14,46),new ue(21,47)),new Se(30,new ue(29,24),new ue(19,25)),new Se(30,new ue(11,15),new ue(46,16))),new gt(34,Int32Array.from([6,34,62,90,118,146]),new Se(30,new ue(13,115),new ue(6,116)),new Se(28,new ue(14,46),new ue(23,47)),new Se(30,new ue(44,24),new ue(7,25)),new Se(30,new ue(59,16),new ue(1,17))),new gt(35,Int32Array.from([6,30,54,78,102,126,150]),new Se(30,new ue(12,121),new ue(7,122)),new Se(28,new ue(12,47),new ue(26,48)),new Se(30,new ue(39,24),new ue(14,25)),new Se(30,new ue(22,15),new ue(41,16))),new gt(36,Int32Array.from([6,24,50,76,102,128,154]),new Se(30,new ue(6,121),new ue(14,122)),new Se(28,new ue(6,47),new ue(34,48)),new Se(30,new ue(46,24),new ue(10,25)),new Se(30,new ue(2,15),new ue(64,16))),new gt(37,Int32Array.from([6,28,54,80,106,132,158]),new Se(30,new ue(17,122),new ue(4,123)),new Se(28,new ue(29,46),new ue(14,47)),new Se(30,new ue(49,24),new ue(10,25)),new Se(30,new ue(24,15),new ue(46,16))),new gt(38,Int32Array.from([6,32,58,84,110,136,162]),new Se(30,new ue(4,122),new ue(18,123)),new Se(28,new ue(13,46),new ue(32,47)),new Se(30,new ue(48,24),new ue(14,25)),new Se(30,new ue(42,15),new ue(32,16))),new gt(39,Int32Array.from([6,26,54,82,110,138,166]),new Se(30,new ue(20,117),new ue(4,118)),new Se(28,new ue(40,47),new ue(7,48)),new Se(30,new ue(43,24),new ue(22,25)),new Se(30,new ue(10,15),new ue(67,16))),new gt(40,Int32Array.from([6,30,58,86,114,142,170]),new Se(30,new ue(19,118),new ue(6,119)),new Se(28,new ue(18,47),new ue(31,48)),new Se(30,new ue(34,24),new ue(34,25)),new Se(30,new ue(20,15),new ue(61,16)))];var Er;(function(Y){Y[Y.DATA_MASK_000=0]="DATA_MASK_000",Y[Y.DATA_MASK_001=1]="DATA_MASK_001",Y[Y.DATA_MASK_010=2]="DATA_MASK_010",Y[Y.DATA_MASK_011=3]="DATA_MASK_011",Y[Y.DATA_MASK_100=4]="DATA_MASK_100",Y[Y.DATA_MASK_101=5]="DATA_MASK_101",Y[Y.DATA_MASK_110=6]="DATA_MASK_110",Y[Y.DATA_MASK_111=7]="DATA_MASK_111"})(Er||(Er={}));class _r{constructor(o,u){this.value=o,this.isMasked=u}unmaskBitMatrix(o,u){for(let d=0;d<u;d++)for(let p=0;p<u;p++)this.isMasked(d,p)&&o.flip(p,d)}}_r.values=new Map([[Er.DATA_MASK_000,new _r(Er.DATA_MASK_000,(Y,o)=>(Y+o&1)===0)],[Er.DATA_MASK_001,new _r(Er.DATA_MASK_001,(Y,o)=>(Y&1)===0)],[Er.DATA_MASK_010,new _r(Er.DATA_MASK_010,(Y,o)=>o%3===0)],[Er.DATA_MASK_011,new _r(Er.DATA_MASK_011,(Y,o)=>(Y+o)%3===0)],[Er.DATA_MASK_100,new _r(Er.DATA_MASK_100,(Y,o)=>(Math.floor(Y/2)+Math.floor(o/3)&1)===0)],[Er.DATA_MASK_101,new _r(Er.DATA_MASK_101,(Y,o)=>Y*o%6===0)],[Er.DATA_MASK_110,new _r(Er.DATA_MASK_110,(Y,o)=>Y*o%6<3)],[Er.DATA_MASK_111,new _r(Er.DATA_MASK_111,(Y,o)=>(Y+o+Y*o%3&1)===0)]]);class Di{constructor(o){const u=o.getHeight();if(u<21||(u&3)!==1)throw new U;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let x=0;x<6;x++)o=this.copyBit(x,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let x=5;x>=0;x--)o=this.copyBit(8,x,o);const u=this.bitMatrix.getHeight();let d=0;const p=u-7;for(let x=u-1;x>=p;x--)d=this.copyBit(8,x,d);for(let x=u-8;x<u;x++)d=this.copyBit(x,8,d);if(this.parsedFormatInfo=$n.decodeFormatInformation(o,d),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new U}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),u=Math.floor((o-17)/4);if(u<=6)return gt.getVersionForNumber(u);let d=0;const p=o-11;for(let E=5;E>=0;E--)for(let f=o-9;f>=p;f--)d=this.copyBit(f,E,d);let x=gt.decodeVersionInformation(d);if(x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;d=0;for(let E=5;E>=0;E--)for(let f=o-9;f>=p;f--)d=this.copyBit(E,f,d);if(x=gt.decodeVersionInformation(d),x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;throw new U}copyBit(o,u,d){return(this.isMirror?this.bitMatrix.get(u,o):this.bitMatrix.get(o,u))?d<<1|1:d<<1}readCodewords(){const o=this.readFormatInformation(),u=this.readVersion(),d=_r.values.get(o.getDataMask()),p=this.bitMatrix.getHeight();d.unmaskBitMatrix(this.bitMatrix,p);const x=u.buildFunctionPattern();let E=!0;const f=new Uint8Array(u.getTotalCodewords());let v=0,_=0,C=0;for(let O=p-1;O>0;O-=2){O===6&&O--;for(let M=0;M<p;M++){const F=E?p-1-M:M;for(let z=0;z<2;z++)x.get(O-z,F)||(C++,_<<=1,this.bitMatrix.get(O-z,F)&&(_|=1),C===8&&(f[v++]=_,C=0,_=0))}E=!E}if(v!==u.getTotalCodewords())throw new U;return f}remask(){if(this.parsedFormatInfo===null)return;const o=_r.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let u=0,d=o.getWidth();u<d;u++)for(let p=u+1,x=o.getHeight();p<x;p++)o.get(u,p)!==o.get(p,u)&&(o.flip(p,u),o.flip(u,p))}}class Io{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u,d){if(o.length!==u.getTotalCodewords())throw new A;const p=u.getECBlocksForLevel(d);let x=0;const E=p.getECBlocks();for(const z of E)x+=z.getCount();const f=new Array(x);let v=0;for(const z of E)for(let X=0;X<z.getCount();X++){const re=z.getDataCodewords(),te=p.getECCodewordsPerBlock()+re;f[v++]=new Io(re,new Uint8Array(te))}const _=f[0].codewords.length;let C=f.length-1;for(;C>=0&&f[C].codewords.length!==_;)C--;C++;const O=_-p.getECCodewordsPerBlock();let M=0;for(let z=0;z<O;z++)for(let X=0;X<v;X++)f[X].codewords[z]=o[M++];for(let z=C;z<v;z++)f[z].codewords[O]=o[M++];const F=f[0].codewords.length;for(let z=O;z<F;z++)for(let X=0;X<v;X++){const re=X<C?z:z+1;f[X].codewords[re]=o[M++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Lt;(function(Y){Y[Y.TERMINATOR=0]="TERMINATOR",Y[Y.NUMERIC=1]="NUMERIC",Y[Y.ALPHANUMERIC=2]="ALPHANUMERIC",Y[Y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",Y[Y.BYTE=4]="BYTE",Y[Y.ECI=5]="ECI",Y[Y.KANJI=6]="KANJI",Y[Y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",Y[Y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",Y[Y.HANZI=9]="HANZI"})(Lt||(Lt={}));class Et{constructor(o,u,d,p){this.value=o,this.stringValue=u,this.characterCountBitsForVersions=d,this.bits=p,Et.FOR_BITS.set(p,this),Et.FOR_VALUE.set(o,this)}static forBits(o){const u=Et.FOR_BITS.get(o);if(u===void 0)throw new A;return u}getCharacterCountBits(o){const u=o.getVersionNumber();let d;return u<=9?d=0:u<=26?d=1:d=2,this.characterCountBitsForVersions[d]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof Et))return!1;const u=o;return this.value===u.value}toString(){return this.stringValue}}Et.FOR_BITS=new Map,Et.FOR_VALUE=new Map,Et.TERMINATOR=new Et(Lt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Et.NUMERIC=new Et(Lt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Et.ALPHANUMERIC=new Et(Lt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Et.STRUCTURED_APPEND=new Et(Lt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Et.BYTE=new Et(Lt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Et.ECI=new Et(Lt.ECI,"ECI",Int32Array.from([0,0,0]),7),Et.KANJI=new Et(Lt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Et.FNC1_FIRST_POSITION=new Et(Lt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Et.FNC1_SECOND_POSITION=new Et(Lt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Et.HANZI=new Et(Lt.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ln{static decode(o,u,d,p){const x=new pr(o);let E=new J;const f=new Array;let v=-1,_=-1;try{let C=null,O=!1,M;do{if(x.available()<4)M=Et.TERMINATOR;else{const F=x.readBits(4);M=Et.forBits(F)}switch(M){case Et.TERMINATOR:break;case Et.FNC1_FIRST_POSITION:case Et.FNC1_SECOND_POSITION:O=!0;break;case Et.STRUCTURED_APPEND:if(x.available()<16)throw new U;v=x.readBits(8),_=x.readBits(8);break;case Et.ECI:const F=Ln.parseECIValue(x);if(C=H.getCharacterSetECIByValue(F),C===null)throw new U;break;case Et.HANZI:const z=x.readBits(4),X=x.readBits(M.getCharacterCountBits(u));z===Ln.GB2312_SUBSET&&Ln.decodeHanziSegment(x,E,X);break;default:const re=x.readBits(M.getCharacterCountBits(u));switch(M){case Et.NUMERIC:Ln.decodeNumericSegment(x,E,re);break;case Et.ALPHANUMERIC:Ln.decodeAlphanumericSegment(x,E,re,O);break;case Et.BYTE:Ln.decodeByteSegment(x,E,re,C,f,p);break;case Et.KANJI:Ln.decodeKanjiSegment(x,E,re);break;default:throw new U}break}}while(M!==Et.TERMINATOR)}catch{throw new U}return new ke(o,E.toString(),f.length===0?null:f,d===null?null:d.toString(),v,_)}static decodeHanziSegment(o,u,d){if(d*13>o.available())throw new U;const p=new Uint8Array(2*d);let x=0;for(;d>0;){const E=o.readBits(13);let f=E/96<<8&4294967295|E%96;f<959?f+=41377:f+=42657,p[x]=f>>8&255,p[x+1]=f&255,x+=2,d--}try{u.append(ie.decode(p,Z.GB2312))}catch(E){throw new U(E)}}static decodeKanjiSegment(o,u,d){if(d*13>o.available())throw new U;const p=new Uint8Array(2*d);let x=0;for(;d>0;){const E=o.readBits(13);let f=E/192<<8&4294967295|E%192;f<7936?f+=33088:f+=49472,p[x]=f>>8,p[x+1]=f,x+=2,d--}try{u.append(ie.decode(p,Z.SHIFT_JIS))}catch(E){throw new U(E)}}static decodeByteSegment(o,u,d,p,x,E){if(8*d>o.available())throw new U;const f=new Uint8Array(d);for(let _=0;_<d;_++)f[_]=o.readBits(8);let v;p===null?v=Z.guessEncoding(f,E):v=p.getName();try{u.append(ie.decode(f,v))}catch(_){throw new U(_)}x.push(f)}static toAlphaNumericChar(o){if(o>=Ln.ALPHANUMERIC_CHARS.length)throw new U;return Ln.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,u,d,p){const x=u.length();for(;d>1;){if(o.available()<11)throw new U;const E=o.readBits(11);u.append(Ln.toAlphaNumericChar(Math.floor(E/45))),u.append(Ln.toAlphaNumericChar(E%45)),d-=2}if(d===1){if(o.available()<6)throw new U;u.append(Ln.toAlphaNumericChar(o.readBits(6)))}if(p)for(let E=x;E<u.length();E++)u.charAt(E)==="%"&&(E<u.length()-1&&u.charAt(E+1)==="%"?u.deleteCharAt(E+1):u.setCharAt(E,""))}static decodeNumericSegment(o,u,d){for(;d>=3;){if(o.available()<10)throw new U;const p=o.readBits(10);if(p>=1e3)throw new U;u.append(Ln.toAlphaNumericChar(Math.floor(p/100))),u.append(Ln.toAlphaNumericChar(Math.floor(p/10)%10)),u.append(Ln.toAlphaNumericChar(p%10)),d-=3}if(d===2){if(o.available()<7)throw new U;const p=o.readBits(7);if(p>=100)throw new U;u.append(Ln.toAlphaNumericChar(Math.floor(p/10))),u.append(Ln.toAlphaNumericChar(p%10))}else if(d===1){if(o.available()<4)throw new U;const p=o.readBits(4);if(p>=10)throw new U;u.append(Ln.toAlphaNumericChar(p))}}static parseECIValue(o){const u=o.readBits(8);if((u&128)===0)return u&127;if((u&192)===128){const d=o.readBits(8);return(u&63)<<8&4294967295|d}if((u&224)===192){const d=o.readBits(16);return(u&31)<<16&4294967295|d}throw new U}}Ln.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ln.GB2312_SUBSET=1;class dl{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const u=o[0];o[0]=o[2],o[2]=u}}class Vr{constructor(){this.rsDecoder=new Hn(At.QR_CODE_FIELD_256)}decodeBooleanArray(o,u){return this.decodeBitMatrix(Be.parseFromBooleanArray(o),u)}decodeBitMatrix(o,u){const d=new Di(o);let p=null;try{return this.decodeBitMatrixParser(d,u)}catch(x){p=x}try{d.remask(),d.setMirror(!0),d.readVersion(),d.readFormatInformation(),d.mirror();const x=this.decodeBitMatrixParser(d,u);return x.setOther(new dl(!0)),x}catch(x){throw p!==null?p:x}}decodeBitMatrixParser(o,u){const d=o.readVersion(),p=o.readFormatInformation().getErrorCorrectionLevel(),x=o.readCodewords(),E=Io.getDataBlocks(x,d,p);let f=0;for(const C of E)f+=C.getNumDataCodewords();const v=new Uint8Array(f);let _=0;for(const C of E){const O=C.getCodewords(),M=C.getNumDataCodewords();this.correctErrors(O,M);for(let F=0;F<M;F++)v[_++]=O[F]}return Ln.decode(v,d,p,u)}correctErrors(o,u){const d=new Int32Array(o);try{this.rsDecoder.decode(d,o.length-u)}catch{throw new R}for(let p=0;p<u;p++)o[p]=d[p]}}class aa extends ot{constructor(o,u,d){super(o,u),this.estimatedModuleSize=d}aboutEquals(o,u,d){if(Math.abs(u-this.getY())<=o&&Math.abs(d-this.getX())<=o){const p=Math.abs(o-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(o,u,d){const p=(this.getX()+u)/2,x=(this.getY()+o)/2,E=(this.estimatedModuleSize+d)/2;return new aa(p,x,E)}}class di{constructor(o,u,d,p,x,E,f){this.image=o,this.startX=u,this.startY=d,this.width=p,this.height=x,this.moduleSize=E,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,u=this.height,d=this.width,p=o+d,x=this.startY+u/2,E=new Int32Array(3),f=this.image;for(let v=0;v<u;v++){const _=x+((v&1)===0?Math.floor((v+1)/2):-Math.floor((v+1)/2));E[0]=0,E[1]=0,E[2]=0;let C=o;for(;C<p&&!f.get(C,_);)C++;let O=0;for(;C<p;){if(f.get(C,_))if(O===1)E[1]++;else if(O===2){if(this.foundPatternCross(E)){const M=this.handlePossibleCenter(E,_,C);if(M!==null)return M}E[0]=E[2],E[1]=1,E[2]=0,O=1}else E[++O]++;else O===1&&O++,E[O]++;C++}if(this.foundPatternCross(E)){const M=this.handlePossibleCenter(E,_,p);if(M!==null)return M}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new pe}static centerFromEnd(o,u){return u-o[2]-o[1]/2}foundPatternCross(o){const u=this.moduleSize,d=u/2;for(let p=0;p<3;p++)if(Math.abs(u-o[p])>=d)return!1;return!0}crossCheckVertical(o,u,d,p){const x=this.image,E=x.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let v=o;for(;v>=0&&x.get(u,v)&&f[1]<=d;)f[1]++,v--;if(v<0||f[1]>d)return NaN;for(;v>=0&&!x.get(u,v)&&f[0]<=d;)f[0]++,v--;if(f[0]>d)return NaN;for(v=o+1;v<E&&x.get(u,v)&&f[1]<=d;)f[1]++,v++;if(v===E||f[1]>d)return NaN;for(;v<E&&!x.get(u,v)&&f[2]<=d;)f[2]++,v++;if(f[2]>d)return NaN;const _=f[0]+f[1]+f[2];return 5*Math.abs(_-p)>=2*p?NaN:this.foundPatternCross(f)?di.centerFromEnd(f,v):NaN}handlePossibleCenter(o,u,d){const p=o[0]+o[1]+o[2],x=di.centerFromEnd(o,d),E=this.crossCheckVertical(u,x,2*o[1],p);if(!isNaN(E)){const f=(o[0]+o[1]+o[2])/3;for(const _ of this.possibleCenters)if(_.aboutEquals(f,E,x))return _.combineEstimate(E,x,f);const v=new aa(x,E,f);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null}}class Gi extends ot{constructor(o,u,d,p){super(o,u),this.estimatedModuleSize=d,this.count=p,p===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,u,d){if(Math.abs(u-this.getY())<=o&&Math.abs(d-this.getX())<=o){const p=Math.abs(o-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(o,u,d){const p=this.count+1,x=(this.count*this.getX()+u)/p,E=(this.count*this.getY()+o)/p,f=(this.count*this.estimatedModuleSize+d)/p;return new Gi(x,E,f,p)}}class sa{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Xn{constructor(o,u){this.image=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const u=o!=null&&o.get(Q.TRY_HARDER)!==void 0,d=o!=null&&o.get(Q.PURE_BARCODE)!==void 0,p=this.image,x=p.getHeight(),E=p.getWidth();let f=Math.floor(3*x/(4*Xn.MAX_MODULES));(f<Xn.MIN_SKIP||u)&&(f=Xn.MIN_SKIP);let v=!1;const _=new Int32Array(5);for(let O=f-1;O<x&&!v;O+=f){_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0;let M=0;for(let F=0;F<E;F++)if(p.get(F,O))(M&1)===1&&M++,_[M]++;else if((M&1)===0)if(M===4)if(Xn.foundPatternCross(_)){if(this.handlePossibleCenter(_,O,F,d)===!0)if(f=2,this.hasSkipped===!0)v=this.haveMultiplyConfirmedCenters();else{const X=this.findRowSkip();X>_[2]&&(O+=X-_[2]-f,F=E-1)}else{_[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,M=3;continue}M=0,_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0}else _[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,M=3;else _[++M]++;else _[M]++;Xn.foundPatternCross(_)&&this.handlePossibleCenter(_,O,E,d)===!0&&(f=_[0],this.hasSkipped&&(v=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return ot.orderBestPatterns(C),new sa(C)}static centerFromEnd(o,u){return u-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let u=0;for(let x=0;x<5;x++){const E=o[x];if(E===0)return!1;u+=E}if(u<7)return!1;const d=u/7,p=d/2;return Math.abs(d-o[0])<p&&Math.abs(d-o[1])<p&&Math.abs(3*d-o[2])<3*p&&Math.abs(d-o[3])<p&&Math.abs(d-o[4])<p}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,u,d,p){const x=this.getCrossCheckStateCount();let E=0;const f=this.image;for(;o>=E&&u>=E&&f.get(u-E,o-E);)x[2]++,E++;if(o<E||u<E)return!1;for(;o>=E&&u>=E&&!f.get(u-E,o-E)&&x[1]<=d;)x[1]++,E++;if(o<E||u<E||x[1]>d)return!1;for(;o>=E&&u>=E&&f.get(u-E,o-E)&&x[0]<=d;)x[0]++,E++;if(x[0]>d)return!1;const v=f.getHeight(),_=f.getWidth();for(E=1;o+E<v&&u+E<_&&f.get(u+E,o+E);)x[2]++,E++;if(o+E>=v||u+E>=_)return!1;for(;o+E<v&&u+E<_&&!f.get(u+E,o+E)&&x[3]<d;)x[3]++,E++;if(o+E>=v||u+E>=_||x[3]>=d)return!1;for(;o+E<v&&u+E<_&&f.get(u+E,o+E)&&x[4]<d;)x[4]++,E++;if(x[4]>=d)return!1;const C=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(C-p)<2*p&&Xn.foundPatternCross(x)}crossCheckVertical(o,u,d,p){const x=this.image,E=x.getHeight(),f=this.getCrossCheckStateCount();let v=o;for(;v>=0&&x.get(u,v);)f[2]++,v--;if(v<0)return NaN;for(;v>=0&&!x.get(u,v)&&f[1]<=d;)f[1]++,v--;if(v<0||f[1]>d)return NaN;for(;v>=0&&x.get(u,v)&&f[0]<=d;)f[0]++,v--;if(f[0]>d)return NaN;for(v=o+1;v<E&&x.get(u,v);)f[2]++,v++;if(v===E)return NaN;for(;v<E&&!x.get(u,v)&&f[3]<d;)f[3]++,v++;if(v===E||f[3]>=d)return NaN;for(;v<E&&x.get(u,v)&&f[4]<d;)f[4]++,v++;if(f[4]>=d)return NaN;const _=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(_-p)>=2*p?NaN:Xn.foundPatternCross(f)?Xn.centerFromEnd(f,v):NaN}crossCheckHorizontal(o,u,d,p){const x=this.image,E=x.getWidth(),f=this.getCrossCheckStateCount();let v=o;for(;v>=0&&x.get(v,u);)f[2]++,v--;if(v<0)return NaN;for(;v>=0&&!x.get(v,u)&&f[1]<=d;)f[1]++,v--;if(v<0||f[1]>d)return NaN;for(;v>=0&&x.get(v,u)&&f[0]<=d;)f[0]++,v--;if(f[0]>d)return NaN;for(v=o+1;v<E&&x.get(v,u);)f[2]++,v++;if(v===E)return NaN;for(;v<E&&!x.get(v,u)&&f[3]<d;)f[3]++,v++;if(v===E||f[3]>=d)return NaN;for(;v<E&&x.get(v,u)&&f[4]<d;)f[4]++,v++;if(f[4]>=d)return NaN;const _=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(_-p)>=p?NaN:Xn.foundPatternCross(f)?Xn.centerFromEnd(f,v):NaN}handlePossibleCenter(o,u,d,p){const x=o[0]+o[1]+o[2]+o[3]+o[4];let E=Xn.centerFromEnd(o,d),f=this.crossCheckVertical(u,Math.floor(E),o[2],x);if(!isNaN(f)&&(E=this.crossCheckHorizontal(Math.floor(E),Math.floor(f),o[2],x),!isNaN(E)&&(!p||this.crossCheckDiagonal(Math.floor(f),Math.floor(E),o[2],x)))){const v=x/7;let _=!1;const C=this.possibleCenters;for(let O=0,M=C.length;O<M;O++){const F=C[O];if(F.aboutEquals(v,f,E)){C[O]=F.combineEstimate(f,E,v),_=!0;break}}if(!_){const O=new Gi(E,f,v);C.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const d of this.possibleCenters)if(d.getCount()>=Xn.CENTER_QUORUM)if(u==null)u=d;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-d.getX())-Math.abs(u.getY()-d.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,u=0;const d=this.possibleCenters.length;for(const E of this.possibleCenters)E.getCount()>=Xn.CENTER_QUORUM&&(o++,u+=E.getEstimatedModuleSize());if(o<3)return!1;const p=u/d;let x=0;for(const E of this.possibleCenters)x+=Math.abs(E.getEstimatedModuleSize()-p);return x<=.05*u}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new pe;const u=this.possibleCenters;let d;if(o>3){let p=0,x=0;for(const v of this.possibleCenters){const _=v.getEstimatedModuleSize();p+=_,x+=_*_}d=p/o;let E=Math.sqrt(x/o-d*d);u.sort((v,_)=>{const C=Math.abs(_.getEstimatedModuleSize()-d),O=Math.abs(v.getEstimatedModuleSize()-d);return C<O?-1:C>O?1:0});const f=Math.max(.2*d,E);for(let v=0;v<u.length&&u.length>3;v++){const _=u[v];Math.abs(_.getEstimatedModuleSize()-d)>f&&(u.splice(v,1),v--)}}if(u.length>3){let p=0;for(const x of u)p+=x.getEstimatedModuleSize();d=p/u.length,u.sort((x,E)=>{if(E.getCount()===x.getCount()){const f=Math.abs(E.getEstimatedModuleSize()-d),v=Math.abs(x.getEstimatedModuleSize()-d);return f<v?1:f>v?-1:0}else return E.getCount()-x.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}Xn.CENTER_QUORUM=2,Xn.MIN_SKIP=3,Xn.MAX_MODULES=57;class Pn{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(Q.NEED_RESULT_POINT_CALLBACK);const d=new Xn(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(d)}processFinderPatternInfo(o){const u=o.getTopLeft(),d=o.getTopRight(),p=o.getBottomLeft(),x=this.calculateModuleSize(u,d,p);if(x<1)throw new pe("No pattern found in proccess finder.");const E=Pn.computeDimension(u,d,p,x),f=gt.getProvisionalVersionForDimension(E),v=f.getDimensionForVersion()-7;let _=null;if(f.getAlignmentPatternCenters().length>0){const F=d.getX()-u.getX()+p.getX(),z=d.getY()-u.getY()+p.getY(),X=1-3/v,re=Math.floor(u.getX()+X*(F-u.getX())),te=Math.floor(u.getY()+X*(z-u.getY()));for(let oe=4;oe<=16;oe<<=1)try{_=this.findAlignmentInRegion(x,re,te,oe);break}catch(ce){if(!(ce instanceof pe))throw ce}}const C=Pn.createTransform(u,d,p,_,E),O=Pn.sampleGrid(this.image,C,E);let M;return _===null?M=[p,u,d]:M=[p,u,d,_],new Jr(O,M)}static createTransform(o,u,d,p,x){const E=x-3.5;let f,v,_,C;return p!==null?(f=p.getX(),v=p.getY(),_=E-3,C=_):(f=u.getX()-o.getX()+d.getX(),v=u.getY()-o.getY()+d.getY(),_=E,C=E),Gn.quadrilateralToQuadrilateral(3.5,3.5,E,3.5,_,C,3.5,E,o.getX(),o.getY(),u.getX(),u.getY(),f,v,d.getX(),d.getY())}static sampleGrid(o,u,d){return ci.getInstance().sampleGridWithTransform(o,d,d,u)}static computeDimension(o,u,d,p){const x=Ot.round(ot.distance(o,u)/p),E=Ot.round(ot.distance(o,d)/p);let f=Math.floor((x+E)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new pe("Dimensions could be not found.")}return f}calculateModuleSize(o,u,d){return(this.calculateModuleSizeOneWay(o,u)+this.calculateModuleSizeOneWay(o,d))/2}calculateModuleSizeOneWay(o,u){const d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(u.getX()),Math.floor(u.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(d)?p/7:isNaN(p)?d/7:(d+p)/14}sizeOfBlackWhiteBlackRunBothWays(o,u,d,p){let x=this.sizeOfBlackWhiteBlackRun(o,u,d,p),E=1,f=o-(d-o);f<0?(E=o/(o-f),f=0):f>=this.image.getWidth()&&(E=(this.image.getWidth()-1-o)/(f-o),f=this.image.getWidth()-1);let v=Math.floor(u-(p-u)*E);return E=1,v<0?(E=u/(u-v),v=0):v>=this.image.getHeight()&&(E=(this.image.getHeight()-1-u)/(v-u),v=this.image.getHeight()-1),f=Math.floor(o+(f-o)*E),x+=this.sizeOfBlackWhiteBlackRun(o,u,f,v),x-1}sizeOfBlackWhiteBlackRun(o,u,d,p){const x=Math.abs(p-u)>Math.abs(d-o);if(x){let F=o;o=u,u=F,F=d,d=p,p=F}const E=Math.abs(d-o),f=Math.abs(p-u);let v=-E/2;const _=o<d?1:-1,C=u<p?1:-1;let O=0;const M=d+_;for(let F=o,z=u;F!==M;F+=_){const X=x?z:F,re=x?F:z;if(O===1===this.image.get(X,re)){if(O===2)return Ot.distance(F,z,o,u);O++}if(v+=f,v>0){if(z===p)break;z+=C,v-=E}}return O===2?Ot.distance(d+_,p,o,u):NaN}findAlignmentInRegion(o,u,d,p){const x=Math.floor(p*o),E=Math.max(0,u-x),f=Math.min(this.image.getWidth()-1,u+x);if(f-E<o*3)throw new pe("Alignment top exceeds estimated module size.");const v=Math.max(0,d-x),_=Math.min(this.image.getHeight()-1,d+x);if(_-v<o*3)throw new pe("Alignment bottom exceeds estimated module size.");return new di(this.image,E,v,f-E,_-v,o,this.resultPointCallback).find()}}class yr{constructor(){this.decoder=new Vr}getDecoder(){return this.decoder}decode(o,u){let d,p;if(u!=null&&u.get(Q.PURE_BARCODE)!==void 0){const v=yr.extractPureBits(o.getBlackMatrix());d=this.decoder.decodeBitMatrix(v,u),p=yr.NO_POINTS}else{const v=new Pn(o.getBlackMatrix()).detect(u);d=this.decoder.decodeBitMatrix(v.getBits(),u),p=v.getPoints()}d.getOther()instanceof dl&&d.getOther().applyMirroredCorrection(p);const x=new Fe(d.getText(),d.getRawBytes(),void 0,p,Ne.QR_CODE,void 0),E=d.getByteSegments();E!==null&&x.putMetadata(Tt.BYTE_SEGMENTS,E);const f=d.getECLevel();return f!==null&&x.putMetadata(Tt.ERROR_CORRECTION_LEVEL,f),d.hasStructuredAppend()&&(x.putMetadata(Tt.STRUCTURED_APPEND_SEQUENCE,d.getStructuredAppendSequenceNumber()),x.putMetadata(Tt.STRUCTURED_APPEND_PARITY,d.getStructuredAppendParity())),x}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),d=o.getBottomRightOnBit();if(u===null||d===null)throw new pe;const p=this.moduleSize(u,o);let x=u[1],E=d[1],f=u[0],v=d[0];if(f>=v||x>=E)throw new pe;if(E-x!==v-f&&(v=f+(E-x),v>=o.getWidth()))throw new pe;const _=Math.round((v-f+1)/p),C=Math.round((E-x+1)/p);if(_<=0||C<=0)throw new pe;if(C!==_)throw new pe;const O=Math.floor(p/2);x+=O,f+=O;const M=f+Math.floor((_-1)*p)-v;if(M>0){if(M>O)throw new pe;f-=M}const F=x+Math.floor((C-1)*p)-E;if(F>0){if(F>O)throw new pe;x-=F}const z=new Be(_,C);for(let X=0;X<C;X++){const re=x+Math.floor(X*p);for(let te=0;te<_;te++)o.get(f+Math.floor(te*p),re)&&z.set(te,X)}return z}static moduleSize(o,u){const d=u.getHeight(),p=u.getWidth();let x=o[0],E=o[1],f=!0,v=0;for(;x<p&&E<d;){if(f!==u.get(x,E)){if(++v===5)break;f=!f}x++,E++}if(x===p||E===d)throw new pe;return(x-o[0])/7}}yr.NO_POINTS=new Array;class _t{PDF417Common(){}static getBitCountSum(o){return Ot.sum(o)}static toIntArray(o){if(o==null||!o.length)return _t.EMPTY_INT_ARRAY;const u=new Int32Array(o.length);let d=0;for(const p of o)u[d++]=p;return u}static getCodeword(o){const u=K.binarySearch(_t.SYMBOL_TABLE,o&262143);return u<0?-1:(_t.CODEWORD_TABLE[u]-1)%_t.NUMBER_OF_CODEWORDS}}_t.NUMBER_OF_CODEWORDS=929,_t.MAX_CODEWORDS_IN_BARCODE=_t.NUMBER_OF_CODEWORDS-1,_t.MIN_ROWS_IN_BARCODE=3,_t.MAX_ROWS_IN_BARCODE=90,_t.MODULES_IN_CODEWORD=17,_t.MODULES_IN_STOP_PATTERN=18,_t.BARS_IN_MODULE=8,_t.EMPTY_INT_ARRAY=new Int32Array([]),_t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),_t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ta{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class Rt{static detectMultiple(o,u,d){let p=o.getBlackMatrix(),x=Rt.detect(d,p);return x.length||(p=p.clone(),p.rotate180(),x=Rt.detect(d,p)),new Ta(p,x)}static detect(o,u){const d=new Array;let p=0,x=0,E=!1;for(;p<u.getHeight();){const f=Rt.findVertices(u,p,x);if(f[0]==null&&f[3]==null){if(!E)break;E=!1,x=0;for(const v of d)v[1]!=null&&(p=Math.trunc(Math.max(p,v[1].getY()))),v[3]!=null&&(p=Math.max(p,Math.trunc(v[3].getY())));p+=Rt.ROW_STEP;continue}if(E=!0,d.push(f),!o)break;f[2]!=null?(x=Math.trunc(f[2].getX()),p=Math.trunc(f[2].getY())):(x=Math.trunc(f[4].getX()),p=Math.trunc(f[4].getY()))}return d}static findVertices(o,u,d){const p=o.getHeight(),x=o.getWidth(),E=new Array(8);return Rt.copyToResult(E,Rt.findRowsWithPattern(o,p,x,u,d,Rt.START_PATTERN),Rt.INDEXES_START_PATTERN),E[4]!=null&&(d=Math.trunc(E[4].getX()),u=Math.trunc(E[4].getY())),Rt.copyToResult(E,Rt.findRowsWithPattern(o,p,x,u,d,Rt.STOP_PATTERN),Rt.INDEXES_STOP_PATTERN),E}static copyToResult(o,u,d){for(let p=0;p<d.length;p++)o[d[p]]=u[p]}static findRowsWithPattern(o,u,d,p,x,E){const f=new Array(4);let v=!1;const _=new Int32Array(E.length);for(;p<u;p+=Rt.ROW_STEP){let O=Rt.findGuardPattern(o,x,p,d,!1,E,_);if(O!=null){for(;p>0;){const M=Rt.findGuardPattern(o,x,--p,d,!1,E,_);if(M!=null)O=M;else{p++;break}}f[0]=new ot(O[0],p),f[1]=new ot(O[1],p),v=!0;break}}let C=p+1;if(v){let O=0,M=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;C<u;C++){const F=Rt.findGuardPattern(o,M[0],C,d,!1,E,_);if(F!=null&&Math.abs(M[0]-F[0])<Rt.MAX_PATTERN_DRIFT&&Math.abs(M[1]-F[1])<Rt.MAX_PATTERN_DRIFT)M=F,O=0;else{if(O>Rt.SKIPPED_ROW_COUNT_MAX)break;O++}}C-=O+1,f[2]=new ot(M[0],C),f[3]=new ot(M[1],C)}return C-p<Rt.BARCODE_MIN_HEIGHT&&K.fill(f,null),f}static findGuardPattern(o,u,d,p,x,E,f){K.fillWithin(f,0,f.length,0);let v=u,_=0;for(;o.get(v,d)&&v>0&&_++<Rt.MAX_PIXEL_DRIFT;)v--;let C=v,O=0,M=E.length;for(let F=x;C<p;C++)if(o.get(C,d)!==F)f[O]++;else{if(O===M-1){if(Rt.patternMatchVariance(f,E,Rt.MAX_INDIVIDUAL_VARIANCE)<Rt.MAX_AVG_VARIANCE)return new Int32Array([v,C]);v+=f[0]+f[1],k.arraycopy(f,2,f,0,O-1),f[O-1]=0,f[O]=0,O--}else O++;f[O]=1,F=!F}return O===M-1&&Rt.patternMatchVariance(f,E,Rt.MAX_INDIVIDUAL_VARIANCE)<Rt.MAX_AVG_VARIANCE?new Int32Array([v,C-1]):null}static patternMatchVariance(o,u,d){let p=o.length,x=0,E=0;for(let _=0;_<p;_++)x+=o[_],E+=u[_];if(x<E)return 1/0;let f=x/E;d*=f;let v=0;for(let _=0;_<p;_++){let C=o[_],O=u[_]*f,M=C>O?C-O:O-C;if(M>d)return 1/0;v+=M}return v/x}}Rt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Rt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Rt.MAX_AVG_VARIANCE=.42,Rt.MAX_INDIVIDUAL_VARIANCE=.8,Rt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Rt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Rt.MAX_PIXEL_DRIFT=3,Rt.MAX_PATTERN_DRIFT=5,Rt.SKIPPED_ROW_COUNT_MAX=25,Rt.ROW_STEP=5,Rt.BARCODE_MIN_HEIGHT=10;class pn{constructor(o,u){if(u.length===0)throw new A;this.field=o;let d=u.length;if(d>1&&u[0]===0){let p=1;for(;p<d&&u[p]===0;)p++;p===d?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(d-p),k.arraycopy(u,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let p=0;for(let x of this.coefficients)p=this.field.add(p,x);return p}let u=this.coefficients[0],d=this.coefficients.length;for(let p=1;p<d;p++)u=this.field.add(this.field.multiply(o,u),this.coefficients[p]);return u}add(o){if(!this.field.equals(o.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,d=o.coefficients;if(u.length>d.length){let E=u;u=d,d=E}let p=new Int32Array(d.length),x=d.length-u.length;k.arraycopy(d,0,p,0,x);for(let E=x;E<d.length;E++)p[E]=this.field.add(u[E-x],d[E]);return new pn(this.field,p)}subtract(o){if(!this.field.equals(o.field))throw new A("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof pn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new pn(this.field,new Int32Array([0]));let u=this.coefficients,d=u.length,p=o.coefficients,x=p.length,E=new Int32Array(d+x-1);for(let f=0;f<d;f++){let v=u[f];for(let _=0;_<x;_++)E[f+_]=this.field.add(E[f+_],this.field.multiply(v,p[_]))}return new pn(this.field,E)}negative(){let o=this.coefficients.length,u=new Int32Array(o);for(let d=0;d<o;d++)u[d]=this.field.subtract(0,this.coefficients[d]);return new pn(this.field,u)}multiplyScalar(o){if(o===0)return new pn(this.field,new Int32Array([0]));if(o===1)return this;let u=this.coefficients.length,d=new Int32Array(u);for(let p=0;p<u;p++)d[p]=this.field.multiply(this.coefficients[p],o);return new pn(this.field,d)}multiplyByMonomial(o,u){if(o<0)throw new A;if(u===0)return new pn(this.field,new Int32Array([0]));let d=this.coefficients.length,p=new Int32Array(d+o);for(let x=0;x<d;x++)p[x]=this.field.multiply(this.coefficients[x],u);return new pn(this.field,p)}toString(){let o=new J;for(let u=this.getDegree();u>=0;u--){let d=this.getCoefficient(u);d!==0&&(d<0?(o.append(" - "),d=-d):o.length()>0&&o.append(" + "),(u===0||d!==1)&&o.append(d),u!==0&&(u===1?o.append("x"):(o.append("x^"),o.append(u))))}return o.toString()}}class uo{add(o,u){return(o+u)%this.modulus}subtract(o,u){return(this.modulus+o-u)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new A;return this.logTable[o]}inverse(o){if(o===0)throw new Le;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class tn extends uo{constructor(o,u){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let d=1;for(let p=0;p<o;p++)this.expTable[p]=d,d=d*u%o;for(let p=0;p<o-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new pn(this,new Int32Array([0])),this.one=new pn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new A;if(u===0)return this.zero;let d=new Int32Array(o+1);return d[0]=u,new pn(this,d)}}tn.PDF417_GF=new tn(_t.NUMBER_OF_CODEWORDS,3);class oa{constructor(){this.field=tn.PDF417_GF}decode(o,u,d){let p=new pn(this.field,o),x=new Int32Array(u),E=!1;for(let z=u;z>0;z--){let X=p.evaluateAt(this.field.exp(z));x[u-z]=X,X!==0&&(E=!0)}if(!E)return 0;let f=this.field.getOne();if(d!=null)for(const z of d){let X=this.field.exp(o.length-1-z),re=new pn(this.field,new Int32Array([this.field.subtract(0,X),1]));f=f.multiply(re)}let v=new pn(this.field,x),_=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),v,u),C=_[0],O=_[1],M=this.findErrorLocations(C),F=this.findErrorMagnitudes(O,C,M);for(let z=0;z<M.length;z++){let X=o.length-1-this.field.log(M[z]);if(X<0)throw R.getChecksumInstance();o[X]=this.field.subtract(o[X],F[z])}return M.length}runEuclideanAlgorithm(o,u,d){if(o.getDegree()<u.getDegree()){let M=o;o=u,u=M}let p=o,x=u,E=this.field.getZero(),f=this.field.getOne();for(;x.getDegree()>=Math.round(d/2);){let M=p,F=E;if(p=x,E=f,p.isZero())throw R.getChecksumInstance();x=M;let z=this.field.getZero(),X=p.getCoefficient(p.getDegree()),re=this.field.inverse(X);for(;x.getDegree()>=p.getDegree()&&!x.isZero();){let te=x.getDegree()-p.getDegree(),oe=this.field.multiply(x.getCoefficient(x.getDegree()),re);z=z.add(this.field.buildMonomial(te,oe)),x=x.subtract(p.multiplyByMonomial(te,oe))}f=z.multiply(E).subtract(F).negative()}let v=f.getCoefficient(0);if(v===0)throw R.getChecksumInstance();let _=this.field.inverse(v),C=f.multiply(_),O=x.multiply(_);return[C,O]}findErrorLocations(o){let u=o.getDegree(),d=new Int32Array(u),p=0;for(let x=1;x<this.field.getSize()&&p<u;x++)o.evaluateAt(x)===0&&(d[p]=this.field.inverse(x),p++);if(p!==u)throw R.getChecksumInstance();return d}findErrorMagnitudes(o,u,d){let p=u.getDegree(),x=new Int32Array(p);for(let _=1;_<=p;_++)x[p-_]=this.field.multiply(_,u.getCoefficient(_));let E=new pn(this.field,x),f=d.length,v=new Int32Array(f);for(let _=0;_<f;_++){let C=this.field.inverse(d[_]),O=this.field.subtract(0,o.evaluateAt(C)),M=this.field.inverse(E.evaluateAt(C));v[_]=this.field.multiply(O,M)}return v}}class Ia{constructor(o,u,d,p,x){o instanceof Ia?this.constructor_2(o):this.constructor_1(o,u,d,p,x)}constructor_1(o,u,d,p,x){const E=u==null||d==null,f=p==null||x==null;if(E&&f)throw new pe;E?(u=new ot(0,p.getY()),d=new ot(0,x.getY())):f&&(p=new ot(o.getWidth()-1,u.getY()),x=new ot(o.getWidth()-1,d.getY())),this.image=o,this.topLeft=u,this.bottomLeft=d,this.topRight=p,this.bottomRight=x,this.minX=Math.trunc(Math.min(u.getX(),d.getX())),this.maxX=Math.trunc(Math.max(p.getX(),x.getX())),this.minY=Math.trunc(Math.min(u.getY(),p.getY())),this.maxY=Math.trunc(Math.max(d.getY(),x.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,u){return o==null?u:u==null?o:new Ia(o.image,o.topLeft,o.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(o,u,d){let p=this.topLeft,x=this.bottomLeft,E=this.topRight,f=this.bottomRight;if(o>0){let v=d?this.topLeft:this.topRight,_=Math.trunc(v.getY()-o);_<0&&(_=0);let C=new ot(v.getX(),_);d?p=C:E=C}if(u>0){let v=d?this.bottomLeft:this.bottomRight,_=Math.trunc(v.getY()+u);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);let C=new ot(v.getX(),_);d?x=C:f=C}return new Ia(this.image,p,x,E,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ws{constructor(o,u,d,p){this.columnCount=o,this.errorCorrectionLevel=p,this.rowCountUpperPart=u,this.rowCountLowerPart=d,this.rowCount=u+d}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class la{constructor(){this.buffer=""}static form(o,u){let d=-1;function p(E,f,v,_,C,O){if(E==="%%")return"%";if(u[++d]===void 0)return;E=_?parseInt(_.substr(1)):void 0;let M=C?parseInt(C.substr(1)):void 0,F;switch(O){case"s":F=u[d];break;case"c":F=u[d][0];break;case"f":F=parseFloat(u[d]).toFixed(E);break;case"p":F=parseFloat(u[d]).toPrecision(E);break;case"e":F=parseFloat(u[d]).toExponential(E);break;case"x":F=parseInt(u[d]).toString(M||16);break;case"d":F=parseFloat(parseInt(u[d],M||10).toPrecision(E)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(M);let z=parseInt(v),X=v&&v[0]+""=="0"?"0":" ";for(;F.length<z;)F=f!==void 0?F+X:X+F;return F}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,p)}format(o,...u){this.buffer+=la.form(o,u)}toString(){return this.buffer}}class ua{constructor(o){this.boundingBox=new Ia(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let u=this.getCodeword(o);if(u!=null)return u;for(let d=1;d<ua.MAX_NEARBY_DISTANCE;d++){let p=this.imageRowToCodewordIndex(o)-d;if(p>=0&&(u=this.codewords[p],u!=null)||(p=this.imageRowToCodewordIndex(o)+d,p<this.codewords.length&&(u=this.codewords[p],u!=null)))return u}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,u){this.codewords[this.imageRowToCodewordIndex(o)]=u}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new la;let u=0;for(const d of this.codewords){if(d==null){o.format("%3d:    |   %n",u++);continue}o.format("%3d: %3d|%3d%n",u++,d.getRowNumber(),d.getValue())}return o.toString()}}ua.MAX_NEARBY_DISTANCE=5;class Wi{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let u=this.values.get(o);u==null&&(u=0),u++,this.values.set(o,u)}getValue(){let o=-1,u=new Array;for(const[d,p]of this.values.entries()){const x={getKey:()=>d,getValue:()=>p};x.getValue()>o?(o=x.getValue(),u=[],u.push(x.getKey())):x.getValue()===o&&u.push(x.getKey())}return _t.toIntArray(u)}getConfidence(o){return this.values.get(o)}}class Oa extends ua{constructor(o,u){super(o),this._isLeft=u}setRowNumbers(){for(let o of this.getCodewords())o?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,o);let d=this.getBoundingBox(),p=this._isLeft?d.getTopLeft():d.getTopRight(),x=this._isLeft?d.getBottomLeft():d.getBottomRight(),E=this.imageRowToCodewordIndex(Math.trunc(p.getY())),f=this.imageRowToCodewordIndex(Math.trunc(x.getY())),v=-1,_=1,C=0;for(let O=E;O<f;O++){if(u[O]==null)continue;let M=u[O],F=M.getRowNumber()-v;if(F===0)C++;else if(F===1)_=Math.max(_,C),C=1,v=M.getRowNumber();else if(F<0||M.getRowNumber()>=o.getRowCount()||F>O)u[O]=null;else{let z;_>2?z=(_-2)*F:z=F;let X=z>=O;for(let re=1;re<=z&&!X;re++)X=u[O-re]!=null;X?u[O]=null:(v=M.getRowNumber(),C=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let u=new Int32Array(o.getRowCount());for(let d of this.getCodewords())if(d!=null){let p=d.getRowNumber();if(p>=u.length)continue;u[p]++}return u}adjustIncompleteIndicatorColumnRowNumbers(o){let u=this.getBoundingBox(),d=this._isLeft?u.getTopLeft():u.getTopRight(),p=this._isLeft?u.getBottomLeft():u.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),E=this.imageRowToCodewordIndex(Math.trunc(p.getY())),f=this.getCodewords(),v=-1;for(let _=x;_<E;_++){if(f[_]==null)continue;let C=f[_];C.setRowNumberAsRowIndicatorColumn();let O=C.getRowNumber()-v;O===0||(O===1?v=C.getRowNumber():C.getRowNumber()>=o.getRowCount()?f[_]=null:v=C.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),u=new Wi,d=new Wi,p=new Wi,x=new Wi;for(let f of o){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let v=f.getValue()%30,_=f.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:d.setValue(v*3+1);break;case 1:x.setValue(v/3),p.setValue(v%3);break;case 2:u.setValue(v+1);break}}if(u.getValue().length===0||d.getValue().length===0||p.getValue().length===0||x.getValue().length===0||u.getValue()[0]<1||d.getValue()[0]+p.getValue()[0]<_t.MIN_ROWS_IN_BARCODE||d.getValue()[0]+p.getValue()[0]>_t.MAX_ROWS_IN_BARCODE)return null;let E=new ws(u.getValue()[0],d.getValue()[0],p.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(o,E),E}removeIncorrectCodewords(o,u){for(let d=0;d<o.length;d++){let p=o[d];if(o[d]==null)continue;let x=p.getValue()%30,E=p.getRowNumber();if(E>u.getRowCount()){o[d]=null;continue}switch(this._isLeft||(E+=2),E%3){case 0:x*3+1!==u.getRowCountUpperPart()&&(o[d]=null);break;case 1:(Math.trunc(x/3)!==u.getErrorCorrectionLevel()||x%3!==u.getRowCountLowerPart())&&(o[d]=null);break;case 2:x+1!==u.getColumnCount()&&(o[d]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class tr{constructor(o,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=_t.MAX_CODEWORDS_IN_BARCODE,u;do u=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let d=this.detectionResultColumns[u].getCodewords();for(let p=0;p<d.length;p++)d[p]!=null&&(d[p].hasValidRowNumber()||this.adjustRowNumbers(u,p,d))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<o.length;d++)if(o[d]!=null&&u[d]!=null&&o[d].getRowNumber()===u[d].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let x=this.detectionResultColumns[p].getCodewords()[d];x!=null&&(x.setRowNumber(o[d].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[d]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<u.length;d++){if(u[d]==null)continue;let p=u[d].getRowNumber(),x=0;for(let E=this.barcodeColumnCount+1;E>0&&x<this.ADJUST_ROW_NUMBER_SKIP;E--){let f=this.detectionResultColumns[E].getCodewords()[d];f!=null&&(x=tr.adjustRowNumberIfValid(p,x,f),f.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,u=this.detectionResultColumns[0].getCodewords();for(let d=0;d<u.length;d++){if(u[d]==null)continue;let p=u[d].getRowNumber(),x=0;for(let E=1;E<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;E++){let f=this.detectionResultColumns[E].getCodewords()[d];f!=null&&(x=tr.adjustRowNumberIfValid(p,x,f),f.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,u,d){return d==null||d.hasValidRowNumber()||(d.isValidRowNumber(o)?(d.setRowNumber(o),u=0):++u),u}adjustRowNumbers(o,u,d){if(!this.detectionResultColumns[o-1])return;let p=d[u],x=this.detectionResultColumns[o-1].getCodewords(),E=x;this.detectionResultColumns[o+1]!=null&&(E=this.detectionResultColumns[o+1].getCodewords());let f=new Array(14);f[2]=x[u],f[3]=E[u],u>0&&(f[0]=d[u-1],f[4]=x[u-1],f[5]=E[u-1]),u>1&&(f[8]=d[u-2],f[10]=x[u-2],f[11]=E[u-2]),u<d.length-1&&(f[1]=d[u+1],f[6]=x[u+1],f[7]=E[u+1]),u<d.length-2&&(f[9]=d[u+2],f[12]=x[u+2],f[13]=E[u+2]);for(let v of f)if(tr.adjustRowNumber(p,v))return}static adjustRowNumber(o,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===o.getBucket()?(o.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,u){this.detectionResultColumns[o]=u}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new la;for(let d=0;d<o.getCodewords().length;d++){u.format("CW %3d:",d);for(let p=0;p<this.barcodeColumnCount+2;p++){if(this.detectionResultColumns[p]==null){u.format("    |   ");continue}let x=this.detectionResultColumns[p].getCodewords()[d];if(x==null){u.format("    |   ");continue}u.format(" %3d|%3d",x.getRowNumber(),x.getValue())}u.format("%n")}return u.toString()}}class ca{constructor(o,u,d,p){this.rowNumber=ca.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(u),this.bucket=Math.trunc(d),this.value=Math.trunc(p)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==ca.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}ca.BARCODE_ROW_UNKNOWN=-1;class vr{static initialize(){for(let o=0;o<_t.SYMBOL_TABLE.length;o++){let u=_t.SYMBOL_TABLE[o],d=u&1;for(let p=0;p<_t.BARS_IN_MODULE;p++){let x=0;for(;(u&1)===d;)x+=1,u>>=1;d=u&1,vr.RATIOS_TABLE[o]||(vr.RATIOS_TABLE[o]=new Array(_t.BARS_IN_MODULE)),vr.RATIOS_TABLE[o][_t.BARS_IN_MODULE-p-1]=Math.fround(x/_t.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let u=vr.getDecodedCodewordValue(vr.sampleBitCounts(o));return u!==-1?u:vr.getClosestDecodedValue(o)}static sampleBitCounts(o){let u=Ot.sum(o),d=new Int32Array(_t.BARS_IN_MODULE),p=0,x=0;for(let E=0;E<_t.MODULES_IN_CODEWORD;E++){let f=u/(2*_t.MODULES_IN_CODEWORD)+E*u/_t.MODULES_IN_CODEWORD;x+o[p]<=f&&(x+=o[p],p++),d[p]++}return d}static getDecodedCodewordValue(o){let u=vr.getBitValue(o);return _t.getCodeword(u)===-1?-1:u}static getBitValue(o){let u=0;for(let d=0;d<o.length;d++)for(let p=0;p<o[d];p++)u=u<<1|(d%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(o){let u=Ot.sum(o),d=new Array(_t.BARS_IN_MODULE);if(u>1)for(let E=0;E<d.length;E++)d[E]=Math.fround(o[E]/u);let p=nt.MAX_VALUE,x=-1;this.bSymbolTableReady||vr.initialize();for(let E=0;E<vr.RATIOS_TABLE.length;E++){let f=0,v=vr.RATIOS_TABLE[E];for(let _=0;_<_t.BARS_IN_MODULE;_++){let C=Math.fround(v[_]-d[_]);if(f+=Math.fround(C*C),f>=p)break}f<p&&(p=f,x=_t.SYMBOL_TABLE[E])}return x}}vr.bSymbolTableReady=!1,vr.RATIOS_TABLE=new Array(_t.SYMBOL_TABLE.length).map(Y=>new Array(_t.BARS_IN_MODULE));class Na{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Es{static parseLong(o,u=void 0){return parseInt(o,u)}}class Wa extends g{}Wa.kind="NullPointerException";class Oo{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,u,d){if(o==null)throw new Wa;if(u<0||u>o.length||d<0||u+d>o.length||u+d<0)throw new L;if(d===0)return;for(let p=0;p<d;p++)this.write(o[u+p])}flush(){}close(){}}class rs extends g{}class No extends Oo{constructor(o=32){if(super(),this.count=0,o<0)throw new A("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let d=this.buf.length<<1;if(d-o<0&&(d=o),d<0){if(o<0)throw new rs;d=W.MAX_VALUE}this.buf=K.copyOfUint8Array(this.buf,d)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,u,d){if(u<0||u>o.length||d<0||u+d-o.length>0)throw new L;this.ensureCapacity(this.count+d),k.arraycopy(o,u,this.buf,this.count,d),this.count+=d}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return K.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var bn;(function(Y){Y[Y.ALPHA=0]="ALPHA",Y[Y.LOWER=1]="LOWER",Y[Y.MIXED=2]="MIXED",Y[Y.PUNCT=3]="PUNCT",Y[Y.ALPHA_SHIFT=4]="ALPHA_SHIFT",Y[Y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(bn||(bn={}));function is(){if(typeof window<"u")return window.BigInt||null;if(typeof Yh<"u")return Yh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Fs;function Ki(Y){if(typeof Fs>"u"&&(Fs=is()),Fs===null)throw new Error("BigInt is not supported!");return Fs(Y)}function as(){let Y=[];Y[0]=Ki(1);let o=Ki(900);Y[1]=o;for(let u=2;u<16;u++)Y[u]=Y[u-1]*o;return Y}class Re{static decode(o,u){let d=new J(""),p=H.ISO8859_1;d.enableDecoding(p);let x=1,E=o[x++],f=new Na;for(;x<o[0];){switch(E){case Re.TEXT_COMPACTION_MODE_LATCH:x=Re.textCompaction(o,x,d);break;case Re.BYTE_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH_6:x=Re.byteCompaction(E,o,p,x,d);break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(o[x++]);break;case Re.NUMERIC_COMPACTION_MODE_LATCH:x=Re.numericCompaction(o,x,d);break;case Re.ECI_CHARSET:H.getCharacterSetECIByValue(o[x++]);break;case Re.ECI_GENERAL_PURPOSE:x+=2;break;case Re.ECI_USER_DEFINED:x++;break;case Re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=Re.decodeMacroBlock(o,x,f);break;case Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Re.MACRO_PDF417_TERMINATOR:throw new U;default:x--,x=Re.textCompaction(o,x,d);break}if(x<o.length)E=o[x++];else throw U.getFormatInstance()}if(d.length()===0)throw U.getFormatInstance();let v=new ke(null,d.toString(),null,u);return v.setOther(f),v}static decodeMacroBlock(o,u,d){if(u+Re.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw U.getFormatInstance();let p=new Int32Array(Re.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<Re.NUMBER_OF_SEQUENCE_CODEWORDS;f++,u++)p[f]=o[u];d.setSegmentIndex(W.parseInt(Re.decodeBase900toBase10(p,Re.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new J;u=Re.textCompaction(o,u,x),d.setFileId(x.toString());let E=-1;for(o[u]===Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(E=u+1);u<o[0];)switch(o[u]){case Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,o[u]){case Re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new J;u=Re.textCompaction(o,u+1,f),d.setFileName(f.toString());break;case Re.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let v=new J;u=Re.textCompaction(o,u+1,v),d.setSender(v.toString());break;case Re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let _=new J;u=Re.textCompaction(o,u+1,_),d.setAddressee(_.toString());break;case Re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new J;u=Re.numericCompaction(o,u+1,C),d.setSegmentCount(W.parseInt(C.toString()));break;case Re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new J;u=Re.numericCompaction(o,u+1,O),d.setTimestamp(Es.parseLong(O.toString()));break;case Re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let M=new J;u=Re.numericCompaction(o,u+1,M),d.setChecksum(W.parseInt(M.toString()));break;case Re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let F=new J;u=Re.numericCompaction(o,u+1,F),d.setFileSize(Es.parseLong(F.toString()));break;default:throw U.getFormatInstance()}break;case Re.MACRO_PDF417_TERMINATOR:u++,d.setLastSegment(!0);break;default:throw U.getFormatInstance()}if(E!==-1){let f=u-E;d.isLastSegment()&&f--,d.setOptionalData(K.copyOfRange(o,E,E+f))}return u}static textCompaction(o,u,d){let p=new Int32Array((o[0]-u)*2),x=new Int32Array((o[0]-u)*2),E=0,f=!1;for(;u<o[0]&&!f;){let v=o[u++];if(v<Re.TEXT_COMPACTION_MODE_LATCH)p[E]=v/30,p[E+1]=v%30,E+=2;else switch(v){case Re.TEXT_COMPACTION_MODE_LATCH:p[E++]=Re.TEXT_COMPACTION_MODE_LATCH;break;case Re.BYTE_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH_6:case Re.NUMERIC_COMPACTION_MODE_LATCH:case Re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Re.MACRO_PDF417_TERMINATOR:u--,f=!0;break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[E]=Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,v=o[u++],x[E]=v,E++;break}}return Re.decodeTextCompaction(p,x,E,d),u}static decodeTextCompaction(o,u,d,p){let x=bn.ALPHA,E=bn.ALPHA,f=0;for(;f<d;){let v=o[f],_="";switch(x){case bn.ALPHA:if(v<26)_=String.fromCharCode(65+v);else switch(v){case 26:_=" ";break;case Re.LL:x=bn.LOWER;break;case Re.ML:x=bn.MIXED;break;case Re.PS:E=x,x=bn.PUNCT_SHIFT;break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[f]);break;case Re.TEXT_COMPACTION_MODE_LATCH:x=bn.ALPHA;break}break;case bn.LOWER:if(v<26)_=String.fromCharCode(97+v);else switch(v){case 26:_=" ";break;case Re.AS:E=x,x=bn.ALPHA_SHIFT;break;case Re.ML:x=bn.MIXED;break;case Re.PS:E=x,x=bn.PUNCT_SHIFT;break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[f]);break;case Re.TEXT_COMPACTION_MODE_LATCH:x=bn.ALPHA;break}break;case bn.MIXED:if(v<Re.PL)_=Re.MIXED_CHARS[v];else switch(v){case Re.PL:x=bn.PUNCT;break;case 26:_=" ";break;case Re.LL:x=bn.LOWER;break;case Re.AL:x=bn.ALPHA;break;case Re.PS:E=x,x=bn.PUNCT_SHIFT;break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[f]);break;case Re.TEXT_COMPACTION_MODE_LATCH:x=bn.ALPHA;break}break;case bn.PUNCT:if(v<Re.PAL)_=Re.PUNCT_CHARS[v];else switch(v){case Re.PAL:x=bn.ALPHA;break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[f]);break;case Re.TEXT_COMPACTION_MODE_LATCH:x=bn.ALPHA;break}break;case bn.ALPHA_SHIFT:if(x=E,v<26)_=String.fromCharCode(65+v);else switch(v){case 26:_=" ";break;case Re.TEXT_COMPACTION_MODE_LATCH:x=bn.ALPHA;break}break;case bn.PUNCT_SHIFT:if(x=E,v<Re.PAL)_=Re.PUNCT_CHARS[v];else switch(v){case Re.PAL:x=bn.ALPHA;break;case Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[f]);break;case Re.TEXT_COMPACTION_MODE_LATCH:x=bn.ALPHA;break}break}_!==""&&p.append(_),f++}}static byteCompaction(o,u,d,p,x){let E=new No,f=0,v=0,_=!1;switch(o){case Re.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),O=u[p++];for(;p<u[0]&&!_;)switch(C[f++]=O,v=900*v+O,O=u[p++],O){case Re.TEXT_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH:case Re.NUMERIC_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH_6:case Re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Re.MACRO_PDF417_TERMINATOR:p--,_=!0;break;default:if(f%5===0&&f>0){for(let M=0;M<6;++M)E.write(Number(Ki(v)>>Ki(8*(5-M))));v=0,f=0}break}p===u[0]&&O<Re.TEXT_COMPACTION_MODE_LATCH&&(C[f++]=O);for(let M=0;M<f;M++)E.write(C[M]);break;case Re.BYTE_COMPACTION_MODE_LATCH_6:for(;p<u[0]&&!_;){let M=u[p++];if(M<Re.TEXT_COMPACTION_MODE_LATCH)f++,v=900*v+M;else switch(M){case Re.TEXT_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH:case Re.NUMERIC_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH_6:case Re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Re.MACRO_PDF417_TERMINATOR:p--,_=!0;break}if(f%5===0&&f>0){for(let F=0;F<6;++F)E.write(Number(Ki(v)>>Ki(8*(5-F))));v=0,f=0}}break}return x.append(ie.decode(E.toByteArray(),d)),p}static numericCompaction(o,u,d){let p=0,x=!1,E=new Int32Array(Re.MAX_NUMERIC_CODEWORDS);for(;u<o[0]&&!x;){let f=o[u++];if(u===o[0]&&(x=!0),f<Re.TEXT_COMPACTION_MODE_LATCH)E[p]=f,p++;else switch(f){case Re.TEXT_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH:case Re.BYTE_COMPACTION_MODE_LATCH_6:case Re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Re.MACRO_PDF417_TERMINATOR:u--,x=!0;break}(p%Re.MAX_NUMERIC_CODEWORDS===0||f===Re.NUMERIC_COMPACTION_MODE_LATCH||x)&&p>0&&(d.append(Re.decodeBase900toBase10(E,p)),p=0)}return u}static decodeBase900toBase10(o,u){let d=Ki(0);for(let x=0;x<u;x++)d+=Re.EXP900[u-x-1]*Ki(o[x]);let p=d.toString();if(p.charAt(0)!=="1")throw new U;return p.substring(1)}}Re.TEXT_COMPACTION_MODE_LATCH=900,Re.BYTE_COMPACTION_MODE_LATCH=901,Re.NUMERIC_COMPACTION_MODE_LATCH=902,Re.BYTE_COMPACTION_MODE_LATCH_6=924,Re.ECI_USER_DEFINED=925,Re.ECI_GENERAL_PURPOSE=926,Re.ECI_CHARSET=927,Re.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Re.MACRO_PDF417_TERMINATOR=922,Re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Re.MAX_NUMERIC_CODEWORDS=15,Re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Re.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Re.PL=25,Re.LL=27,Re.AS=27,Re.ML=28,Re.AL=28,Re.PS=29,Re.PAL=29,Re.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Re.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Re.EXP900=is()?as():[],Re.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ht{constructor(){}static decode(o,u,d,p,x,E,f){let v=new Ia(o,u,d,p,x),_=null,C=null,O;for(let z=!0;;z=!1){if(u!=null&&(_=Ht.getRowIndicatorColumn(o,v,u,!0,E,f)),p!=null&&(C=Ht.getRowIndicatorColumn(o,v,p,!1,E,f)),O=Ht.merge(_,C),O==null)throw pe.getNotFoundInstance();let X=O.getBoundingBox();if(z&&X!=null&&(X.getMinY()<v.getMinY()||X.getMaxY()>v.getMaxY()))v=X;else break}O.setBoundingBox(v);let M=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,_),O.setDetectionResultColumn(M,C);let F=_!=null;for(let z=1;z<=M;z++){let X=F?z:M-z;if(O.getDetectionResultColumn(X)!==void 0)continue;let re;X===0||X===M?re=new Oa(v,X===0):re=new ua(v),O.setDetectionResultColumn(X,re);let te=-1,oe=te;for(let ce=v.getMinY();ce<=v.getMaxY();ce++){if(te=Ht.getStartColumn(O,X,ce,F),te<0||te>v.getMaxX()){if(oe===-1)continue;te=oe}let le=Ht.detectCodeword(o,v.getMinX(),v.getMaxX(),F,te,ce,E,f);le!=null&&(re.setCodeword(ce,le),oe=te,E=Math.min(E,le.getWidth()),f=Math.max(f,le.getWidth()))}}return Ht.createDecoderResult(O)}static merge(o,u){if(o==null&&u==null)return null;let d=Ht.getBarcodeMetadata(o,u);if(d==null)return null;let p=Ia.merge(Ht.adjustBoundingBox(o),Ht.adjustBoundingBox(u));return new tr(d,p)}static adjustBoundingBox(o){if(o==null)return null;let u=o.getRowHeights();if(u==null)return null;let d=Ht.getMax(u),p=0;for(let f of u)if(p+=d-f,f>0)break;let x=o.getCodewords();for(let f=0;p>0&&x[f]==null;f++)p--;let E=0;for(let f=u.length-1;f>=0&&(E+=d-u[f],!(u[f]>0));f--);for(let f=x.length-1;E>0&&x[f]==null;f--)E--;return o.getBoundingBox().addMissingRows(p,E,o.isLeft())}static getMax(o){let u=-1;for(let d of o)u=Math.max(u,d);return u}static getBarcodeMetadata(o,u){let d;if(o==null||(d=o.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let p;return u==null||(p=u.getBarcodeMetadata())==null?d:d.getColumnCount()!==p.getColumnCount()&&d.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&d.getRowCount()!==p.getRowCount()?null:d}static getRowIndicatorColumn(o,u,d,p,x,E){let f=new Oa(u,p);for(let v=0;v<2;v++){let _=v===0?1:-1,C=Math.trunc(Math.trunc(d.getX()));for(let O=Math.trunc(Math.trunc(d.getY()));O<=u.getMaxY()&&O>=u.getMinY();O+=_){let M=Ht.detectCodeword(o,0,o.getWidth(),p,C,O,x,E);M!=null&&(f.setCodeword(O,M),p?C=M.getStartX():C=M.getEndX())}}return f}static adjustCodewordCount(o,u){let d=u[0][1],p=d.getValue(),x=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Ht.getNumberOfECCodeWords(o.getBarcodeECLevel());if(p.length===0){if(x<1||x>_t.MAX_CODEWORDS_IN_BARCODE)throw pe.getNotFoundInstance();d.setValue(x)}else p[0]!==x&&d.setValue(x)}static createDecoderResult(o){let u=Ht.createBarcodeMatrix(o);Ht.adjustCodewordCount(o,u);let d=new Array,p=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),x=[],E=new Array;for(let v=0;v<o.getBarcodeRowCount();v++)for(let _=0;_<o.getBarcodeColumnCount();_++){let C=u[v][_+1].getValue(),O=v*o.getBarcodeColumnCount()+_;C.length===0?d.push(O):C.length===1?p[O]=C[0]:(E.push(O),x.push(C))}let f=new Array(x.length);for(let v=0;v<f.length;v++)f[v]=x[v];return Ht.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),p,_t.toIntArray(d),_t.toIntArray(E),f)}static createDecoderResultFromAmbiguousValues(o,u,d,p,x){let E=new Int32Array(p.length),f=100;for(;f-- >0;){for(let v=0;v<E.length;v++)u[p[v]]=x[v][E[v]];try{return Ht.decodeCodewords(u,o,d)}catch(v){if(!(v instanceof R))throw v}if(E.length===0)throw R.getChecksumInstance();for(let v=0;v<E.length;v++)if(E[v]<x[v].length-1){E[v]++;break}else if(E[v]=0,v===E.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(o){let u=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let p=0;p<u.length;p++)for(let x=0;x<u[p].length;x++)u[p][x]=new Wi;let d=0;for(let p of o.getDetectionResultColumns()){if(p!=null){for(let x of p.getCodewords())if(x!=null){let E=x.getRowNumber();if(E>=0){if(E>=u.length)continue;u[E][d].setValue(x.getValue())}}}d++}return u}static isValidBarcodeColumn(o,u){return u>=0&&u<=o.getBarcodeColumnCount()+1}static getStartColumn(o,u,d,p){let x=p?1:-1,E=null;if(Ht.isValidBarcodeColumn(o,u-x)&&(E=o.getDetectionResultColumn(u-x).getCodeword(d)),E!=null)return p?E.getEndX():E.getStartX();if(E=o.getDetectionResultColumn(u).getCodewordNearby(d),E!=null)return p?E.getStartX():E.getEndX();if(Ht.isValidBarcodeColumn(o,u-x)&&(E=o.getDetectionResultColumn(u-x).getCodewordNearby(d)),E!=null)return p?E.getEndX():E.getStartX();let f=0;for(;Ht.isValidBarcodeColumn(o,u-x);){u-=x;for(let v of o.getDetectionResultColumn(u).getCodewords())if(v!=null)return(p?v.getEndX():v.getStartX())+x*f*(v.getEndX()-v.getStartX());f++}return p?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,u,d,p,x,E,f,v){x=Ht.adjustCodewordStartColumn(o,u,d,p,x,E);let _=Ht.getModuleBitCount(o,u,d,p,x,E);if(_==null)return null;let C,O=Ot.sum(_);if(p)C=x+O;else{for(let z=0;z<_.length/2;z++){let X=_[z];_[z]=_[_.length-1-z],_[_.length-1-z]=X}C=x,x=C-O}if(!Ht.checkCodewordSkew(O,f,v))return null;let M=vr.getDecodedValue(_),F=_t.getCodeword(M);return F===-1?null:new ca(x,C,Ht.getCodewordBucketNumber(M),F)}static getModuleBitCount(o,u,d,p,x,E){let f=x,v=new Int32Array(8),_=0,C=p?1:-1,O=p;for(;(p?f<d:f>=u)&&_<v.length;)o.get(f,E)===O?(v[_]++,f+=C):(_++,O=!O);return _===v.length||f===(p?d:u)&&_===v.length-1?v:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,u,d,p,x,E){let f=x,v=p?-1:1;for(let _=0;_<2;_++){for(;(p?f>=u:f<d)&&p===o.get(f,E);){if(Math.abs(x-f)>Ht.CODEWORD_SKEW_SIZE)return x;f+=v}v=-v,p=!p}return f}static checkCodewordSkew(o,u,d){return u-Ht.CODEWORD_SKEW_SIZE<=o&&o<=d+Ht.CODEWORD_SKEW_SIZE}static decodeCodewords(o,u,d){if(o.length===0)throw U.getFormatInstance();let p=1<<u+1,x=Ht.correctErrors(o,d,p);Ht.verifyCodewordCount(o,p);let E=Re.decode(o,""+u);return E.setErrorsCorrected(x),E.setErasures(d.length),E}static correctErrors(o,u,d){if(u!=null&&u.length>d/2+Ht.MAX_ERRORS||d<0||d>Ht.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return Ht.errorCorrection.decode(o,d,u)}static verifyCodewordCount(o,u){if(o.length<4)throw U.getFormatInstance();let d=o[0];if(d>o.length)throw U.getFormatInstance();if(d===0)if(u<o.length)o[0]=o.length-u;else throw U.getFormatInstance()}static getBitCountForCodeword(o){let u=new Int32Array(8),d=0,p=u.length-1;for(;!((o&1)!==d&&(d=o&1,p--,p<0));)u[p]++,o>>=1;return u}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Ht.getCodewordBucketNumber(Ht.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let u=new la;for(let d=0;d<o.length;d++){u.format("Row %2d: ",d);for(let p=0;p<o[d].length;p++){let x=o[d][p];x.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}u.format("%n")}return u.toString()}}Ht.CODEWORD_SKEW_SIZE=2,Ht.MAX_ERRORS=3,Ht.MAX_EC_CODEWORDS=512,Ht.errorCorrection=new oa;class Ar{decode(o,u=null){let d=Ar.decode(o,u,!1);if(d==null||d.length===0||d[0]==null)throw pe.getNotFoundInstance();return d[0]}decodeMultiple(o,u=null){try{return Ar.decode(o,u,!0)}catch(d){throw d instanceof U||d instanceof R?pe.getNotFoundInstance():d}}static decode(o,u,d){const p=new Array,x=Rt.detectMultiple(o,u,d);for(const E of x.getPoints()){const f=Ht.decode(x.getBits(),E[4],E[5],E[6],E[7],Ar.getMinCodewordWidth(E),Ar.getMaxCodewordWidth(E)),v=new Fe(f.getText(),f.getRawBytes(),void 0,E,Ne.PDF_417);v.putMetadata(Tt.ERROR_CORRECTION_LEVEL,f.getECLevel());const _=f.getOther();_!=null&&v.putMetadata(Tt.PDF417_EXTRA_METADATA,_),p.push(v)}return p.map(E=>E)}static getMaxWidth(o,u){return o==null||u==null?0:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMinWidth(o,u){return o==null||u==null?W.MAX_VALUE:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Ar.getMaxWidth(o[0],o[4]),Ar.getMaxWidth(o[6],o[2])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN),Math.max(Ar.getMaxWidth(o[1],o[5]),Ar.getMaxWidth(o[7],o[3])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Ar.getMinWidth(o[0],o[4]),Ar.getMinWidth(o[6],o[2])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN),Math.min(Ar.getMinWidth(o[1],o[5]),Ar.getMinWidth(o[7],o[3])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ra extends g{}Ra.kind="ReaderException";class co{constructor(o,u){this.verbose=o===!0,u&&this.setHints(u)}decode(o,u){return u&&this.setHints(u),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const u=!r(o)&&o.get(Q.TRY_HARDER)===!0,d=r(o)?null:o.get(Q.POSSIBLE_FORMATS),p=new Array;if(!r(d)){const x=d.some(E=>E===Ne.UPC_A||E===Ne.UPC_E||E===Ne.EAN_13||E===Ne.EAN_8||E===Ne.CODABAR||E===Ne.CODE_39||E===Ne.CODE_93||E===Ne.CODE_128||E===Ne.ITF||E===Ne.RSS_14||E===Ne.RSS_EXPANDED);x&&!u&&p.push(new fi(o,this.verbose)),d.includes(Ne.QR_CODE)&&p.push(new yr),d.includes(Ne.DATA_MATRIX)&&p.push(new Pi),d.includes(Ne.AZTEC)&&p.push(new es),d.includes(Ne.PDF_417)&&p.push(new Ar),x&&u&&p.push(new fi(o,this.verbose))}p.length===0&&(u||p.push(new fi(o,this.verbose)),p.push(new yr),p.push(new Pi),p.push(new es),p.push(new Ar),u&&p.push(new fi(o,this.verbose))),this.readers=p}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new Ra("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(o,this.hints)}catch(d){if(d instanceof Ra)continue}throw new pe("No MultiFormat Readers were able to detect the code.")}}class Pa extends Ge{constructor(o=null,u=500){const d=new co;d.setHints(o),super(d,u)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Ro extends Ge{constructor(o=500){super(new Ar,o)}}class Po extends Ge{constructor(o=500){super(new yr,o)}}var Ir;(function(Y){Y[Y.ERROR_CORRECTION=0]="ERROR_CORRECTION",Y[Y.CHARACTER_SET=1]="CHARACTER_SET",Y[Y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Y[Y.MIN_SIZE=3]="MIN_SIZE",Y[Y.MAX_SIZE=4]="MAX_SIZE",Y[Y.MARGIN=5]="MARGIN",Y[Y.PDF417_COMPACT=6]="PDF417_COMPACT",Y[Y.PDF417_COMPACTION=7]="PDF417_COMPACTION",Y[Y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Y[Y.AZTEC_LAYERS=9]="AZTEC_LAYERS",Y[Y.QR_VERSION=10]="QR_VERSION"})(Ir||(Ir={}));var Zn=Ir;class Yi{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new It(o,Int32Array.from([1])))}buildGenerator(o){const u=this.cachedGenerators;if(o>=u.length){let d=u[u.length-1];const p=this.field;for(let x=u.length;x<=o;x++){const E=d.multiply(new It(p,Int32Array.from([1,p.exp(x-1+p.getGeneratorBase())])));u.push(E),d=E}}return u[o]}encode(o,u){if(u===0)throw new A("No error correction bytes");const d=o.length-u;if(d<=0)throw new A("No data bytes provided");const p=this.buildGenerator(u),x=new Int32Array(d);k.arraycopy(o,0,x,0,d);let E=new It(this.field,x);E=E.multiplyByMonomial(u,1);const v=E.divide(p)[1].getCoefficients(),_=u-v.length;for(let C=0;C<_;C++)o[d+C]=0;k.arraycopy(v,0,o,d+_,v.length)}}class on{constructor(){}static applyMaskPenaltyRule1(o){return on.applyMaskPenaltyRule1Internal(o,!0)+on.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let u=0;const d=o.getArray(),p=o.getWidth(),x=o.getHeight();for(let E=0;E<x-1;E++){const f=d[E];for(let v=0;v<p-1;v++){const _=f[v];_===f[v+1]&&_===d[E+1][v]&&_===d[E+1][v+1]&&u++}}return on.N2*u}static applyMaskPenaltyRule3(o){let u=0;const d=o.getArray(),p=o.getWidth(),x=o.getHeight();for(let E=0;E<x;E++)for(let f=0;f<p;f++){const v=d[E];f+6<p&&v[f]===1&&v[f+1]===0&&v[f+2]===1&&v[f+3]===1&&v[f+4]===1&&v[f+5]===0&&v[f+6]===1&&(on.isWhiteHorizontal(v,f-4,f)||on.isWhiteHorizontal(v,f+7,f+11))&&u++,E+6<x&&d[E][f]===1&&d[E+1][f]===0&&d[E+2][f]===1&&d[E+3][f]===1&&d[E+4][f]===1&&d[E+5][f]===0&&d[E+6][f]===1&&(on.isWhiteVertical(d,f,E-4,E)||on.isWhiteVertical(d,f,E+7,E+11))&&u++}return u*on.N3}static isWhiteHorizontal(o,u,d){u=Math.max(u,0),d=Math.min(d,o.length);for(let p=u;p<d;p++)if(o[p]===1)return!1;return!0}static isWhiteVertical(o,u,d,p){d=Math.max(d,0),p=Math.min(p,o.length);for(let x=d;x<p;x++)if(o[x][u]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let u=0;const d=o.getArray(),p=o.getWidth(),x=o.getHeight();for(let v=0;v<x;v++){const _=d[v];for(let C=0;C<p;C++)_[C]===1&&u++}const E=o.getHeight()*o.getWidth();return Math.floor(Math.abs(u*2-E)*10/E)*on.N4}static getDataMaskBit(o,u,d){let p,x;switch(o){case 0:p=d+u&1;break;case 1:p=d&1;break;case 2:p=u%3;break;case 3:p=(d+u)%3;break;case 4:p=Math.floor(d/2)+Math.floor(u/3)&1;break;case 5:x=d*u,p=(x&1)+x%3;break;case 6:x=d*u,p=(x&1)+x%3&1;break;case 7:x=d*u,p=x%3+(d+u&1)&1;break;default:throw new A("Invalid mask pattern: "+o)}return p===0}static applyMaskPenaltyRule1Internal(o,u){let d=0;const p=u?o.getHeight():o.getWidth(),x=u?o.getWidth():o.getHeight(),E=o.getArray();for(let f=0;f<p;f++){let v=0,_=-1;for(let C=0;C<x;C++){const O=u?E[f][C]:E[C][f];O===_?v++:(v>=5&&(d+=on.N1+(v-5)),v=1,_=O)}v>=5&&(d+=on.N1+(v-5))}return d}}on.N1=3,on.N2=3,on.N3=40,on.N4=10;class ss{constructor(o,u){this.width=o,this.height=u;const d=new Array(u);for(let p=0;p!==u;p++)d[p]=new Uint8Array(o);this.bytes=d}getHeight(){return this.height}getWidth(){return this.width}get(o,u){return this.bytes[u][o]}getArray(){return this.bytes}setNumber(o,u,d){this.bytes[u][o]=d}setBoolean(o,u,d){this.bytes[u][o]=d?1:0}clear(o){for(const u of this.bytes)K.fill(u,o)}equals(o){if(!(o instanceof ss))return!1;const u=o;if(this.width!==u.width||this.height!==u.height)return!1;for(let d=0,p=this.height;d<p;++d){const x=this.bytes[d],E=u.bytes[d];for(let f=0,v=this.width;f<v;++f)if(x[f]!==E[f])return!1}return!0}toString(){const o=new J;for(let u=0,d=this.height;u<d;++u){const p=this.bytes[u];for(let x=0,E=this.width;x<E;++x)switch(p[x]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Ka{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new J;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Ka.NUM_MASK_PATTERNS}}Ka.NUM_MASK_PATTERNS=8;class hn extends g{}hn.kind="WriterException";class S{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,u,d,p,x){S.clearMatrix(x),S.embedBasicPatterns(d,x),S.embedTypeInfo(u,p,x),S.maybeEmbedVersionInfo(d,x),S.embedDataBits(o,p,x)}static embedBasicPatterns(o,u){S.embedPositionDetectionPatternsAndSeparators(u),S.embedDarkDotAtLeftBottomCorner(u),S.maybeEmbedPositionAdjustmentPatterns(o,u),S.embedTimingPatterns(u)}static embedTypeInfo(o,u,d){const p=new ne;S.makeTypeInfoBits(o,u,p);for(let x=0,E=p.getSize();x<E;++x){const f=p.get(p.getSize()-1-x),v=S.TYPE_INFO_COORDINATES[x],_=v[0],C=v[1];if(d.setBoolean(_,C,f),x<8){const O=d.getWidth()-x-1;d.setBoolean(O,8,f)}else{const M=d.getHeight()-7+(x-8);d.setBoolean(8,M,f)}}}static maybeEmbedVersionInfo(o,u){if(o.getVersionNumber()<7)return;const d=new ne;S.makeVersionInfoBits(o,d);let p=17;for(let x=0;x<6;++x)for(let E=0;E<3;++E){const f=d.get(p);p--,u.setBoolean(x,u.getHeight()-11+E,f),u.setBoolean(u.getHeight()-11+E,x,f)}}static embedDataBits(o,u,d){let p=0,x=-1,E=d.getWidth()-1,f=d.getHeight()-1;for(;E>0;){for(E===6&&(E-=1);f>=0&&f<d.getHeight();){for(let v=0;v<2;++v){const _=E-v;if(!S.isEmpty(d.get(_,f)))continue;let C;p<o.getSize()?(C=o.get(p),++p):C=!1,u!==255&&on.getDataMaskBit(u,_,f)&&(C=!C),d.setBoolean(_,f,C)}f+=x}x=-x,f+=x,E-=2}if(p!==o.getSize())throw new hn("Not all bits consumed: "+p+"/"+o.getSize())}static findMSBSet(o){return 32-W.numberOfLeadingZeros(o)}static calculateBCHCode(o,u){if(u===0)throw new A("0 polynomial");const d=S.findMSBSet(u);for(o<<=d-1;S.findMSBSet(o)>=d;)o^=u<<S.findMSBSet(o)-d;return o}static makeTypeInfoBits(o,u,d){if(!Ka.isValidMaskPattern(u))throw new hn("Invalid mask pattern");const p=o.getBits()<<3|u;d.appendBits(p,5);const x=S.calculateBCHCode(p,S.TYPE_INFO_POLY);d.appendBits(x,10);const E=new ne;if(E.appendBits(S.TYPE_INFO_MASK_PATTERN,15),d.xor(E),d.getSize()!==15)throw new hn("should not happen but we got: "+d.getSize())}static makeVersionInfoBits(o,u){u.appendBits(o.getVersionNumber(),6);const d=S.calculateBCHCode(o.getVersionNumber(),S.VERSION_INFO_POLY);if(u.appendBits(d,12),u.getSize()!==18)throw new hn("should not happen but we got: "+u.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let u=8;u<o.getWidth()-8;++u){const d=(u+1)%2;S.isEmpty(o.get(u,6))&&o.setNumber(u,6,d),S.isEmpty(o.get(6,u))&&o.setNumber(6,u,d)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new hn;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,u,d){for(let p=0;p<8;++p){if(!S.isEmpty(d.get(o+p,u)))throw new hn;d.setNumber(o+p,u,0)}}static embedVerticalSeparationPattern(o,u,d){for(let p=0;p<7;++p){if(!S.isEmpty(d.get(o,u+p)))throw new hn;d.setNumber(o,u+p,0)}}static embedPositionAdjustmentPattern(o,u,d){for(let p=0;p<5;++p){const x=S.POSITION_ADJUSTMENT_PATTERN[p];for(let E=0;E<5;++E)d.setNumber(o+E,u+p,x[E])}}static embedPositionDetectionPattern(o,u,d){for(let p=0;p<7;++p){const x=S.POSITION_DETECTION_PATTERN[p];for(let E=0;E<7;++E)d.setNumber(o+E,u+p,x[E])}}static embedPositionDetectionPatternsAndSeparators(o){const u=S.POSITION_DETECTION_PATTERN[0].length;S.embedPositionDetectionPattern(0,0,o),S.embedPositionDetectionPattern(o.getWidth()-u,0,o),S.embedPositionDetectionPattern(0,o.getWidth()-u,o);const d=8;S.embedHorizontalSeparationPattern(0,d-1,o),S.embedHorizontalSeparationPattern(o.getWidth()-d,d-1,o),S.embedHorizontalSeparationPattern(0,o.getWidth()-d,o);const p=7;S.embedVerticalSeparationPattern(p,0,o),S.embedVerticalSeparationPattern(o.getHeight()-p-1,0,o),S.embedVerticalSeparationPattern(p,o.getHeight()-p,o)}static maybeEmbedPositionAdjustmentPatterns(o,u){if(o.getVersionNumber()<2)return;const d=o.getVersionNumber()-1,p=S.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[d];for(let x=0,E=p.length;x!==E;x++){const f=p[x];if(f>=0)for(let v=0;v!==E;v++){const _=p[v];_>=0&&S.isEmpty(u.get(_,f))&&S.embedPositionAdjustmentPattern(_-2,f-2,u)}}}}S.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),S.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),S.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),S.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),S.VERSION_INFO_POLY=7973,S.TYPE_INFO_POLY=1335,S.TYPE_INFO_MASK_PATTERN=21522;class B{constructor(o,u){this.dataBytes=o,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class q{constructor(){}static calculateMaskPenalty(o){return on.applyMaskPenaltyRule1(o)+on.applyMaskPenaltyRule2(o)+on.applyMaskPenaltyRule3(o)+on.applyMaskPenaltyRule4(o)}static encode(o,u,d=null){let p=q.DEFAULT_BYTE_MODE_ENCODING;const x=d!==null&&d.get(Zn.CHARACTER_SET)!==void 0;x&&(p=d.get(Zn.CHARACTER_SET).toString());const E=this.chooseMode(o,p),f=new ne;if(E===Et.BYTE&&(x||q.DEFAULT_BYTE_MODE_ENCODING!==p)){const ce=H.getCharacterSetECIByName(p);ce!==void 0&&this.appendECI(ce,f)}this.appendModeInfo(E,f);const v=new ne;this.appendBytes(o,E,v,p);let _;if(d!==null&&d.get(Zn.QR_VERSION)!==void 0){const ce=Number.parseInt(d.get(Zn.QR_VERSION).toString(),10);_=gt.getVersionForNumber(ce);const le=this.calculateBitsNeeded(E,f,v,_);if(!this.willFit(le,_,u))throw new hn("Data too big for requested version")}else _=this.recommendVersion(u,E,f,v);const C=new ne;C.appendBitArray(f);const O=E===Et.BYTE?v.getSizeInBytes():o.length;this.appendLengthInfo(O,_,E,C),C.appendBitArray(v);const M=_.getECBlocksForLevel(u),F=_.getTotalCodewords()-M.getTotalECCodewords();this.terminateBits(F,C);const z=this.interleaveWithECBytes(C,_.getTotalCodewords(),F,M.getNumBlocks()),X=new Ka;X.setECLevel(u),X.setMode(E),X.setVersion(_);const re=_.getDimensionForVersion(),te=new ss(re,re),oe=this.chooseMaskPattern(z,u,_,te);return X.setMaskPattern(oe),S.buildMatrix(z,u,_,oe,te),X.setMatrix(te),X}static recommendVersion(o,u,d,p){const x=this.calculateBitsNeeded(u,d,p,gt.getVersionForNumber(1)),E=this.chooseVersion(x,o),f=this.calculateBitsNeeded(u,d,p,E);return this.chooseVersion(f,o)}static calculateBitsNeeded(o,u,d,p){return u.getSize()+o.getCharacterCountBits(p)+d.getSize()}static getAlphanumericCode(o){return o<q.ALPHANUMERIC_TABLE.length?q.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,u=null){if(H.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(o))return Et.KANJI;let d=!1,p=!1;for(let x=0,E=o.length;x<E;++x){const f=o.charAt(x);if(q.isDigit(f))d=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)p=!0;else return Et.BYTE}return p?Et.ALPHANUMERIC:d?Et.NUMERIC:Et.BYTE}static isOnlyDoubleByteKanji(o){let u;try{u=ie.encode(o,H.SJIS)}catch{return!1}const d=u.length;if(d%2!==0)return!1;for(let p=0;p<d;p+=2){const x=u[p]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(o,u,d,p){let x=Number.MAX_SAFE_INTEGER,E=-1;for(let f=0;f<Ka.NUM_MASK_PATTERNS;f++){S.buildMatrix(o,u,d,f,p);let v=this.calculateMaskPenalty(p);v<x&&(x=v,E=f)}return E}static chooseVersion(o,u){for(let d=1;d<=40;d++){const p=gt.getVersionForNumber(d);if(q.willFit(o,p,u))return p}throw new hn("Data too big")}static willFit(o,u,d){const p=u.getTotalCodewords(),E=u.getECBlocksForLevel(d).getTotalECCodewords(),f=p-E,v=(o+7)/8;return f>=v}static terminateBits(o,u){const d=o*8;if(u.getSize()>d)throw new hn("data bits cannot fit in the QR Code"+u.getSize()+" > "+d);for(let E=0;E<4&&u.getSize()<d;++E)u.appendBit(!1);const p=u.getSize()&7;if(p>0)for(let E=p;E<8;E++)u.appendBit(!1);const x=o-u.getSizeInBytes();for(let E=0;E<x;++E)u.appendBits((E&1)===0?236:17,8);if(u.getSize()!==d)throw new hn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,u,d,p,x,E){if(p>=d)throw new hn("Block ID too large");const f=o%d,v=d-f,_=Math.floor(o/d),C=_+1,O=Math.floor(u/d),M=O+1,F=_-O,z=C-M;if(F!==z)throw new hn("EC bytes mismatch");if(d!==v+f)throw new hn("RS blocks mismatch");if(o!==(O+F)*v+(M+z)*f)throw new hn("Total bytes mismatch");p<v?(x[0]=O,E[0]=F):(x[0]=M,E[0]=z)}static interleaveWithECBytes(o,u,d,p){if(o.getSizeInBytes()!==d)throw new hn("Number of bits and data bytes does not match");let x=0,E=0,f=0;const v=new Array;for(let C=0;C<p;++C){const O=new Int32Array(1),M=new Int32Array(1);q.getNumDataBytesAndNumECBytesForBlockID(u,d,p,C,O,M);const F=O[0],z=new Uint8Array(F);o.toBytes(8*x,z,0,F);const X=q.generateECBytes(z,M[0]);v.push(new B(z,X)),E=Math.max(E,F),f=Math.max(f,X.length),x+=O[0]}if(d!==x)throw new hn("Data bytes does not match offset");const _=new ne;for(let C=0;C<E;++C)for(const O of v){const M=O.getDataBytes();C<M.length&&_.appendBits(M[C],8)}for(let C=0;C<f;++C)for(const O of v){const M=O.getErrorCorrectionBytes();C<M.length&&_.appendBits(M[C],8)}if(u!==_.getSizeInBytes())throw new hn("Interleaving error: "+u+" and "+_.getSizeInBytes()+" differ.");return _}static generateECBytes(o,u){const d=o.length,p=new Int32Array(d+u);for(let E=0;E<d;E++)p[E]=o[E]&255;new Yi(At.QR_CODE_FIELD_256).encode(p,u);const x=new Uint8Array(u);for(let E=0;E<u;E++)x[E]=p[d+E];return x}static appendModeInfo(o,u){u.appendBits(o.getBits(),4)}static appendLengthInfo(o,u,d,p){const x=d.getCharacterCountBits(u);if(o>=1<<x)throw new hn(o+" is bigger than "+((1<<x)-1));p.appendBits(o,x)}static appendBytes(o,u,d,p){switch(u){case Et.NUMERIC:q.appendNumericBytes(o,d);break;case Et.ALPHANUMERIC:q.appendAlphanumericBytes(o,d);break;case Et.BYTE:q.append8BitBytes(o,d,p);break;case Et.KANJI:q.appendKanjiBytes(o,d);break;default:throw new hn("Invalid mode: "+u)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const u=q.getDigit(o);return u>=0&&u<=9}static appendNumericBytes(o,u){const d=o.length;let p=0;for(;p<d;){const x=q.getDigit(o.charAt(p));if(p+2<d){const E=q.getDigit(o.charAt(p+1)),f=q.getDigit(o.charAt(p+2));u.appendBits(x*100+E*10+f,10),p+=3}else if(p+1<d){const E=q.getDigit(o.charAt(p+1));u.appendBits(x*10+E,7),p+=2}else u.appendBits(x,4),p++}}static appendAlphanumericBytes(o,u){const d=o.length;let p=0;for(;p<d;){const x=q.getAlphanumericCode(o.charCodeAt(p));if(x===-1)throw new hn;if(p+1<d){const E=q.getAlphanumericCode(o.charCodeAt(p+1));if(E===-1)throw new hn;u.appendBits(x*45+E,11),p+=2}else u.appendBits(x,6),p++}}static append8BitBytes(o,u,d){let p;try{p=ie.encode(o,d)}catch(x){throw new hn(x)}for(let x=0,E=p.length;x!==E;x++){const f=p[x];u.appendBits(f,8)}}static appendKanjiBytes(o,u){let d;try{d=ie.encode(o,H.SJIS)}catch(x){throw new hn(x)}const p=d.length;for(let x=0;x<p;x+=2){const E=d[x]&255,f=d[x+1]&255,v=E<<8&4294967295|f;let _=-1;if(v>=33088&&v<=40956?_=v-33088:v>=57408&&v<=60351&&(_=v-49472),_===-1)throw new hn("Invalid byte sequence");const C=(_>>8)*192+(_&255);u.appendBits(C,13)}}static appendECI(o,u){u.appendBits(Et.ECI.getBits(),4),u.appendBits(o.getValue(),8)}}q.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),q.DEFAULT_BYTE_MODE_ENCODING=H.UTF8.getName();class se{write(o,u,d,p=null){if(o.length===0)throw new A("Found empty contents");if(u<0||d<0)throw new A("Requested dimensions are too small: "+u+"x"+d);let x=qt.L,E=se.QUIET_ZONE_SIZE;p!==null&&(p.get(Zn.ERROR_CORRECTION)!==void 0&&(x=qt.fromString(p.get(Zn.ERROR_CORRECTION).toString())),p.get(Zn.MARGIN)!==void 0&&(E=Number.parseInt(p.get(Zn.MARGIN).toString(),10)));const f=q.encode(o,x,p);return this.renderResult(f,u,d,E)}writeToDom(o,u,d,p,x=null){typeof o=="string"&&(o=document.querySelector(o));const E=this.write(u,d,p,x);o&&o.appendChild(E)}renderResult(o,u,d,p){const x=o.getMatrix();if(x===null)throw new cn;const E=x.getWidth(),f=x.getHeight(),v=E+p*2,_=f+p*2,C=Math.max(u,v),O=Math.max(d,_),M=Math.min(Math.floor(C/v),Math.floor(O/_)),F=Math.floor((C-E*M)/2),z=Math.floor((O-f*M)/2),X=this.createSVGElement(C,O);for(let re=0,te=z;re<f;re++,te+=M)for(let oe=0,ce=F;oe<E;oe++,ce+=M)if(x.get(oe,re)===1){const le=this.createSvgRectElement(ce,te,M,M);X.appendChild(le)}return X}createSVGElement(o,u){const d=document.createElementNS(se.SVG_NS,"svg");return d.setAttributeNS(null,"height",o.toString()),d.setAttributeNS(null,"width",u.toString()),d}createSvgRectElement(o,u,d,p){const x=document.createElementNS(se.SVG_NS,"rect");return x.setAttributeNS(null,"x",o.toString()),x.setAttributeNS(null,"y",u.toString()),x.setAttributeNS(null,"height",d.toString()),x.setAttributeNS(null,"width",p.toString()),x.setAttributeNS(null,"fill","#000000"),x}}se.QUIET_ZONE_SIZE=4,se.SVG_NS="http://www.w3.org/2000/svg";class Ee{encode(o,u,d,p,x){if(o.length===0)throw new A("Found empty contents");if(u!==Ne.QR_CODE)throw new A("Can only encode QR_CODE, but got "+u);if(d<0||p<0)throw new A(`Requested dimensions are too small: ${d}x${p}`);let E=qt.L,f=Ee.QUIET_ZONE_SIZE;x!==null&&(x.get(Zn.ERROR_CORRECTION)!==void 0&&(E=qt.fromString(x.get(Zn.ERROR_CORRECTION).toString())),x.get(Zn.MARGIN)!==void 0&&(f=Number.parseInt(x.get(Zn.MARGIN).toString(),10)));const v=q.encode(o,E,x);return Ee.renderResult(v,d,p,f)}static renderResult(o,u,d,p){const x=o.getMatrix();if(x===null)throw new cn;const E=x.getWidth(),f=x.getHeight(),v=E+p*2,_=f+p*2,C=Math.max(u,v),O=Math.max(d,_),M=Math.min(Math.floor(C/v),Math.floor(O/_)),F=Math.floor((C-E*M)/2),z=Math.floor((O-f*M)/2),X=new Be(C,O);for(let re=0,te=z;re<f;re++,te+=M)for(let oe=0,ce=F;oe<E;oe++,ce+=M)x.get(oe,re)===1&&X.setRegion(ce,te,M,M);return X}}Ee.QUIET_ZONE_SIZE=4;class Me{encode(o,u,d,p,x){let E;if(u===Ne.QR_CODE)E=new Ee;else throw new A("No encoder available for format "+u);return E.encode(o,u,d,p,x)}}class rt extends We{constructor(o,u,d,p,x,E,f,v){if(super(E,f),this.yuvData=o,this.dataWidth=u,this.dataHeight=d,this.left=p,this.top=x,p+E>u||x+f>d)throw new A("Crop rectangle does not fit within image data.");v&&this.reverseHorizontal(E,f)}getRow(o,u){if(o<0||o>=this.getHeight())throw new A("Requested row is outside the image: "+o);const d=this.getWidth();(u==null||u.length<d)&&(u=new Uint8ClampedArray(d));const p=(o+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,p,u,0,d),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.yuvData;const d=o*u,p=new Uint8ClampedArray(d);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return k.arraycopy(this.yuvData,x,p,0,d),p;for(let E=0;E<u;E++){const f=E*o;k.arraycopy(this.yuvData,x,p,f,o),x+=this.dataWidth}return p}isCropSupported(){return!0}crop(o,u,d,p){return new rt(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+u,d,p,!1)}renderThumbnail(){const o=this.getWidth()/rt.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/rt.THUMBNAIL_SCALE_FACTOR,d=new Int32Array(o*u),p=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let E=0;E<u;E++){const f=E*o;for(let v=0;v<o;v++){const _=p[x+v*rt.THUMBNAIL_SCALE_FACTOR]&255;d[f+v]=4278190080|_*65793}x+=this.dataWidth*rt.THUMBNAIL_SCALE_FACTOR}return d}getThumbnailWidth(){return this.getWidth()/rt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/rt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,u){const d=this.yuvData;for(let p=0,x=this.top*this.dataWidth+this.left;p<u;p++,x+=this.dataWidth){const E=x+o/2;for(let f=x,v=x+o-1;f<E;f++,v--){const _=d[f];d[f]=d[v],d[v]=_}}}invert(){return new Ue(this)}}rt.THUMBNAIL_SCALE_FACTOR=2;class Ft extends We{constructor(o,u,d,p,x,E,f){if(super(u,d),this.dataWidth=p,this.dataHeight=x,this.left=E,this.top=f,o.BYTES_PER_ELEMENT===4){const v=u*d,_=new Uint8ClampedArray(v);for(let C=0;C<v;C++){const O=o[C],M=O>>16&255,F=O>>7&510,z=O&255;_[C]=(M+F+z)/4&255}this.luminances=_}else this.luminances=o;if(p===void 0&&(this.dataWidth=u),x===void 0&&(this.dataHeight=d),E===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+d>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(o,u){if(o<0||o>=this.getHeight())throw new A("Requested row is outside the image: "+o);const d=this.getWidth();(u==null||u.length<d)&&(u=new Uint8ClampedArray(d));const p=(o+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,p,u,0,d),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.luminances;const d=o*u,p=new Uint8ClampedArray(d);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return k.arraycopy(this.luminances,x,p,0,d),p;for(let E=0;E<u;E++){const f=E*o;k.arraycopy(this.luminances,x,p,f,o),x+=this.dataWidth}return p}isCropSupported(){return!0}crop(o,u,d,p){return new Ft(this.luminances,d,p,this.dataWidth,this.dataHeight,this.left+o,this.top+u)}invert(){return new Ue(this)}}class Sr extends H{static forName(o){return this.getCharacterSetECIByName(o)}}class yn{}yn.ISO_8859_1=H.ISO8859_1;class Bn{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class fa{static singletonList(o){return[o]}static min(o,u){return o.sort(u)[0]}}class Da{constructor(o){this.previous=o}getPrevious(){return this.previous}}class ni extends Da{constructor(o,u,d){super(o),this.value=u,this.bitCount=d}appendTo(o,u){o.appendBits(this.value,this.bitCount)}add(o,u){return new ni(this,o,u)}addBinaryShift(o,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ni(this,o,u)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+W.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class da extends ni{constructor(o,u,d){super(o,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=d}appendTo(o,u){for(let d=0;d<this.binaryShiftByteCount;d++)(d===0||d===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):d===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(u[this.binaryShiftStart+d],8)}addBinaryShift(o,u){return new da(this,o,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Us(Y,o,u){return new da(Y,o,u)}function os(Y,o,u){return new ni(Y,o,u)}const fo=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],_s=0,cu=1,ha=2,hl=3,Ma=4,Do=new ni(null,0,0),ho=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function nh(Y){for(let o of Y)K.fill(o,-1);return Y[_s][Ma]=0,Y[cu][Ma]=0,Y[cu][_s]=28,Y[hl][Ma]=0,Y[ha][Ma]=0,Y[ha][_s]=15,Y}const ml=nh(K.createInt32Array(6,6));class $i{constructor(o,u,d,p){this.token=o,this.mode=u,this.binaryShiftByteCount=d,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,u){let d=this.bitCount,p=this.token;if(o!==this.mode){let E=ho[this.mode][o];p=os(p,E&65535,E>>16),d+=E>>16}let x=o===ha?4:5;return p=os(p,u,x),new $i(p,o,0,d+x)}shiftAndAppend(o,u){let d=this.token,p=this.mode===ha?4:5;return d=os(d,ml[this.mode][o],p),d=os(d,u,5),new $i(d,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(o){let u=this.token,d=this.mode,p=this.bitCount;if(this.mode===Ma||this.mode===ha){let f=ho[d][_s];u=os(u,f&65535,f>>16),p+=f>>16,d=_s}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,E=new $i(u,d,this.binaryShiftByteCount+1,p+x);return E.binaryShiftByteCount===2078&&(E=E.endBinaryShift(o+1)),E}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=Us(u,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new $i(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let u=this.bitCount+(ho[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?u+=$i.calculateBinaryShiftCost(o)-$i.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(u+=10),u<=o.bitCount}toBitArray(o){let u=[];for(let p=this.endBinaryShift(o.length).token;p!==null;p=p.getPrevious())u.unshift(p);let d=new ne;for(const p of u)p.appendTo(d,o);return d}toString(){return Z.format("%s bits=%d bytes=%d",fo[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}$i.INITIAL_STATE=new $i(Do,_s,0,0);function ls(Y){const o=Z.getCharCode(" "),u=Z.getCharCode("."),d=Z.getCharCode(",");Y[_s][o]=1;const p=Z.getCharCode("Z"),x=Z.getCharCode("A");for(let M=x;M<=p;M++)Y[_s][M]=M-x+2;Y[cu][o]=1;const E=Z.getCharCode("z"),f=Z.getCharCode("a");for(let M=f;M<=E;M++)Y[cu][M]=M-f+2;Y[ha][o]=1;const v=Z.getCharCode("9"),_=Z.getCharCode("0");for(let M=_;M<=v;M++)Y[ha][M]=M-_+2;Y[ha][d]=12,Y[ha][u]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let M=0;M<C.length;M++)Y[hl][Z.getCharCode(C[M])]=M;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let M=0;M<O.length;M++)Z.getCharCode(O[M])>0&&(Y[Ma][Z.getCharCode(O[M])]=M);return Y}const nr=ls(K.createInt32Array(5,256));class us{constructor(o){this.text=o}encode(){const o=Z.getCharCode(" "),u=Z.getCharCode(`
`);let d=fa.singletonList($i.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let E,f=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case Z.getCharCode("\r"):E=f===u?2:0;break;case Z.getCharCode("."):E=f===o?3:0;break;case Z.getCharCode(","):E=f===o?4:0;break;case Z.getCharCode(":"):E=f===o?5:0;break;default:E=0}E>0?(d=us.updateStateListForPair(d,x,E),x++):d=this.updateStateListForChar(d,x)}return fa.min(d,(x,E)=>x.getBitCount()-E.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,u){const d=[];for(let p of o)this.updateStateForChar(p,u,d);return us.simplifyStates(d)}updateStateForChar(o,u,d){let p=this.text[u]&255,x=nr[o.getMode()][p]>0,E=null;for(let f=0;f<=Ma;f++){let v=nr[f][p];if(v>0){if(E==null&&(E=o.endBinaryShift(u)),!x||f===o.getMode()||f===ha){const _=E.latchAndAppend(f,v);d.push(_)}if(!x&&ml[o.getMode()][f]>=0){const _=E.shiftAndAppend(f,v);d.push(_)}}}if(o.getBinaryShiftByteCount()>0||nr[o.getMode()][p]===0){let f=o.addBinaryShiftChar(u);d.push(f)}}static updateStateListForPair(o,u,d){const p=[];for(let x of o)this.updateStateForPair(x,u,d,p);return this.simplifyStates(p)}static updateStateForPair(o,u,d,p){let x=o.endBinaryShift(u);if(p.push(x.latchAndAppend(Ma,d)),o.getMode()!==Ma&&p.push(x.shiftAndAppend(Ma,d)),d===3||d===4){let E=x.latchAndAppend(ha,16-d).latchAndAppend(ha,1);p.push(E)}if(o.getBinaryShiftByteCount()>0){let E=o.addBinaryShiftChar(u).addBinaryShiftChar(u+1);p.push(E)}}static simplifyStates(o){let u=[];for(const d of o){let p=!0;for(const x of u){if(x.isBetterThanOrEqualTo(d)){p=!1;break}d.isBetterThanOrEqualTo(x)&&(u=u.filter(E=>E!==x))}p&&u.push(d)}return u}}class nn{constructor(){}static encodeBytes(o){return nn.encode(o,nn.DEFAULT_EC_PERCENT,nn.DEFAULT_AZTEC_LAYERS)}static encode(o,u,d){let p=new us(o).encode(),x=W.truncDivision(p.getSize()*u,100)+11,E=p.getSize()+x,f,v,_,C,O;if(d!==nn.DEFAULT_AZTEC_LAYERS){if(f=d<0,v=Math.abs(d),v>(f?nn.MAX_NB_BITS_COMPACT:nn.MAX_NB_BITS))throw new A(Z.format("Illegal value %s for layers",d));_=nn.totalBitsInLayer(v,f),C=nn.WORD_SIZE[v];let le=_-_%C;if(O=nn.stuffBits(p,C),O.getSize()+x>le)throw new A("Data to large for user specified layer");if(f&&O.getSize()>C*64)throw new A("Data to large for user specified layer")}else{C=0,O=null;for(let le=0;;le++){if(le>nn.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(f=le<=3,v=f?le+1:le,_=nn.totalBitsInLayer(v,f),E>_)continue;(O==null||C!==nn.WORD_SIZE[v])&&(C=nn.WORD_SIZE[v],O=nn.stuffBits(p,C));let me=_-_%C;if(!(f&&O.getSize()>C*64)&&O.getSize()+x<=me)break}}let M=nn.generateCheckWords(O,_,C),F=O.getSize()/C,z=nn.generateModeMessage(f,v,F),X=(f?11:14)+v*4,re=new Int32Array(X),te;if(f){te=X;for(let le=0;le<re.length;le++)re[le]=le}else{te=X+1+2*W.truncDivision(W.truncDivision(X,2)-1,15);let le=W.truncDivision(X,2),me=W.truncDivision(te,2);for(let de=0;de<le;de++){let be=de+W.truncDivision(de,15);re[le-de-1]=me-be-1,re[le+de]=me+be+1}}let oe=new Be(te);for(let le=0,me=0;le<v;le++){let de=(v-le)*4+(f?9:12);for(let be=0;be<de;be++){let Ce=be*2;for(let xe=0;xe<2;xe++)M.get(me+Ce+xe)&&oe.set(re[le*2+xe],re[le*2+be]),M.get(me+de*2+Ce+xe)&&oe.set(re[le*2+be],re[X-1-le*2-xe]),M.get(me+de*4+Ce+xe)&&oe.set(re[X-1-le*2-xe],re[X-1-le*2-be]),M.get(me+de*6+Ce+xe)&&oe.set(re[X-1-le*2-be],re[le*2+xe])}me+=de*8}if(nn.drawModeMessage(oe,f,te,z),f)nn.drawBullsEye(oe,W.truncDivision(te,2),5);else{nn.drawBullsEye(oe,W.truncDivision(te,2),7);for(let le=0,me=0;le<W.truncDivision(X,2)-1;le+=15,me+=16)for(let de=W.truncDivision(te,2)&1;de<te;de+=2)oe.set(W.truncDivision(te,2)-me,de),oe.set(W.truncDivision(te,2)+me,de),oe.set(de,W.truncDivision(te,2)-me),oe.set(de,W.truncDivision(te,2)+me)}let ce=new Bn;return ce.setCompact(f),ce.setSize(te),ce.setLayers(v),ce.setCodeWords(F),ce.setMatrix(oe),ce}static drawBullsEye(o,u,d){for(let p=0;p<d;p+=2)for(let x=u-p;x<=u+p;x++)o.set(x,u-p),o.set(x,u+p),o.set(u-p,x),o.set(u+p,x);o.set(u-d,u-d),o.set(u-d+1,u-d),o.set(u-d,u-d+1),o.set(u+d,u-d),o.set(u+d,u-d+1),o.set(u+d,u+d-1)}static generateModeMessage(o,u,d){let p=new ne;return o?(p.appendBits(u-1,2),p.appendBits(d-1,6),p=nn.generateCheckWords(p,28,4)):(p.appendBits(u-1,5),p.appendBits(d-1,11),p=nn.generateCheckWords(p,40,4)),p}static drawModeMessage(o,u,d,p){let x=W.truncDivision(d,2);if(u)for(let E=0;E<7;E++){let f=x-3+E;p.get(E)&&o.set(f,x-5),p.get(E+7)&&o.set(x+5,f),p.get(20-E)&&o.set(f,x+5),p.get(27-E)&&o.set(x-5,f)}else for(let E=0;E<10;E++){let f=x-5+E+W.truncDivision(E,5);p.get(E)&&o.set(f,x-7),p.get(E+10)&&o.set(x+7,f),p.get(29-E)&&o.set(f,x+7),p.get(39-E)&&o.set(x-7,f)}}static generateCheckWords(o,u,d){let p=o.getSize()/d,x=new Yi(nn.getGF(d)),E=W.truncDivision(u,d),f=nn.bitsToWords(o,d,E);x.encode(f,E-p);let v=u%d,_=new ne;_.appendBits(0,v);for(const C of Array.from(f))_.appendBits(C,d);return _}static bitsToWords(o,u,d){let p=new Int32Array(d),x,E;for(x=0,E=o.getSize()/u;x<E;x++){let f=0;for(let v=0;v<u;v++)f|=o.get(x*u+v)?1<<u-v-1:0;p[x]=f}return p}static getGF(o){switch(o){case 4:return At.AZTEC_PARAM;case 6:return At.AZTEC_DATA_6;case 8:return At.AZTEC_DATA_8;case 10:return At.AZTEC_DATA_10;case 12:return At.AZTEC_DATA_12;default:throw new A("Unsupported word size "+o)}}static stuffBits(o,u){let d=new ne,p=o.getSize(),x=(1<<u)-2;for(let E=0;E<p;E+=u){let f=0;for(let v=0;v<u;v++)(E+v>=p||o.get(E+v))&&(f|=1<<u-1-v);(f&x)===x?(d.appendBits(f&x,u),E--):(f&x)===0?(d.appendBits(f|1,u),E--):d.appendBits(f,u)}return d}static totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}nn.DEFAULT_EC_PERCENT=33,nn.DEFAULT_AZTEC_LAYERS=0,nn.MAX_NB_BITS=32,nn.MAX_NB_BITS_COMPACT=4,nn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class gl{encode(o,u,d,p){return this.encodeWithHints(o,u,d,p,null)}encodeWithHints(o,u,d,p,x){let E=yn.ISO_8859_1,f=nn.DEFAULT_EC_PERCENT,v=nn.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(Zn.CHARACTER_SET)&&(E=Sr.forName(x.get(Zn.CHARACTER_SET).toString())),x.has(Zn.ERROR_CORRECTION)&&(f=W.parseInt(x.get(Zn.ERROR_CORRECTION).toString())),x.has(Zn.AZTEC_LAYERS)&&(v=W.parseInt(x.get(Zn.AZTEC_LAYERS).toString()))),gl.encodeLayers(o,u,d,p,E,f,v)}static encodeLayers(o,u,d,p,x,E,f){if(u!==Ne.AZTEC)throw new A("Can only encode AZTEC, but got "+u);let v=nn.encode(Z.getBytes(o,x),E,f);return gl.renderResult(v,d,p)}static renderResult(o,u,d){let p=o.getMatrix();if(p==null)throw new cn;let x=p.getWidth(),E=p.getHeight(),f=Math.max(u,x),v=Math.max(d,E),_=Math.min(f/x,v/E),C=(f-x*_)/2,O=(v-E*_)/2,M=new Be(f,v);for(let F=0,z=O;F<E;F++,z+=_)for(let X=0,re=C;X<x;X++,re+=_)p.get(X,F)&&M.setRegion(re,z,_,_);return M}}n.AbstractExpandedDecoder=jn,n.ArgumentException=w,n.ArithmeticException=Le,n.AztecCode=Bn,n.AztecCodeReader=es,n.AztecCodeWriter=gl,n.AztecDecoder=fn,n.AztecDetector=lo,n.AztecDetectorResult=kr,n.AztecEncoder=nn,n.AztecHighLevelEncoder=us,n.AztecPoint=Tr,n.BarcodeFormat=Ne,n.Binarizer=j,n.BinaryBitmap=I,n.BitArray=ne,n.BitMatrix=Be,n.BitSource=pr,n.BrowserAztecCodeReader=ts,n.BrowserBarcodeReader=Ga,n.BrowserCodeReader=Ge,n.BrowserDatamatrixCodeReader=gn,n.BrowserMultiFormatReader=Pa,n.BrowserPDF417Reader=Ro,n.BrowserQRCodeReader=Po,n.BrowserQRCodeSvgWriter=se,n.CharacterSetECI=H,n.ChecksumException=R,n.Code128Reader=Je,n.Code39Reader=sn,n.DataMatrixDecodedBitStreamParser=Yr,n.DataMatrixReader=Pi,n.DecodeHintType=Q,n.DecoderResult=ke,n.DefaultGridSampler=Aa,n.DetectorResult=Jr,n.EAN13Reader=Wn,n.EncodeHintType=Zn,n.Exception=g,n.FormatException=U,n.GenericGF=At,n.GenericGFPoly=It,n.GlobalHistogramBinarizer=ve,n.GridSampler=jr,n.GridSamplerInstance=ci,n.HTMLCanvasElementLuminanceSource=st,n.HybridBinarizer=Ae,n.ITFReader=Xe,n.IllegalArgumentException=A,n.IllegalStateException=cn,n.InvertedLuminanceSource=Ue,n.LuminanceSource=We,n.MathUtils=Ot,n.MultiFormatOneDReader=fi,n.MultiFormatReader=co,n.MultiFormatWriter=Me,n.NotFoundException=pe,n.OneDReader=wn,n.PDF417DecodedBitStreamParser=Re,n.PDF417DecoderErrorCorrection=oa,n.PDF417Reader=Ar,n.PDF417ResultMetadata=Na,n.PerspectiveTransform=Gn,n.PlanarYUVLuminanceSource=rt,n.QRCodeByteMatrix=ss,n.QRCodeDataMask=_r,n.QRCodeDecodedBitStreamParser=Ln,n.QRCodeDecoderErrorCorrectionLevel=qt,n.QRCodeDecoderFormatInformation=$n,n.QRCodeEncoder=q,n.QRCodeEncoderQRCode=Ka,n.QRCodeMaskUtil=on,n.QRCodeMatrixUtil=S,n.QRCodeMode=Et,n.QRCodeReader=yr,n.QRCodeVersion=gt,n.QRCodeWriter=Ee,n.RGBLuminanceSource=Ft,n.RSS14Reader=En,n.RSSExpandedReader=ze,n.ReaderException=Ra,n.ReedSolomonDecoder=Hn,n.ReedSolomonEncoder=Yi,n.ReedSolomonException=zt,n.Result=Fe,n.ResultMetadataType=Tt,n.ResultPoint=ot,n.StringUtils=Z,n.UnsupportedOperationException=ae,n.VideoInputDevice=he,n.WhiteRectangleDetector=Zt,n.WriterException=hn,n.ZXingArrays=K,n.ZXingCharset=Sr,n.ZXingInteger=W,n.ZXingStandardCharsets=yn,n.ZXingStringBuilder=J,n.ZXingStringEncoding=ie,n.ZXingSystem=k,n.createAbstractExpandedDecoder=Ur,Object.defineProperty(n,"__esModule",{value:!0})}))})(n0,n0.exports)),n0.exports}var $r=BQ();const FQ=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var $O=(function(){function t(e,n,r){if(this.formatMap=new Map([[yt.QR_CODE,$r.BarcodeFormat.QR_CODE],[yt.AZTEC,$r.BarcodeFormat.AZTEC],[yt.CODABAR,$r.BarcodeFormat.CODABAR],[yt.CODE_39,$r.BarcodeFormat.CODE_39],[yt.CODE_93,$r.BarcodeFormat.CODE_93],[yt.CODE_128,$r.BarcodeFormat.CODE_128],[yt.DATA_MATRIX,$r.BarcodeFormat.DATA_MATRIX],[yt.MAXICODE,$r.BarcodeFormat.MAXICODE],[yt.ITF,$r.BarcodeFormat.ITF],[yt.EAN_13,$r.BarcodeFormat.EAN_13],[yt.EAN_8,$r.BarcodeFormat.EAN_8],[yt.PDF_417,$r.BarcodeFormat.PDF_417],[yt.RSS_14,$r.BarcodeFormat.RSS_14],[yt.RSS_EXPANDED,$r.BarcodeFormat.RSS_EXPANDED],[yt.UPC_A,$r.BarcodeFormat.UPC_A],[yt.UPC_E,$r.BarcodeFormat.UPC_E],[yt.UPC_EAN_EXTENSION,$r.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!FQ)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),a=new Map;a.set($r.DecodeHintType.POSSIBLE_FORMATS,i),a.set($r.DecodeHintType.TRY_HARDER,!1),this.hints=a}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(a){i(a)}})},t.prototype.decode=function(e){var n=new $r.MultiFormatReader(this.verbose,this.hints),r=new $r.HTMLCanvasElementLuminanceSource(e),i=new $r.BinaryBitmap(new $r.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:Ok.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),UQ=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(w){try{g(r.next(w))}catch(A){c(A)}}function y(w){try{g(r.throw(w))}catch(A){c(A)}}function g(w){w.done?a(w.value):i(w.value).then(h,y)}g((r=r.apply(t,e||[])).next())})},VQ=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(w){return y([g,w])}}function y(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(w){g=[6,w],i=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},XO=(function(){function t(e,n,r){if(this.formatMap=new Map([[yt.QR_CODE,"qr_code"],[yt.AZTEC,"aztec"],[yt.CODABAR,"codabar"],[yt.CODE_39,"code_39"],[yt.CODE_93,"code_93"],[yt.CODE_128,"code_128"],[yt.DATA_MATRIX,"data_matrix"],[yt.ITF,"itf"],[yt.EAN_13,"ean_13"],[yt.EAN_8,"ean_8"],[yt.PDF_417,"pdf417"],[yt.UPC_A,"upc_a"],[yt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return UQ(this,void 0,void 0,function(){var n,r;return VQ(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:Ok.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,a=e;i<a.length;i++){var c=a[i],h=c.boundingBox.width*c.boundingBox.height;h>r&&(r=h,n=c)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),ZO=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(w){try{g(r.next(w))}catch(A){c(A)}}function y(w){try{g(r.throw(w))}catch(A){c(A)}}function g(w){w.done?a(w.value):i(w.value).then(h,y)}g((r=r.apply(t,e||[])).next())})},QO=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(w){return y([g,w])}}function y(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(w){g=[6,w],i=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},zQ=(function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&XO.isSupported()?(this.primaryDecoder=new XO(e,r,i),this.secondaryDecoder=new $O(e,r,i)):this.primaryDecoder=new $O(e,r,i)}return t.prototype.decodeAsync=function(e){return ZO(this,void 0,void 0,function(){var n;return QO(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return ZO(this,void 0,void 0,function(){var n,r;return QO(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var a=e/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),M_=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Qp=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(w){try{g(r.next(w))}catch(A){c(A)}}function y(w){try{g(r.throw(w))}catch(A){c(A)}}function g(w){w.done?a(w.value):i(w.value).then(h,y)}g((r=r.apply(t,e||[])).next())})},Jp=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(w){return y([g,w])}}function y(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(w){g=[6,w],i=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Rk=(function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t})(),qQ=(function(t){M_(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(Rk),HQ=(function(t){M_(e,t);function e(n){return t.call(this,"zoom",n)||this}return e})(qQ),GQ=(function(t){M_(e,t);function e(n){return t.call(this,"torch",n)||this}return e})(Rk),WQ=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new HQ(this.track)},t.prototype.torchFeature=function(){return new GQ(this.track)},t})(),KQ=(function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return Qp(this,void 0,void 0,function(){var a,c;return Jp(this,function(h){switch(h.label){case 0:return a=new t(e,n,i),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:h.sent(),h.label=2;case 2:return a.setupSurface(),[2,a]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Qp(this,void 0,void 0,function(){return Jp(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),a=i.length,c=0;e.mediaStream.getVideoTracks().forEach(function(h){e.mediaStream.removeTrack(h),h.stop(),++c,c>=a&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new WQ(this.getFirstTrackOrFail())},t})(),YQ=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return Qp(this,void 0,void 0,function(){return Jp(this,function(i){return[2,KQ.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return Qp(this,void 0,void 0,function(){var n,r;return Jp(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t})(),JO=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(w){try{g(r.next(w))}catch(A){c(A)}}function y(w){try{g(r.throw(w))}catch(A){c(A)}}function g(w){w.done?a(w.value):i(w.value).then(h,y)}g((r=r.apply(t,e||[])).next())})},eN=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(w){return y([g,w])}}function y(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(w){g=[6,w],i=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},$Q=(function(){function t(){}return t.failIfNotSupported=function(){return JO(this,void 0,void 0,function(){return eN(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return JO(this,void 0,void 0,function(){return eN(this,function(n){return[2,YQ.create(e)]})})},t})(),XQ=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(w){try{g(r.next(w))}catch(A){c(A)}}function y(w){try{g(r.throw(w))}catch(A){c(A)}}function g(w){w.done?a(w.value):i(w.value).then(h,y)}g((r=r.apply(t,e||[])).next())})},ZQ=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(w){return y([g,w])}}function y(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(w){g=[6,w],i=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},QQ=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=ld.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=ld.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return XQ(this,void 0,void 0,function(){var e,n,r,i,a,c,h;return ZQ(this,function(y){switch(y.label){case 0:return e=function(g){for(var w=g.getVideoTracks(),A=0,I=w;A<I.length;A++){var R=I[A];R.enabled=!1,R.stop(),g.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=y.sent(),i=[],a=0,c=r;a<c.length;a++)h=c[a],h.kind==="videoinput"&&i.push({id:h.deviceId,label:h.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(a){for(var c=[],h=0,y=a;h<y.length;h++){var g=y[h];g.kind==="video"&&c.push({id:g.id,label:g.label})}e(c)},i=MediaStreamTrack;i.getSources(r)})},t})(),ai;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(ai||(ai={}));var JQ=(function(){function t(){this.state=ai.NOT_STARTED,this.onGoingTransactionNewState=ai.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===ai.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ai.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===ai.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ai.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ai.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case ai.UNKNOWN:throw"Transition from unknown is not allowed";case ai.NOT_STARTED:this.failIfNewStateIs(e,[ai.PAUSED]);break;case ai.SCANNING:break;case ai.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(e===a)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),eJ=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===ai.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==ai.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ai.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===ai.PAUSED},t})(),tJ=(function(){function t(){}return t.create=function(){return new eJ(new JQ)},t})(),nJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ns=(function(t){nJ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(MQ),rJ=(function(){function t(e,n){this.logger=n,this.fps=Ns.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Ns.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Nk.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Rl(this.qrbox)},t.create=function(e,n){return new t(e,n)},t})(),iJ=(function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new jQ(this.verbose),this.qrcode=new zQ(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=tJ.create()}return t.prototype.start=function(e,n,r,i){var a=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var h=rJ.create(n,this.logger);this.clearElement();var y=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=y,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:Ns.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var A=this,I=this.stateManagerProxy.startTransition(ai.SCANNING);return new Promise(function(R,j){var k=g?h.videoConstraints:A.createVideoConstraints(e);if(!k){I.cancel(),j("videoConstraints should be defined");return}var L={};(!g||h.aspectRatio)&&(L.aspectRatio=h.aspectRatio);var G={onRenderSurfaceReady:function(K,W){A.setupUi(K,W,h),A.isScanning=!0,A.foreverScan(h,r,c)}};$Q.failIfNotSupported().then(function(K){K.create(k).then(function(W){return W.render(a.element,L,G).then(function(ne){A.renderedCamera=ne,I.execute(),R(null)}).catch(function(ne){I.cancel(),j(ne)})}).catch(function(W){I.cancel(),j(ld.errorGettingUserMedia(W))})}).catch(function(K){I.cancel(),j(ld.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ai.PAUSED),this.showPausedState(),(Rl(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(ai.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(ai.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var a=document.getElementById(Ns.SHADED_REGION_ELEMENT_ID);a&&e.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Rl(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var c=new Image;c.onload=function(){var h=c.width,y=c.height,g=document.getElementById(r.elementId),w=g.clientWidth?g.clientWidth:Ns.DEFAULT_WIDTH,A=Math.max(g.clientHeight?g.clientHeight:y,Ns.FILE_SCAN_MIN_HEIGHT),I=r.computeCanvasDrawConfig(h,y,w,A);if(n){var R=r.createCanvasElement(w,A,"qr-canvas-visible");R.style.display="inline-block",g.appendChild(R);var j=R.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=w,j.canvas.height=A,j.drawImage(c,0,0,h,y,I.x,I.y,I.width,I.height)}var k=Ns.FILE_SCAN_HIDDEN_CANVAS_PADDING,L=Math.max(c.width,I.width),G=Math.max(c.height,I.height),K=L+2*k,W=G+2*k,ne=r.createCanvasElement(K,W);g.appendChild(ne);var fe=ne.getContext("2d");if(!fe)throw"Unable to get 2d context from canvas";fe.canvas.width=K,fe.canvas.height=W,fe.drawImage(c,0,0,h,y,k,k,L,G);try{r.qrcode.decodeRobustlyAsync(ne).then(function(Q){i(KO.createFromQrcodeResult(Q))}).catch(a)}catch(Q){a("QR code parse error, error = ".concat(Q))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return QQ.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!Nk.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[yt.QR_CODE,yt.AZTEC,yt.CODABAR,yt.CODE_39,yt.CODE_93,yt.CODE_128,yt.DATA_MATRIX,yt.MAXICODE,yt.ITF,yt.EAN_13,yt.EAN_8,yt.PDF_417,yt.RSS_14,yt.RSS_EXPANDED,yt.UPC_A,yt.UPC_E,yt.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=e.formatsToSupport;i<a.length;i++){var c=a[i];DQ(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Rl(e))return!0;if(!Rl(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Rl(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Rl(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(e,n,a),h=function(g){if(g<Ns.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ns.MIN_QR_BOX_SIZE,"px.")},y=function(g){return g>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=e),g};h(c.width),h(c.height),c.width=y(c.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=Rl(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(e,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&a.height<=n,h={x:0,y:0,width:e,height:n},y=c?this.getShadedRegionBounds(e,n,a):h,g=this.createCanvasElement(y.width,y.height),w={willReadFrequently:!0},A=g.getContext("2d",w);A.canvas.width=y.width,A.canvas.height=y.height,this.element.append(g),c&&this.possiblyInsertShadingElement(this.element,e,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=A,this.canvasElement=g},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=ld.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,KO.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=ld.codeParseError(i);return n(a,kQ.createFrom(a)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,h=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*c,g=this.qrRegion.height*h,w=this.qrRegion.x*c,A=this.qrRegion.y*h;this.context.drawImage(a,w,A,y,g,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(R){!R&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){I()})):I()}).catch(function(R){i.logger.logError("Error happend while scanning context",R),I()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",c=function(j){if(j in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},h=Object.keys(e);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var y=Object.keys(e)[0];if(y!==n&&y!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(y===n){var g=e.facingMode;if(typeof g=="string"){if(c(g))return{facingMode:g}}else if(typeof g=="object")if(a in g){if(c(g["".concat(a)]))return{facingMode:{exact:g["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var w=typeof g;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var A=e.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(a in A)return{deviceId:{exact:A["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var I=typeof A;throw"Invalid type of 'deviceId' = ".concat(I)}}}var R=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var a=(r-e)/2,c=(i-n)/2;return{x:a,y:c,width:e,height:n}}else{var h=e,y=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(y)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Ns.BORDER_SHADER_MATCH_COLOR:Ns.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,a=n,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=Rl(r)?"qr-canvas":r,c},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(n-i.width)/2,h=(r-i.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Ns.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var y=5,g=40;this.insertShaderBorders(a,g,y,-y,null,0,!0),this.insertShaderBorders(a,g,y,-y,null,0,!1),this.insertShaderBorders(a,g,y,null,-y,0,!0),this.insertShaderBorders(a,g,y,null,-y,0,!1),this.insertShaderBorders(a,y,g+y,-y,null,-y,!0),this.insertShaderBorders(a,y,g+y,null,-y,-y,!0),this.insertShaderBorders(a,y,g+y,-y,null,-y,!1),this.insertShaderBorders(a,y,g+y,null,-y,-y,!1),this.hasBorderShaders=!0}e.append(a)}},t.prototype.insertShaderBorders=function(e,n,r,i,a,c,h){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=Ns.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(n,"px"),y.style.height="".concat(r,"px"),i!==null&&(y.style.top="".concat(i,"px")),a!==null&&(y.style.bottom="".concat(a,"px")),h?y.style.left="".concat(c,"px"):y.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),e.appendChild(y)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),tN;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(tN||(tN={}));const k_="https://api.anthropic.com/v1/messages";async function xy(){const t=await at.userProfiles.toCollection().first();if(!t)return null;const e=t,n=e.anthropicApiKey;if(!n)return null;const r=e.anthropicApiUrl;return{apiKey:n,apiUrl:r||k_}}async function aJ(t,e){const n=await at.userProfiles.toCollection().first();n?.id&&await at.userProfiles.update(n.id,{anthropicApiKey:t,anthropicApiUrl:e||k_})}async function Pk(t,e){const n=await xy();if(!n?.apiKey)throw new Error("Geen API-sleutel ingesteld. Ga naar Profiel  AI Instellingen.");const r=await fetch(n.apiUrl||k_,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":n.apiKey,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:"claude-sonnet-4-5-20250929",max_tokens:1024,system:e,messages:t})});if(!r.ok){const c=(await r.json().catch(()=>({})))?.error?.message||r.statusText;throw new Error(`AI fout: ${c}`)}return(await r.json()).content?.[0]?.text||"Geen antwoord ontvangen."}async function sJ(t,e){return Pk([{role:"user",content:[{type:"image",source:{type:"base64",media_type:e,data:t}},{type:"text",text:"Welk voedsel zie je op deze foto? Geef de voedingswaarden."}]}],`Je bent een Nederlandse voedingsassistent. Analyseer de foto van voedsel.
Geef voor elk herkend product:
- Naam (in het Nederlands)
- Geschatte hoeveelheid in gram
- Geschatte voedingswaarden per 100g: calorien, eiwit, vet, verzadigd vet, koolhydraten, suikers, vezels

Antwoord in JSON-formaat:
[{"naam": "...", "hoeveelheid_g": 100, "per_100g": {"calories": 0, "protein": 0, "fat": 0, "saturatedFat": 0, "carbs": 0, "sugar": 0, "fiber": 0}}]

Als je geen voedsel herkent, antwoord dan met een lege array [].`)}function oJ(){const[t,e]=D.useState("barcode"),[n,r]=D.useState("idle"),[i,a]=D.useState(null),[c,h]=D.useState(null),[y,g]=D.useState(null),w=D.useRef(null),A=vy(Z=>Z.addEntry),[I,R]=D.useState(null),[j,k]=D.useState(!1),[L,G]=D.useState([]),[K,W]=D.useState(null),ne=D.useRef(null);D.useEffect(()=>((!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)&&r("unavailable"),()=>{fe()}),[]);const fe=D.useCallback(async()=>{if(w.current){try{w.current.getState()===2&&await w.current.stop()}catch{}w.current=null}r("idle")},[]),Q=D.useCallback(async Z=>{if(Z===y)return;if(g(Z),w.current){try{w.current.getState()===2&&await w.current.stop()}catch{}w.current=null}r("looking-up"),h(null);const J=await CQ(Z);J?(a(J),r("idle")):(h(`Product niet gevonden voor barcode: ${Z}`),r("idle"))},[y]),U=async()=>{h(null),g(null),a(null),r("requesting");let Z;try{Z=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),Z.getTracks().forEach(J=>J.stop())}catch(J){const Be=J instanceof Error?J.message:String(J);Be.includes("NotAllowed")||Be.includes("Permission")||Be.includes("denied")?r("denied"):Be.includes("NotFound")||Be.includes("DevicesNotFound")||Be.includes("NotReadableError")?r("unavailable"):r("denied");return}try{const J=new iJ("scanner-region");w.current=J,r("scanning"),await J.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:150},aspectRatio:1},Be=>{Q(Be)},()=>{})}catch(J){const Be=J instanceof Error?J.message:String(J);Be.includes("Permission")||Be.includes("NotAllowed")?r("denied"):(h("Kan scanner niet starten. Probeer het opnieuw."),r("idle"))}},$=async(Z,J)=>{if(!i)return;const Be=um(i.pointsPer100g,Z);await A({foodItem:i,mealType:J,quantityG:Z,points:Be}),a(null),g(null)},H=async Z=>{const J=Z.target.files?.[0];if(!J)return;W(null),G([]);const Be=new FileReader;Be.onload=async pe=>{const ve=pe.target?.result;if(R(ve),!(await xy())?.apiKey){W("Geen API-sleutel ingesteld. Ga naar Profiel  AI Instellingen.");return}k(!0);try{const We=ve.split(",")[1],Ue=J.type||"image/jpeg",he=(await sJ(We,Ue)).match(/\[[\s\S]*\]/);if(he){const Ge=JSON.parse(he[0]).map(Fe=>{const dt={calories:Fe.per_100g.calories||0,protein:Fe.per_100g.protein||0,fat:Fe.per_100g.fat||0,saturatedFat:Fe.per_100g.saturatedFat||0,unsaturatedFat:Math.max(0,(Fe.per_100g.fat||0)-(Fe.per_100g.saturatedFat||0)),carbs:Fe.per_100g.carbs||0,sugar:Fe.per_100g.sugar||0,addedSugar:0,fiber:Fe.per_100g.fiber||0},Ne=lm(dt);return{name:Fe.naam,nutrition:dt,pointsPer100g:Ne,servingSizeG:Fe.hoeveelheid_g||100,isZeroPoint:Ne===0,source:"user",createdAt:new Date}});G(Ge)}else W("Kon geen voedsel herkennen op de foto. Probeer een andere foto.")}catch(We){W(We instanceof Error?We.message:"Fout bij analyseren")}finally{k(!1)}},Be.readAsDataURL(J)},ae=async Z=>{const J=await O_({name:Z.name,nutrition:Z.nutrition,pointsPer100g:Z.pointsPer100g,servingSizeG:Z.servingSizeG,isZeroPoint:Z.isZeroPoint,isFavorite:!1,source:"user"});a(J)},ie=Z=>{Z==="barcode"&&t==="photo"?(R(null),G([]),W(null)):Z==="photo"&&t==="barcode"&&fe(),e(Z)};return P.jsxs(rf,{title:"Scanner",children:[P.jsxs("div",{className:"flex flex-col items-center gap-4",children:[P.jsxs("div",{className:"flex gap-1 bg-ios-bg rounded-xl p-1 w-full",children:[P.jsxs("button",{onClick:()=>ie("barcode"),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-[13px] font-medium border-none cursor-pointer transition-colors ${t==="barcode"?"bg-white text-primary shadow-sm":"bg-transparent text-ios-secondary"}`,children:[P.jsx($p,{size:14}),"Barcode"]}),P.jsxs("button",{onClick:()=>ie("photo"),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-[13px] font-medium border-none cursor-pointer transition-colors ${t==="photo"?"bg-white text-primary shadow-sm":"bg-transparent text-ios-secondary"}`,children:[P.jsx(PO,{size:14}),"AI Foto"]})]}),t==="barcode"&&P.jsxs(P.Fragment,{children:[P.jsxs(Tn,{className:"w-full overflow-hidden",children:[P.jsx("div",{id:"scanner-region",className:"w-full bg-black",style:{minHeight:n==="scanning"?300:0,display:n==="scanning"?"block":"none"}}),n==="idle"&&!i&&P.jsxs("div",{className:"flex flex-col items-center py-12 px-4",children:[P.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:P.jsx($p,{size:40,className:"text-primary"})}),P.jsx("h3",{className:"text-[17px] font-semibold mb-1",children:"Scan een barcode"}),P.jsx("p",{className:"text-[13px] text-ios-secondary text-center mb-6 leading-relaxed",children:"Richt je camera op de barcode van een product"}),P.jsx("button",{onClick:U,className:"px-8 py-3 bg-primary text-white rounded-xl text-[17px] font-semibold border-none cursor-pointer active:bg-primary-dark transition-colors",children:"Open camera"})]}),n==="requesting"&&P.jsxs("div",{className:"flex flex-col items-center py-12 px-4",children:[P.jsx(ec,{size:40,className:"text-primary animate-spin mb-3"}),P.jsx("p",{className:"text-[15px] text-ios-secondary",children:"Camera-toegang aanvragen..."}),P.jsx("p",{className:"text-[12px] text-ios-secondary mt-2 text-center",children:'Tik op "Sta toe" als je browser om toestemming vraagt'})]}),n==="looking-up"&&P.jsxs("div",{className:"flex flex-col items-center py-12",children:[P.jsx(ec,{size:40,className:"text-primary animate-spin mb-3"}),P.jsx("p",{className:"text-[15px] text-ios-secondary",children:"Product opzoeken..."})]}),n==="denied"&&P.jsxs("div",{className:"flex flex-col items-center py-12 px-6",children:[P.jsx("div",{className:"w-20 h-20 rounded-full bg-ios-warning/10 flex items-center justify-center mb-4",children:P.jsx(XY,{size:40,className:"text-ios-warning"})}),P.jsx("h3",{className:"text-[17px] font-semibold mb-2 text-center",children:"Camera-toegang geweigerd"}),P.jsx("p",{className:"text-[13px] text-ios-secondary text-center leading-relaxed mb-4",children:"Geef toestemming via je instellingen:"}),P.jsxs("div",{className:"bg-ios-bg rounded-xl p-4 w-full mb-6",children:[P.jsx("p",{className:"text-[14px] font-medium mb-2",children:"Op iPhone / iPad:"}),P.jsxs("ol",{className:"text-[13px] text-ios-secondary leading-relaxed list-decimal list-inside space-y-1",children:[P.jsxs("li",{children:["Open ",P.jsx("strong",{children:"Instellingen"})]}),P.jsxs("li",{children:["Scroll naar ",P.jsx("strong",{children:"Safari"})]}),P.jsxs("li",{children:["Tik op ",P.jsx("strong",{children:"Camera"})]}),P.jsxs("li",{children:["Kies ",P.jsx("strong",{children:"Sta toe"})]})]})]}),P.jsx("button",{onClick:U,className:"px-8 py-3 bg-primary text-white rounded-xl text-[17px] font-semibold border-none cursor-pointer active:bg-primary-dark transition-colors",children:"Opnieuw proberen"})]}),n==="unavailable"&&P.jsxs("div",{className:"flex flex-col items-center py-12 px-6",children:[P.jsx("div",{className:"w-20 h-20 rounded-full bg-ios-destructive/10 flex items-center justify-center mb-4",children:P.jsx(tX,{size:40,className:"text-ios-destructive"})}),P.jsx("h3",{className:"text-[17px] font-semibold mb-2",children:"Camera niet beschikbaar"}),P.jsxs("p",{className:"text-[13px] text-ios-secondary text-center leading-relaxed",children:["Open de app via ",P.jsx("strong",{children:"Safari"})," op je iPhone."]})]})]}),c&&n==="idle"&&P.jsxs(Tn,{className:"w-full px-4 py-3 flex items-center gap-3",children:[P.jsx(Kp,{size:20,className:"text-ios-destructive flex-shrink-0"}),P.jsx("div",{className:"flex-1",children:P.jsx("p",{className:"text-[15px] text-ios-text",children:c})}),P.jsx("button",{onClick:U,className:"text-[15px] text-primary font-medium border-none bg-transparent cursor-pointer flex-shrink-0",children:"Opnieuw"})]}),n==="scanning"&&P.jsx("button",{onClick:fe,className:"px-6 py-3 bg-ios-destructive text-white rounded-xl text-[15px] font-semibold border-none cursor-pointer",children:"Stop scanner"})]}),t==="photo"&&P.jsxs(P.Fragment,{children:[P.jsx(Tn,{className:"w-full",children:I?P.jsxs("div",{children:[P.jsx("img",{src:I,alt:"Foto",className:"w-full h-48 object-cover"}),j&&P.jsxs("div",{className:"flex flex-col items-center py-6",children:[P.jsx(ec,{size:32,className:"text-primary animate-spin mb-2"}),P.jsx("p",{className:"text-[15px] text-ios-secondary",children:"AI analyseert je foto..."})]})]}):P.jsxs("div",{className:"flex flex-col items-center py-12 px-4",children:[P.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:P.jsx(PO,{size:40,className:"text-primary"})}),P.jsx("h3",{className:"text-[17px] font-semibold mb-1",children:"Herken voedsel via foto"}),P.jsx("p",{className:"text-[13px] text-ios-secondary text-center mb-6 leading-relaxed",children:"Maak een foto van je maaltijd en AI herkent de producten met voedingswaarden"}),P.jsx("button",{onClick:()=>ne.current?.click(),className:"px-8 py-3 bg-primary text-white rounded-xl text-[17px] font-semibold border-none cursor-pointer active:bg-primary-dark transition-colors",children:"Maak foto"}),P.jsx("input",{ref:ne,type:"file",accept:"image/*",capture:"environment",onChange:H,className:"hidden"})]})}),K&&P.jsxs(Tn,{className:"w-full px-4 py-3 flex items-center gap-3",children:[P.jsx(Kp,{size:20,className:"text-ios-destructive flex-shrink-0"}),P.jsx("p",{className:"text-[14px] text-ios-text flex-1",children:K})]}),L.length>0&&P.jsxs(Tn,{className:"w-full",children:[P.jsx("div",{className:"px-4 py-3 border-b border-ios-separator",children:P.jsx("p",{className:"text-[15px] font-semibold",children:"Herkende producten"})}),L.map((Z,J)=>P.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${J<L.length-1?"border-b border-ios-separator":""}`,children:[P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsx("div",{className:"text-[15px] font-medium",children:Z.name}),P.jsxs("div",{className:"text-[13px] text-ios-secondary",children:[Z.servingSizeG,"g  ",Z.pointsPer100g," pt/100g"]})]}),P.jsx("button",{onClick:()=>ae(Z),className:"px-3 py-1.5 bg-primary text-white rounded-lg text-[13px] font-medium border-none cursor-pointer",children:"Toevoegen"})]},`${Z.name}-${J}`))]}),I&&!j&&P.jsx("button",{onClick:()=>{R(null),G([]),W(null),ne.current?.click()},className:"px-6 py-3 bg-white text-primary rounded-xl text-[15px] font-semibold border border-ios-separator cursor-pointer",children:"Nieuwe foto"})]})]}),i&&P.jsx(Ak,{food:i,defaultMealType:"snack",onAdd:$,onClose:()=>{a(null),g(null)}})]})}function Dk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Dk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Vn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Dk(t))&&(r&&(r+=" "),r+=e);return r}var lJ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function j_(t){if(typeof t!="string")return!1;var e=lJ;return e.includes(t)}var uJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cJ=new Set(uJ);function Mk(t){return typeof t!="string"?!1:cJ.has(t)}function kk(t){return typeof t=="string"&&t.startsWith("data-")}function ks(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Mk(n)||kk(n))&&(e[n]=t[n]);return e}function af(t){if(t==null)return null;if(D.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ks(e)}return typeof t=="object"&&!Array.isArray(t)?ks(t):null}function Ha(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Mk(n)||kk(n)||j_(n))&&(e[n]=t[n]);return e}function fJ(t){return t==null?null:D.isValidElement(t)?Ha(t.props):typeof t=="object"&&!Array.isArray(t)?Ha(t):null}var dJ=["children","width","height","viewBox","className","style","title","desc"];function D2(){return D2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D2.apply(null,arguments)}function hJ(t,e){if(t==null)return{};var n,r,i=mJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jk=D.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:c,style:h,title:y,desc:g}=t,w=hJ(t,dJ),A=a||{width:r,height:i,x:0,y:0},I=Vn("recharts-surface",c);return D.createElement("svg",D2({},Ha(w),{className:I,width:r,height:i,style:h,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height),ref:e}),D.createElement("title",null,y),D.createElement("desc",null,g),n)}),gJ=["children","className"];function M2(){return M2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M2.apply(null,arguments)}function pJ(t,e){if(t==null)return{};var n,r,i=yJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fi=D.forwardRef((t,e)=>{var{children:n,className:r}=t,i=pJ(t,gJ),a=Vn("recharts-layer",r);return D.createElement("g",M2({className:a},Ha(i),{ref:e}),n)}),vJ=D.createContext(null);function Cr(t){return function(){return t}}const Lk=Math.cos,e1=Math.sin,So=Math.sqrt,t1=Math.PI,by=2*t1,k2=Math.PI,j2=2*k2,Mc=1e-6,xJ=j2-Mc;function Bk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function bJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Bk;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class wJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Bk:bJ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,c){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+c}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let c=this._x1,h=this._y1,y=r-e,g=i-n,w=c-e,A=h-n,I=w*w+A*A;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(I>Mc)if(!(Math.abs(A*y-g*w)>Mc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let R=r-c,j=i-h,k=y*y+g*g,L=R*R+j*j,G=Math.sqrt(k),K=Math.sqrt(I),W=a*Math.tan((k2-Math.acos((k+I-L)/(2*G*K)))/2),ne=W/K,fe=W/G;Math.abs(ne-1)>Mc&&this._append`L${e+ne*w},${n+ne*A}`,this._append`A${a},${a},0,0,${+(A*R>w*j)},${this._x1=e+fe*y},${this._y1=n+fe*g}`}}arc(e,n,r,i,a,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let h=r*Math.cos(i),y=r*Math.sin(i),g=e+h,w=n+y,A=1^c,I=c?i-a:a-i;this._x1===null?this._append`M${g},${w}`:(Math.abs(this._x1-g)>Mc||Math.abs(this._y1-w)>Mc)&&this._append`L${g},${w}`,r&&(I<0&&(I=I%j2+j2),I>xJ?this._append`A${r},${r},0,1,${A},${e-h},${n-y}A${r},${r},0,1,${A},${this._x1=g},${this._y1=w}`:I>Mc&&this._append`A${r},${r},0,${+(I>=k2)},${A},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function L_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new wJ(e)}function B_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fk(t){this._context=t}Fk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function wy(t){return new Fk(t)}function Uk(t){return t[0]}function Vk(t){return t[1]}function zk(t,e){var n=Cr(!0),r=null,i=wy,a=null,c=L_(h);t=typeof t=="function"?t:t===void 0?Uk:Cr(t),e=typeof e=="function"?e:e===void 0?Vk:Cr(e);function h(y){var g,w=(y=B_(y)).length,A,I=!1,R;for(r==null&&(a=i(R=c())),g=0;g<=w;++g)!(g<w&&n(A=y[g],g,y))===I&&((I=!I)?a.lineStart():a.lineEnd()),I&&a.point(+t(A,g,y),+e(A,g,y));if(R)return a=null,R+""||null}return h.x=function(y){return arguments.length?(t=typeof y=="function"?y:Cr(+y),h):t},h.y=function(y){return arguments.length?(e=typeof y=="function"?y:Cr(+y),h):e},h.defined=function(y){return arguments.length?(n=typeof y=="function"?y:Cr(!!y),h):n},h.curve=function(y){return arguments.length?(i=y,r!=null&&(a=i(r)),h):i},h.context=function(y){return arguments.length?(y==null?r=a=null:a=i(r=y),h):r},h}function Fg(t,e,n){var r=null,i=Cr(!0),a=null,c=wy,h=null,y=L_(g);t=typeof t=="function"?t:t===void 0?Uk:Cr(+t),e=typeof e=="function"?e:Cr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Vk:Cr(+n);function g(A){var I,R,j,k=(A=B_(A)).length,L,G=!1,K,W=new Array(k),ne=new Array(k);for(a==null&&(h=c(K=y())),I=0;I<=k;++I){if(!(I<k&&i(L=A[I],I,A))===G)if(G=!G)R=I,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),j=I-1;j>=R;--j)h.point(W[j],ne[j]);h.lineEnd(),h.areaEnd()}G&&(W[I]=+t(L,I,A),ne[I]=+e(L,I,A),h.point(r?+r(L,I,A):W[I],n?+n(L,I,A):ne[I]))}if(K)return h=null,K+""||null}function w(){return zk().defined(i).curve(c).context(a)}return g.x=function(A){return arguments.length?(t=typeof A=="function"?A:Cr(+A),r=null,g):t},g.x0=function(A){return arguments.length?(t=typeof A=="function"?A:Cr(+A),g):t},g.x1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:Cr(+A),g):r},g.y=function(A){return arguments.length?(e=typeof A=="function"?A:Cr(+A),n=null,g):e},g.y0=function(A){return arguments.length?(e=typeof A=="function"?A:Cr(+A),g):e},g.y1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:Cr(+A),g):n},g.lineX0=g.lineY0=function(){return w().x(t).y(e)},g.lineY1=function(){return w().x(t).y(n)},g.lineX1=function(){return w().x(r).y(e)},g.defined=function(A){return arguments.length?(i=typeof A=="function"?A:Cr(!!A),g):i},g.curve=function(A){return arguments.length?(c=A,a!=null&&(h=c(a)),g):c},g.context=function(A){return arguments.length?(A==null?a=h=null:h=c(a=A),g):a},g}class qk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function EJ(t){return new qk(t,!0)}function _J(t){return new qk(t,!1)}const F_={draw(t,e){const n=So(e/t1);t.moveTo(n,0),t.arc(0,0,n,0,by)}},AJ={draw(t,e){const n=So(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Hk=So(1/3),SJ=Hk*2,CJ={draw(t,e){const n=So(e/SJ),r=n*Hk;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},TJ={draw(t,e){const n=So(e),r=-n/2;t.rect(r,r,n,n)}},IJ=.8908130915292852,Gk=e1(t1/10)/e1(7*t1/10),OJ=e1(by/10)*Gk,NJ=-Lk(by/10)*Gk,RJ={draw(t,e){const n=So(e*IJ),r=OJ*n,i=NJ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const c=by*a/5,h=Lk(c),y=e1(c);t.lineTo(y*n,-h*n),t.lineTo(h*r-y*i,y*r+h*i)}t.closePath()}},vb=So(3),PJ={draw(t,e){const n=-So(e/(vb*3));t.moveTo(0,n*2),t.lineTo(-vb*n,-n),t.lineTo(vb*n,-n),t.closePath()}},Ys=-.5,$s=So(3)/2,L2=1/So(12),DJ=(L2/2+1)*3,MJ={draw(t,e){const n=So(e/DJ),r=n/2,i=n*L2,a=r,c=n*L2+n,h=-a,y=c;t.moveTo(r,i),t.lineTo(a,c),t.lineTo(h,y),t.lineTo(Ys*r-$s*i,$s*r+Ys*i),t.lineTo(Ys*a-$s*c,$s*a+Ys*c),t.lineTo(Ys*h-$s*y,$s*h+Ys*y),t.lineTo(Ys*r+$s*i,Ys*i-$s*r),t.lineTo(Ys*a+$s*c,Ys*c-$s*a),t.lineTo(Ys*h+$s*y,Ys*y-$s*h),t.closePath()}};function kJ(t,e){let n=null,r=L_(i);t=typeof t=="function"?t:Cr(t||F_),e=typeof e=="function"?e:Cr(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Cr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Cr(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function n1(){}function r1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Wk(t){this._context=t}Wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jJ(t){return new Wk(t)}function Kk(t){this._context=t}Kk.prototype={areaStart:n1,areaEnd:n1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:r1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LJ(t){return new Kk(t)}function Yk(t){this._context=t}Yk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:r1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BJ(t){return new Yk(t)}function $k(t){this._context=t}$k.prototype={areaStart:n1,areaEnd:n1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function FJ(t){return new $k(t)}function nN(t){return t<0?-1:1}function rN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),c=(n-t._y1)/(i||r<0&&-0),h=(a*i+c*r)/(r+i);return(nN(a)+nN(c))*Math.min(Math.abs(a),Math.abs(c),.5*Math.abs(h))||0}function iN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function xb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,c=t._y1,h=(a-r)/3;t._context.bezierCurveTo(r+h,i+h*e,a-h,c-h*n,a,c)}function i1(t){this._context=t}i1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xb(this,this._t0,iN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xb(this,iN(this,n=rN(this,t,e)),n);break;default:xb(this,this._t0,n=rN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Xk(t){this._context=new Zk(t)}(Xk.prototype=Object.create(i1.prototype)).point=function(t,e){i1.prototype.point.call(this,e,t)};function Zk(t){this._context=t}Zk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function UJ(t){return new i1(t)}function VJ(t){return new Xk(t)}function Qk(t){this._context=t}Qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=aN(t),i=aN(e),a=0,c=1;c<n;++a,++c)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aN(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),c=new Array(n);for(i[0]=0,a[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,c[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,c[e]-=r*c[e-1];for(i[n-1]=c[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function zJ(t){return new Qk(t)}function Ey(t,e){this._context=t,this._t=e}Ey.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function qJ(t){return new Ey(t,.5)}function HJ(t){return new Ey(t,0)}function GJ(t){return new Ey(t,1)}function sf(t,e){if((c=t.length)>1)for(var n=1,r,i,a=t[e[0]],c,h=a.length;n<c;++n)for(i=a,a=t[e[n]],r=0;r<h;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function B2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function WJ(t,e){return t[e]}function KJ(t){const e=[];return e.key=t,e}function YJ(){var t=Cr([]),e=B2,n=sf,r=WJ;function i(a){var c=Array.from(t.apply(this,arguments),KJ),h,y=c.length,g=-1,w;for(const A of a)for(h=0,++g;h<y;++h)(c[h][g]=[0,+r(A,c[h].key,g,a)]).data=A;for(h=0,w=B_(e(c));h<y;++h)c[w[h]].index=h;return n(c,w),c}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Cr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Cr(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?B2:typeof a=="function"?a:Cr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??sf,i):n},i}function $J(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,c;i<a;++i){for(c=n=0;n<r;++n)c+=t[n][i][1]||0;if(c)for(n=0;n<r;++n)t[n][i][1]/=c}sf(t,e)}}function XJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var c=0,h=0;c<i;++c)h+=t[c][n][1]||0;r[n][1]+=r[n][0]=-h/2}sf(t,e)}}function ZJ(t,e){if(!(!((c=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,c;r<a;++r){for(var h=0,y=0,g=0;h<c;++h){for(var w=t[e[h]],A=w[r][1]||0,I=w[r-1][1]||0,R=(A-I)/2,j=0;j<h;++j){var k=t[e[j]],L=k[r][1]||0,G=k[r-1][1]||0;R+=L-G}y+=A,g+=R*A}i[r-1][1]+=i[r-1][0]=n,y&&(n-=g/y)}i[r-1][1]+=i[r-1][0]=n,sf(t,e)}}var bb={},wb={},sN;function QJ(){return sN||(sN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(wb)),wb}var Eb={},oN;function Jk(){return oN||(oN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Eb)),Eb}var _b={},lN;function U_(){return lN||(lN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(_b)),_b}var Ab={},Sb={},uN;function JJ(){return uN||(uN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Sb)),Sb}var cN;function V_(){return cN||(cN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JJ(),n=U_();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],c=i.length;if(c===0)return a;let h=0,y="",g="",w=!1;for(i.charCodeAt(0)===46&&(a.push(""),h++);h<c;){const A=i[h];g?A==="\\"&&h+1<c?(h++,y+=i[h]):A===g?g="":y+=A:w?A==='"'||A==="'"?g=A:A==="]"?(w=!1,a.push(y),y=""):y+=A:A==="["?(w=!0,y&&(a.push(y),y="")):A==="."?y&&(a.push(y),y=""):y+=A,h++}return y&&a.push(y),a}t.toPath=r})(Ab)),Ab}var fN;function z_(){return fN||(fN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QJ(),n=Jk(),r=U_(),i=V_();function a(h,y,g){if(h==null)return g;switch(typeof y){case"string":{if(e.isUnsafeProperty(y))return g;const w=h[y];return w===void 0?n.isDeepKey(y)?a(h,i.toPath(y),g):g:w}case"number":case"symbol":{typeof y=="number"&&(y=r.toKey(y));const w=h[y];return w===void 0?g:w}default:{if(Array.isArray(y))return c(h,y,g);if(Object.is(y?.valueOf(),-0)?y="-0":y=String(y),e.isUnsafeProperty(y))return g;const w=h[y];return w===void 0?g:w}}}function c(h,y,g){if(y.length===0)return g;let w=h;for(let A=0;A<y.length;A++){if(w==null||e.isUnsafeProperty(y[A]))return g;w=w[y[A]]}return w===void 0?g:w}t.get=a})(bb)),bb}var Cb,dN;function eee(){return dN||(dN=1,Cb=z_().get),Cb}var tee=eee();const of=al(tee);var nee=4;function Yu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nee,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function oi(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,c)=>{var h=n[c-1];return typeof h=="string"?i+h+a:h!==void 0?i+Yu(h)+a:i+a},"")}var ta=t=>t===0?0:t>0?1:-1,nl=t=>typeof t=="number"&&t!=+t,lf=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,vt=t=>(typeof t=="number"||t instanceof Number)&&!nl(t),ro=t=>vt(t)||typeof t=="string",ree=0,R0=t=>{var e=++ree;return"".concat(t||"").concat(e)},za=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!vt(e)&&typeof e!="string")return r;var a;if(lf(e)){if(n==null)return r;var c=e.indexOf("%");a=n*parseFloat(e.slice(0,c))/100}else a=+e;return nl(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},e5=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Hr(t,e,n){return vt(t)&&vt(e)?Yu(t+n*(e-t)):e}function t5(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):of(r,e))===n)}var Zr=t=>t===null||typeof t>"u",cm=t=>Zr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function ps(t){return t!=null}function bf(){}var iee=["type","size","sizeType"];function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F2.apply(null,arguments)}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){aee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aee(t,e,n){return(e=see(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function see(t){var e=oee(t,"string");return typeof e=="symbol"?e:e+""}function oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lee(t,e){if(t==null)return{};var n,r,i=uee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var n5={symbolCircle:F_,symbolCross:AJ,symbolDiamond:CJ,symbolSquare:TJ,symbolStar:RJ,symbolTriangle:PJ,symbolWye:MJ},cee=Math.PI/180,fee=t=>{var e="symbol".concat(cm(t));return n5[e]||F_},dee=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*cee;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},hee=(t,e)=>{n5["symbol".concat(cm(t))]=e},r5=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=lee(t,iee),a=mN(mN({},i),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var h=()=>{var I=fee(c),R=kJ().type(I).size(dee(n,r,c)),j=R();if(j!==null)return j},{className:y,cx:g,cy:w}=a,A=Ha(a);return vt(g)&&vt(w)&&vt(n)?D.createElement("path",F2({},A,{className:Vn("recharts-symbols",y),transform:"translate(".concat(g,", ").concat(w,")"),d:h()})):null};r5.registerSymbol=hee;var i5=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,q_=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(D.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{j_(i)&&(r[i]=(a=>n[i](n,a)))}),r},mee=(t,e,n)=>r=>(t(e,n,r),null),_y=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];j_(i)&&typeof a=="function"&&(r||(r={}),r[i]=mee(a,e,n))}),r};function gN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(n),!0).forEach(function(r){pee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pee(t,e,n){return(e=yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yee(t){var e=vee(t,"string");return typeof e=="symbol"?e:e+""}function vee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ui(t,e){var n=gee({},t),r=e,i=Object.keys(e),a=i.reduce((c,h)=>(c[h]===void 0&&r[h]!==void 0&&(c[h]=r[h]),c),n);return a}var Tb={},Ib={},pN;function xee(){return pN||(pN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const c=n[a],h=r(c,a,n);i.has(h)||i.set(h,c)}return Array.from(i.values())}t.uniqBy=e})(Ib)),Ib}var Ob={},yN;function bee(){return yN||(yN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(Ob)),Ob}var Nb={},vN;function a5(){return vN||(vN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Nb)),Nb}var Rb={},Pb={},Db={},xN;function wee(){return xN||(xN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Db)),Db}var bN;function H_(){return bN||(bN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wee();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Pb)),Pb}var Mb={},wN;function Eee(){return wN||(wN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Mb)),Mb}var EN;function _ee(){return EN||(EN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H_(),n=Eee();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Rb)),Rb}var kb={},jb={},_N;function Aee(){return _N||(_N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z_();function n(r){return function(i){return e.get(i,r)}}t.property=n})(jb)),jb}var Lb={},Bb={},Fb={},Ub={},AN;function s5(){return AN||(AN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Ub)),Ub}var Vb={},SN;function o5(){return SN||(SN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Vb)),Vb}var zb={},CN;function l5(){return CN||(CN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(zb)),zb}var TN;function See(){return TN||(TN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s5(),n=o5(),r=l5();function i(w,A,I){return typeof I!="function"?i(w,A,()=>{}):a(w,A,function R(j,k,L,G,K,W){const ne=I(j,k,L,G,K,W);return ne!==void 0?!!ne:a(j,k,R,W)},new Map)}function a(w,A,I,R){if(A===w)return!0;switch(typeof A){case"object":return c(w,A,I,R);case"function":return Object.keys(A).length>0?a(w,{...A},I,R):r.isEqualsSameValueZero(w,A);default:return e.isObject(w)?typeof A=="string"?A==="":!0:r.isEqualsSameValueZero(w,A)}}function c(w,A,I,R){if(A==null)return!0;if(Array.isArray(A))return y(w,A,I,R);if(A instanceof Map)return h(w,A,I,R);if(A instanceof Set)return g(w,A,I,R);const j=Object.keys(A);if(w==null||n.isPrimitive(w))return j.length===0;if(j.length===0)return!0;if(R?.has(A))return R.get(A)===w;R?.set(A,w);try{for(let k=0;k<j.length;k++){const L=j[k];if(!n.isPrimitive(w)&&!(L in w)||A[L]===void 0&&w[L]!==void 0||A[L]===null&&w[L]!==null||!I(w[L],A[L],L,w,A,R))return!1}return!0}finally{R?.delete(A)}}function h(w,A,I,R){if(A.size===0)return!0;if(!(w instanceof Map))return!1;for(const[j,k]of A.entries()){const L=w.get(j);if(I(L,k,j,w,A,R)===!1)return!1}return!0}function y(w,A,I,R){if(A.length===0)return!0;if(!Array.isArray(w))return!1;const j=new Set;for(let k=0;k<A.length;k++){const L=A[k];let G=!1;for(let K=0;K<w.length;K++){if(j.has(K))continue;const W=w[K];let ne=!1;if(I(W,L,k,w,A,R)&&(ne=!0),ne){j.add(K),G=!0;break}}if(!G)return!1}return!0}function g(w,A,I,R){return A.size===0?!0:w instanceof Set?y([...w],[...A],I,R):!1}t.isMatchWith=i,t.isSetMatch=g})(Fb)),Fb}var IN;function u5(){return IN||(IN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=See();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Bb)),Bb}var qb={},Hb={},Gb={},ON;function Cee(){return ON||(ON=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Gb)),Gb}var Wb={},NN;function G_(){return NN||(NN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Wb)),Wb}var Kb={},RN;function c5(){return RN||(RN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",c="[object Symbol]",h="[object Date]",y="[object Map]",g="[object Set]",w="[object Array]",A="[object Function]",I="[object ArrayBuffer]",R="[object Object]",j="[object Error]",k="[object DataView]",L="[object Uint8Array]",G="[object Uint8ClampedArray]",K="[object Uint16Array]",W="[object Uint32Array]",ne="[object BigUint64Array]",fe="[object Int8Array]",Q="[object Int16Array]",U="[object Int32Array]",$="[object BigInt64Array]",H="[object Float32Array]",ae="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=I,t.arrayTag=w,t.bigInt64ArrayTag=$,t.bigUint64ArrayTag=ne,t.booleanTag=i,t.dataViewTag=k,t.dateTag=h,t.errorTag=j,t.float32ArrayTag=H,t.float64ArrayTag=ae,t.functionTag=A,t.int16ArrayTag=Q,t.int32ArrayTag=U,t.int8ArrayTag=fe,t.mapTag=y,t.numberTag=r,t.objectTag=R,t.regexpTag=e,t.setTag=g,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=K,t.uint32ArrayTag=W,t.uint8ArrayTag=L,t.uint8ClampedArrayTag=G})(Kb)),Kb}var Yb={},PN;function Tee(){return PN||(PN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Yb)),Yb}var DN;function f5(){return DN||(DN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cee(),n=G_(),r=c5(),i=o5(),a=Tee();function c(w,A){return h(w,void 0,w,new Map,A)}function h(w,A,I,R=new Map,j=void 0){const k=j?.(w,A,I,R);if(k!==void 0)return k;if(i.isPrimitive(w))return w;if(R.has(w))return R.get(w);if(Array.isArray(w)){const L=new Array(w.length);R.set(w,L);for(let G=0;G<w.length;G++)L[G]=h(w[G],G,I,R,j);return Object.hasOwn(w,"index")&&(L.index=w.index),Object.hasOwn(w,"input")&&(L.input=w.input),L}if(w instanceof Date)return new Date(w.getTime());if(w instanceof RegExp){const L=new RegExp(w.source,w.flags);return L.lastIndex=w.lastIndex,L}if(w instanceof Map){const L=new Map;R.set(w,L);for(const[G,K]of w)L.set(G,h(K,G,I,R,j));return L}if(w instanceof Set){const L=new Set;R.set(w,L);for(const G of w)L.add(h(G,void 0,I,R,j));return L}if(typeof Buffer<"u"&&Buffer.isBuffer(w))return w.subarray();if(a.isTypedArray(w)){const L=new(Object.getPrototypeOf(w)).constructor(w.length);R.set(w,L);for(let G=0;G<w.length;G++)L[G]=h(w[G],G,I,R,j);return L}if(w instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&w instanceof SharedArrayBuffer)return w.slice(0);if(w instanceof DataView){const L=new DataView(w.buffer.slice(0),w.byteOffset,w.byteLength);return R.set(w,L),y(L,w,I,R,j),L}if(typeof File<"u"&&w instanceof File){const L=new File([w],w.name,{type:w.type});return R.set(w,L),y(L,w,I,R,j),L}if(typeof Blob<"u"&&w instanceof Blob){const L=new Blob([w],{type:w.type});return R.set(w,L),y(L,w,I,R,j),L}if(w instanceof Error){const L=new w.constructor;return R.set(w,L),L.message=w.message,L.name=w.name,L.stack=w.stack,L.cause=w.cause,y(L,w,I,R,j),L}if(w instanceof Boolean){const L=new Boolean(w.valueOf());return R.set(w,L),y(L,w,I,R,j),L}if(w instanceof Number){const L=new Number(w.valueOf());return R.set(w,L),y(L,w,I,R,j),L}if(w instanceof String){const L=new String(w.valueOf());return R.set(w,L),y(L,w,I,R,j),L}if(typeof w=="object"&&g(w)){const L=Object.create(Object.getPrototypeOf(w));return R.set(w,L),y(L,w,I,R,j),L}return w}function y(w,A,I=w,R,j){const k=[...Object.keys(A),...e.getSymbols(A)];for(let L=0;L<k.length;L++){const G=k[L],K=Object.getOwnPropertyDescriptor(w,G);(K==null||K.writable)&&(w[G]=h(A[G],G,I,R,j))}}function g(w){switch(n.getTag(w)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=h,t.copyProperties=y})(Hb)),Hb}var MN;function Iee(){return MN||(MN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f5();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(qb)),qb}var kN;function Oee(){return kN||(kN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u5(),n=Iee();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Lb)),Lb}var $b={},Xb={},Zb={},jN;function Nee(){return jN||(jN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f5(),n=G_(),r=c5();function i(a,c){return e.cloneDeepWith(a,(h,y,g,w)=>{const A=c?.(h,y,g,w);if(A!==void 0)return A;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const I={};return w.set(a,I),e.copyProperties(I,a,g,w),I}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const I=new a.constructor(a?.valueOf());return e.copyProperties(I,a),I}case r.argumentsTag:{const I={};return e.copyProperties(I,a),I.length=a.length,I[Symbol.iterator]=a[Symbol.iterator],I}default:return}}})}t.cloneDeepWith=i})(Zb)),Zb}var LN;function Ree(){return LN||(LN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nee();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Xb)),Xb}var Qb={},Jb={},BN;function d5(){return BN||(BN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Jb)),Jb}var ew={},FN;function Pee(){return FN||(FN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G_();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(ew)),ew}var UN;function Dee(){return UN||(UN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jk(),n=d5(),r=Pee(),i=V_();function a(c,h){let y;if(Array.isArray(h)?y=h:typeof h=="string"&&e.isDeepKey(h)&&c?.[h]==null?y=i.toPath(h):y=[h],y.length===0)return!1;let g=c;for(let w=0;w<y.length;w++){const A=y[w];if((g==null||!Object.hasOwn(g,A))&&!((Array.isArray(g)||r.isArguments(g))&&n.isIndex(A)&&A<g.length))return!1;g=g[A]}return!0}t.has=a})(Qb)),Qb}var VN;function Mee(){return VN||(VN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u5(),n=U_(),r=Ree(),i=z_(),a=Dee();function c(h,y){switch(typeof h){case"object":{Object.is(h?.valueOf(),-0)&&(h="-0");break}case"number":{h=n.toKey(h);break}}return y=r.cloneDeep(y),function(g){const w=i.get(g,h);return w===void 0?a.has(g,h):y===void 0?w===void 0:e.isMatch(w,y)}}t.matchesProperty=c})($b)),$b}var zN;function kee(){return zN||(zN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a5(),n=Aee(),r=Oee(),i=Mee();function a(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=a})(kb)),kb}var qN;function jee(){return qN||(qN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xee(),n=bee(),r=a5(),i=_ee(),a=kee();function c(h,y=r.identity){return i.isArrayLikeObject(h)?e.uniqBy(Array.from(h),n.ary(a.iteratee(y),1)):[]}t.uniqBy=c})(Tb)),Tb}var tw,HN;function Lee(){return HN||(HN=1,tw=jee().uniqBy),tw}var Bee=Lee();const GN=al(Bee);function Fee(t,e,n){return e===!0?GN(t,n):typeof e=="function"?GN(t,e):t}var nw={exports:{}},rw={},iw={exports:{}},aw={};var WN;function Uee(){if(WN)return aw;WN=1;var t=kd();function e(A,I){return A===I&&(A!==0||1/A===1/I)||A!==A&&I!==I}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function h(A,I){var R=I(),j=r({inst:{value:R,getSnapshot:I}}),k=j[0].inst,L=j[1];return a(function(){k.value=R,k.getSnapshot=I,y(k)&&L({inst:k})},[A,R,I]),i(function(){return y(k)&&L({inst:k}),A(function(){y(k)&&L({inst:k})})},[A]),c(R),R}function y(A){var I=A.getSnapshot;A=A.value;try{var R=I();return!n(A,R)}catch{return!0}}function g(A,I){return I()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:h;return aw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:w,aw}var KN;function Vee(){return KN||(KN=1,iw.exports=Uee()),iw.exports}var YN;function zee(){if(YN)return rw;YN=1;var t=kd(),e=Vee();function n(g,w){return g===w&&(g!==0||1/g===1/w)||g!==g&&w!==w}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,c=t.useEffect,h=t.useMemo,y=t.useDebugValue;return rw.useSyncExternalStoreWithSelector=function(g,w,A,I,R){var j=a(null);if(j.current===null){var k={hasValue:!1,value:null};j.current=k}else k=j.current;j=h(function(){function G(Q){if(!K){if(K=!0,W=Q,Q=I(Q),R!==void 0&&k.hasValue){var U=k.value;if(R(U,Q))return ne=U}return ne=Q}if(U=ne,r(W,Q))return U;var $=I(Q);return R!==void 0&&R(U,$)?(W=Q,U):(W=Q,ne=$)}var K=!1,W,ne,fe=A===void 0?null:A;return[function(){return G(w())},fe===null?void 0:function(){return G(fe())}]},[w,A,I,R]);var L=i(g,j[0],j[1]);return c(function(){k.hasValue=!0,k.value=L},[L]),y(L),L},rw}var $N;function qee(){return $N||($N=1,nw.exports=zee()),nw.exports}var Hee=qee(),W_=D.createContext(null),Gee=t=>t,Mr=()=>{var t=D.useContext(W_);return t?t.store.dispatch:Gee},yp=()=>{},Wee=()=>yp,Kee=(t,e)=>t===e;function xt(t){var e=D.useContext(W_),n=D.useMemo(()=>e?r=>{if(r!=null)return t(r)}:yp,[e,t]);return Hee.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Wee,e?e.store.getState:yp,e?e.store.getState:yp,n,Kee)}function Yee(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function $ee(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Xee(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var XN=t=>Array.isArray(t)?t:[t];function Zee(t){const e=Array.isArray(t[0])?t[0]:t;return Xee(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Qee(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Jee=class{constructor(t){this.value=t}deref(){return this.value}},ete=typeof WeakRef<"u"?WeakRef:Jee,tte=0,ZN=1;function Ug(){return{s:tte,v:void 0,o:null,p:null}}function h5(t,e={}){let n=Ug();const{resultEqualityCheck:r}=e;let i,a=0;function c(){let h=n;const{length:y}=arguments;for(let A=0,I=y;A<I;A++){const R=arguments[A];if(typeof R=="function"||typeof R=="object"&&R!==null){let j=h.o;j===null&&(h.o=j=new WeakMap);const k=j.get(R);k===void 0?(h=Ug(),j.set(R,h)):h=k}else{let j=h.p;j===null&&(h.p=j=new Map);const k=j.get(R);k===void 0?(h=Ug(),j.set(R,h)):h=k}}const g=h;let w;if(h.s===ZN)w=h.v;else if(w=t.apply(null,arguments),a++,r){const A=i?.deref?.()??i;A!=null&&r(A,w)&&(w=A,a!==0&&a--),i=typeof w=="object"&&w!==null||typeof w=="function"?new ete(w):w}return g.s=ZN,g.v=w,w}return c.clearCache=()=>{n=Ug(),c.resetResultsCount()},c.resultsCount=()=>a,c.resetResultsCount=()=>{a=0},c}function nte(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,c=0,h,y={},g=i.pop();typeof g=="object"&&(y=g,g=i.pop()),Yee(g,`createSelector expects an output function after the inputs, but received: [${typeof g}]`);const w={...n,...y},{memoize:A,memoizeOptions:I=[],argsMemoize:R=h5,argsMemoizeOptions:j=[]}=w,k=XN(I),L=XN(j),G=Zee(i),K=A(function(){return a++,g.apply(null,arguments)},...k),W=R(function(){c++;const fe=Qee(G,arguments);return h=K.apply(null,fe),h},...L);return Object.assign(W,{resultFunc:g,memoizedResultFunc:K,dependencies:G,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>h,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:A,argsMemoize:R})};return Object.assign(r,{withTypes:()=>r}),r}var Te=nte(h5),rte=Object.assign((t,e=Te)=>{$ee(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((c,h,y)=>(c[n[y]]=h,c),{}))},{withTypes:()=>rte}),sw={},ow={},lw={},QN;function ite(){return QN||(QN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const c=e(r),h=e(i);if(c===h&&c===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?h-c:c-h}return 0};t.compareValues=n})(lw)),lw}var uw={},cw={},JN;function m5(){return JN||(JN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(cw)),cw}var e4;function ate(){return e4||(e4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,c){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||c!=null&&Object.hasOwn(c,a)}t.isKey=i})(uw)),uw}var t4;function ste(){return t4||(t4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ite(),n=ate(),r=V_();function i(a,c,h,y){if(a==null)return[];h=y?void 0:h,Array.isArray(a)||(a=Object.values(a)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(h)||(h=h==null?[]:[h]),h=h.map(R=>String(R));const g=(R,j)=>{let k=R;for(let L=0;L<j.length&&k!=null;++L)k=k[j[L]];return k},w=(R,j)=>j==null||R==null?j:typeof R=="object"&&"key"in R?Object.hasOwn(j,R.key)?j[R.key]:g(j,R.path):typeof R=="function"?R(j):Array.isArray(R)?g(j,R):typeof j=="object"?j[R]:j,A=c.map(R=>(Array.isArray(R)&&R.length===1&&(R=R[0]),R==null||typeof R=="function"||Array.isArray(R)||n.isKey(R)?R:{key:R,path:r.toPath(R)}));return a.map(R=>({original:R,criteria:A.map(j=>w(j,R))})).slice().sort((R,j)=>{for(let k=0;k<A.length;k++){const L=e.compareValues(R.criteria[k],j.criteria[k],h[k]);if(L!==0)return L}return 0}).map(R=>R.original)}t.orderBy=i})(ow)),ow}var fw={},n4;function ote(){return n4||(n4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),c=(h,y)=>{for(let g=0;g<h.length;g++){const w=h[g];Array.isArray(w)&&y<a?c(w,y+1):i.push(w)}};return c(n,0),i}t.flatten=e})(fw)),fw}var dw={},r4;function g5(){return r4||(r4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d5(),n=H_(),r=s5(),i=l5();function a(c,h,y){return r.isObject(y)&&(typeof h=="number"&&n.isArrayLike(y)&&e.isIndex(h)&&h<y.length||typeof h=="string"&&h in y)?i.isEqualsSameValueZero(y[h],c):!1}t.isIterateeCall=a})(dw)),dw}var i4;function lte(){return i4||(i4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ste(),n=ote(),r=g5();function i(a,...c){const h=c.length;return h>1&&r.isIterateeCall(a,c[0],c[1])?c=[]:h>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(a,n.flatten(c),["asc"])}t.sortBy=i})(sw)),sw}var hw,a4;function ute(){return a4||(a4=1,hw=lte().sortBy),hw}var cte=ute();const Ay=al(cte);var p5=t=>t.legend.settings,fte=t=>t.legend.size,dte=t=>t.legend.payload;Te([dte,p5],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Ay(r,n):r});var Vg=1;function hte(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=D.useState({height:0,left:0,top:0,width:0}),r=D.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),c={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(c.height-e.height)>Vg||Math.abs(c.left-e.left)>Vg||Math.abs(c.top-e.top)>Vg||Math.abs(c.width-e.width)>Vg)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function va(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var mte=typeof Symbol=="function"&&Symbol.observable||"@@observable",s4=mte,mw=()=>Math.random().toString(36).substring(7).split("").join("."),gte={INIT:`@@redux/INIT${mw()}`,REPLACE:`@@redux/REPLACE${mw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mw()}`},a1=gte;function K_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function y5(t,e,n){if(typeof t!="function")throw new Error(va(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(va(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(va(1));return n(y5)(t,e)}let r=t,i=e,a=new Map,c=a,h=0,y=!1;function g(){c===a&&(c=new Map,a.forEach((L,G)=>{c.set(G,L)}))}function w(){if(y)throw new Error(va(3));return i}function A(L){if(typeof L!="function")throw new Error(va(4));if(y)throw new Error(va(5));let G=!0;g();const K=h++;return c.set(K,L),function(){if(G){if(y)throw new Error(va(6));G=!1,g(),c.delete(K),a=null}}}function I(L){if(!K_(L))throw new Error(va(7));if(typeof L.type>"u")throw new Error(va(8));if(typeof L.type!="string")throw new Error(va(17));if(y)throw new Error(va(9));try{y=!0,i=r(i,L)}finally{y=!1}return(a=c).forEach(K=>{K()}),L}function R(L){if(typeof L!="function")throw new Error(va(10));r=L,I({type:a1.REPLACE})}function j(){const L=A;return{subscribe(G){if(typeof G!="object"||G===null)throw new Error(va(11));function K(){const ne=G;ne.next&&ne.next(w())}return K(),{unsubscribe:L(K)}},[s4](){return this}}}return I({type:a1.INIT}),{dispatch:I,subscribe:A,getState:w,replaceReducer:R,[s4]:j}}function pte(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:a1.INIT})>"u")throw new Error(va(12));if(typeof n(void 0,{type:a1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(va(13))})}function v5(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const c=e[a];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let i;try{pte(n)}catch(a){i=a}return function(c={},h){if(i)throw i;let y=!1;const g={};for(let w=0;w<r.length;w++){const A=r[w],I=n[A],R=c[A],j=I(R,h);if(typeof j>"u")throw h&&h.type,new Error(va(14));g[A]=j,y=y||j!==R}return y=y||r.length!==Object.keys(c).length,y?g:c}}function s1(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function yte(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(va(15))};const c={getState:i.getState,dispatch:(y,...g)=>a(y,...g)},h=t.map(y=>y(c));return a=s1(...h)(i.dispatch),{...i,dispatch:a}}}function x5(t){return K_(t)&&"type"in t&&typeof t.type=="string"}var b5=Symbol.for("immer-nothing"),o4=Symbol.for("immer-draftable"),Qa=Symbol.for("immer-state");function po(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ds=Object,Id=Ds.getPrototypeOf,o1="constructor",Sy="prototype",U2="configurable",l1="enumerable",vp="writable",P0="value",Xl=t=>!!t&&!!t[Qa];function Ao(t){return t?w5(t)||Ty(t)||!!t[o4]||!!t[o1]?.[o4]||Iy(t)||Oy(t):!1}var vte=Ds[Sy][o1].toString(),l4=new WeakMap;function w5(t){if(!t||!Y_(t))return!1;const e=Id(t);if(e===null||e===Ds[Sy])return!0;const n=Ds.hasOwnProperty.call(e,o1)&&e[o1];if(n===Object)return!0;if(!sd(n))return!1;let r=l4.get(n);return r===void 0&&(r=Function.toString.call(n),l4.set(n,r)),r===vte}function Cy(t,e,n=!0){fm(t)===0?(n?Reflect.ownKeys(t):Ds.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function fm(t){const e=t[Qa];return e?e.type_:Ty(t)?1:Iy(t)?2:Oy(t)?3:0}var u4=(t,e,n=fm(t))=>n===2?t.has(e):Ds[Sy].hasOwnProperty.call(t,e),V2=(t,e,n=fm(t))=>n===2?t.get(e):t[e],u1=(t,e,n,r=fm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function xte(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Ty=Array.isArray,Iy=t=>t instanceof Map,Oy=t=>t instanceof Set,Y_=t=>typeof t=="object",sd=t=>typeof t=="function",gw=t=>typeof t=="boolean";function bte(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Pl=t=>t.copy_||t.base_,$_=t=>t.modified_?t.copy_:t.base_;function z2(t,e){if(Iy(t))return new Map(t);if(Oy(t))return new Set(t);if(Ty(t))return Array[Sy].slice.call(t);const n=w5(t);if(e===!0||e==="class_only"&&!n){const r=Ds.getOwnPropertyDescriptors(t);delete r[Qa];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const c=i[a],h=r[c];h[vp]===!1&&(h[vp]=!0,h[U2]=!0),(h.get||h.set)&&(r[c]={[U2]:!0,[vp]:!0,[l1]:h[l1],[P0]:t[c]})}return Ds.create(Id(t),r)}else{const r=Id(t);if(r!==null&&n)return{...t};const i=Ds.create(r);return Ds.assign(i,t)}}function X_(t,e=!1){return Ny(t)||Xl(t)||!Ao(t)||(fm(t)>1&&Ds.defineProperties(t,{set:zg,add:zg,clear:zg,delete:zg}),Ds.freeze(t),e&&Cy(t,(n,r)=>{X_(r,!0)},!1)),t}function wte(){po(2)}var zg={[P0]:wte};function Ny(t){return t===null||!Y_(t)?!0:Ds.isFrozen(t)}var c1="MapSet",q2="Patches",c4="ArrayMethods",E5={};function uf(t){const e=E5[t];return e||po(0,t),e}var f4=t=>!!E5[t],D0,_5=()=>D0,Ete=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:f4(c1)?uf(c1):void 0,arrayMethodsPlugin_:f4(c4)?uf(c4):void 0});function d4(t,e){e&&(t.patchPlugin_=uf(q2),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function H2(t){G2(t),t.drafts_.forEach(_te),t.drafts_=null}function G2(t){t===D0&&(D0=t.parent_)}var h4=t=>D0=Ete(D0,t);function _te(t){const e=t[Qa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function m4(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Qa].modified_&&(H2(e),po(4)),Ao(t)&&(t=g4(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Qa].base_,t,e)}else t=g4(e,n);return Ate(e,t,!0),H2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==b5?t:void 0}function g4(t,e){if(Ny(e))return e;const n=e[Qa];if(!n)return f1(e,t.handledSet_,t);if(!Ry(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);C5(n,t)}return n.copy_}function Ate(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&X_(e,n)}function A5(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Ry=(t,e)=>t.scope_===e,Ste=[];function S5(t,e,n,r){const i=Pl(t),a=t.type_;if(r!==void 0&&V2(i,r,a)===e){u1(i,r,n,a);return}if(!t.draftLocations_){const h=t.draftLocations_=new Map;Cy(i,(y,g)=>{if(Xl(g)){const w=h.get(g)||[];w.push(y),h.set(g,w)}})}const c=t.draftLocations_.get(e)??Ste;for(const h of c)u1(i,h,n,a)}function Cte(t,e,n){t.callbacks_.push(function(i){const a=e;if(!a||!Ry(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const c=$_(a);S5(t,a.draft_??a,c,n),C5(a,i)})}function C5(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}A5(t)}}function Tte(t,e,n){const{scope_:r}=t;if(Xl(n)){const i=n[Qa];Ry(i,r)&&i.callbacks_.push(function(){xp(t);const c=$_(i);S5(t,n,c,e)})}else Ao(n)&&t.callbacks_.push(function(){const a=Pl(t);t.type_===3?a.has(n)&&f1(n,r.handledSet_,r):V2(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&f1(V2(t.copy_,e,t.type_),r.handledSet_,r)})}function f1(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Xl(t)||e.has(t)||!Ao(t)||Ny(t)||(e.add(t),Cy(t,(r,i)=>{if(Xl(i)){const a=i[Qa];if(Ry(a,n)){const c=$_(a);u1(t,r,c,t.type_),A5(a)}}else Ao(i)&&f1(i,e,n)})),t}function Ite(t,e){const n=Ty(t),r={type_:n?1:0,scope_:e?e.scope_:_5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=d1;n&&(i=[r],a=M0);const{revoke:c,proxy:h}=Proxy.revocable(i,a);return r.draft_=h,r.revoke_=c,[h,r]}var d1={get(t,e){if(e===Qa)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Pl(t);if(!u4(i,e,t.type_))return Ote(t,i,e);const a=i[e];if(t.finalized_||!Ao(a)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&bte(e))return a;if(a===pw(t.base_,e)){xp(t);const c=t.type_===1?+e:e,h=K2(t.scope_,a,t,c);return t.copy_[c]=h}return a},has(t,e){return e in Pl(t)},ownKeys(t){return Reflect.ownKeys(Pl(t))},set(t,e,n){const r=T5(Pl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=pw(Pl(t),e),a=i?.[Qa];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(xte(n,i)&&(n!==void 0||u4(t.base_,e,t.type_)))return!0;xp(t),W2(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Tte(t,e,n)),!0},deleteProperty(t,e){return xp(t),pw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),W2(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Pl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[vp]:!0,[U2]:t.type_!==1||e!=="length",[l1]:r[l1],[P0]:n[e]}},defineProperty(){po(11)},getPrototypeOf(t){return Id(t.base_)},setPrototypeOf(){po(12)}},M0={};for(let t in d1){let e=d1[t];M0[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}M0.deleteProperty=function(t,e){return M0.set.call(this,t,e,void 0)};M0.set=function(t,e,n){return d1.set.call(this,t[0],e,n,t[0])};function pw(t,e){const n=t[Qa];return(n?Pl(n):t)[e]}function Ote(t,e,n){const r=T5(e,n);return r?P0 in r?r[P0]:r.get?.call(t.draft_):void 0}function T5(t,e){if(!(e in t))return;let n=Id(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Id(n)}}function W2(t){t.modified_||(t.modified_=!0,t.parent_&&W2(t.parent_))}function xp(t){t.copy_||(t.assigned_=new Map,t.copy_=z2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Nte=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(sd(n)&&!sd(r)){const c=r;r=n;const h=this;return function(g=c,...w){return h.produce(g,A=>r.call(this,A,...w))}}sd(r)||po(6),i!==void 0&&!sd(i)&&po(7);let a;if(Ao(n)){const c=h4(this),h=K2(c,n,void 0);let y=!0;try{a=r(h),y=!1}finally{y?H2(c):G2(c)}return d4(c,i),m4(a,c)}else if(!n||!Y_(n)){if(a=r(n),a===void 0&&(a=n),a===b5&&(a=void 0),this.autoFreeze_&&X_(a,!0),i){const c=[],h=[];uf(q2).generateReplacementPatches_(n,a,{patches_:c,inversePatches_:h}),i(c,h)}return a}else po(1,n)},this.produceWithPatches=(n,r)=>{if(sd(n))return(h,...y)=>this.produceWithPatches(h,g=>n(g,...y));let i,a;return[this.produce(n,r,(h,y)=>{i=h,a=y}),i,a]},gw(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),gw(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),gw(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ao(e)||po(8),Xl(e)&&(e=Eo(e));const n=h4(this),r=K2(n,e,void 0);return r[Qa].isManual_=!0,G2(n),r}finishDraft(e,n){const r=e&&e[Qa];(!r||!r.isManual_)&&po(9);const{scope_:i}=r;return d4(i,n),m4(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=uf(q2).applyPatches_;return Xl(e)?i(e,n):this.produce(e,a=>i(a,n))}};function K2(t,e,n,r){const[i,a]=Iy(e)?uf(c1).proxyMap_(e,n):Oy(e)?uf(c1).proxySet_(e,n):Ite(e,n);return(n?.scope_??_5()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Cte(n,a,r):a.callbacks_.push(function(y){y.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:g}=y;a.modified_&&g&&g.generatePatches_(a,[],y)}),i}function Eo(t){return Xl(t)||po(10,t),I5(t)}function I5(t){if(!Ao(t)||Ny(t))return t;const e=t[Qa];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=z2(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=z2(t,!0);return Cy(n,(i,a)=>{u1(n,i,I5(a))},r),e&&(e.finalized_=!1),n}var Rte=new Nte,O5=Rte.produce;function N5(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Pte=N5(),Dte=N5,Mte=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?s1:s1.apply(null,arguments)};function io(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ms(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>x5(r)&&r.type===t,n}var R5=class r0 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,r0.prototype)}static get[Symbol.species](){return r0}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new r0(...e[0].concat(this)):new r0(...e.concat(this))}};function p4(t){return Ao(t)?O5(t,()=>{}):t}function qg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function kte(t){return typeof t=="boolean"}var jte=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let c=new R5;return n&&(kte(n)?c.push(Pte):c.push(Dte(n.extraArgument))),c},P5="RTK_autoBatch",qr=()=>t=>({payload:t,meta:{[P5]:!0}}),y4=t=>e=>{setTimeout(e,t)},D5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,c=!1;const h=new Set,y=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:y4(10):t.type==="callback"?t.queueNotification:y4(t.timeout),g=()=>{c=!1,a&&(a=!1,h.forEach(w=>w()))};return Object.assign({},r,{subscribe(w){const A=()=>i&&w(),I=r.subscribe(A);return h.add(w),()=>{I(),h.delete(w)}},dispatch(w){try{return i=!w?.meta?.[P5],a=!i,a&&(c||(c=!0,y(g))),r.dispatch(w)}finally{i=!0}}})},Lte=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new R5(t);return r&&i.push(D5(typeof r=="object"?r:void 0)),i};function Bte(t){const e=jte(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:c=void 0}=t||{};let h;if(typeof n=="function")h=n;else if(K_(n))h=v5(n);else throw new Error(Ms(1));let y;typeof r=="function"?y=r(e):y=e();let g=s1;i&&(g=Mte({trace:!1,...typeof i=="object"&&i}));const w=yte(...y),A=Lte(w);let I=typeof c=="function"?c(A):A();const R=g(...I);return y5(h,a,R)}function M5(t){const e={},n=[];let r;const i={addCase(a,c){const h=typeof a=="string"?a:a.type;if(!h)throw new Error(Ms(28));if(h in e)throw new Error(Ms(29));return e[h]=c,i},addAsyncThunk(a,c){return c.pending&&(e[a.pending.type]=c.pending),c.rejected&&(e[a.rejected.type]=c.rejected),c.fulfilled&&(e[a.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:a.settled,reducer:c.settled}),i},addMatcher(a,c){return n.push({matcher:a,reducer:c}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Fte(t){return typeof t=="function"}function Ute(t,e){let[n,r,i]=M5(e),a;if(Fte(t))a=()=>p4(t());else{const h=p4(t);a=()=>h}function c(h=a(),y){let g=[n[y.type],...r.filter(({matcher:w})=>w(y)).map(({reducer:w})=>w)];return g.filter(w=>!!w).length===0&&(g=[i]),g.reduce((w,A)=>{if(A)if(Xl(w)){const R=A(w,y);return R===void 0?w:R}else{if(Ao(w))return O5(w,I=>A(I,y));{const I=A(w,y);if(I===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return I}}return w},h)}return c.getInitialState=a,c}var Vte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zte=(t=21)=>{let e="",n=t;for(;n--;)e+=Vte[Math.random()*64|0];return e},qte=Symbol.for("rtk-slice-createasyncthunk");function Hte(t,e){return`${t}/${e}`}function Gte({creators:t}={}){const e=t?.asyncThunk?.[qte];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Ms(11));const c=(typeof r.reducers=="function"?r.reducers(Kte()):r.reducers)||{},h=Object.keys(c),y={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(W,ne){const fe=typeof W=="string"?W:W.type;if(!fe)throw new Error(Ms(12));if(fe in y.sliceCaseReducersByType)throw new Error(Ms(13));return y.sliceCaseReducersByType[fe]=ne,g},addMatcher(W,ne){return y.sliceMatchers.push({matcher:W,reducer:ne}),g},exposeAction(W,ne){return y.actionCreators[W]=ne,g},exposeCaseReducer(W,ne){return y.sliceCaseReducersByName[W]=ne,g}};h.forEach(W=>{const ne=c[W],fe={reducerName:W,type:Hte(i,W),createNotation:typeof r.reducers=="function"};$te(ne)?Zte(fe,ne,g,e):Yte(fe,ne,g)});function w(){const[W={},ne=[],fe=void 0]=typeof r.extraReducers=="function"?M5(r.extraReducers):[r.extraReducers],Q={...W,...y.sliceCaseReducersByType};return Ute(r.initialState,U=>{for(let $ in Q)U.addCase($,Q[$]);for(let $ of y.sliceMatchers)U.addMatcher($.matcher,$.reducer);for(let $ of ne)U.addMatcher($.matcher,$.reducer);fe&&U.addDefaultCase(fe)})}const A=W=>W,I=new Map,R=new WeakMap;let j;function k(W,ne){return j||(j=w()),j(W,ne)}function L(){return j||(j=w()),j.getInitialState()}function G(W,ne=!1){function fe(U){let $=U[W];return typeof $>"u"&&ne&&($=qg(R,fe,L)),$}function Q(U=A){const $=qg(I,ne,()=>new WeakMap);return qg($,U,()=>{const H={};for(const[ae,ie]of Object.entries(r.selectors??{}))H[ae]=Wte(ie,U,()=>qg(R,U,L),ne);return H})}return{reducerPath:W,getSelectors:Q,get selectors(){return Q(fe)},selectSlice:fe}}const K={name:i,reducer:k,actions:y.actionCreators,caseReducers:y.sliceCaseReducersByName,getInitialState:L,...G(a),injectInto(W,{reducerPath:ne,...fe}={}){const Q=ne??a;return W.inject({reducerPath:Q,reducer:k},fe),{...K,...G(Q,!0)}}};return K}}function Wte(t,e,n,r){function i(a,...c){let h=e(a);return typeof h>"u"&&r&&(h=n()),t(h,...c)}return i.unwrapped=t,i}var xs=Gte();function Kte(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Yte({type:t,reducerName:e,createNotation:n},r,i){let a,c;if("reducer"in r){if(n&&!Xte(r))throw new Error(Ms(17));a=r.reducer,c=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,c?io(t,c):io(t))}function $te(t){return t._reducerDefinitionType==="asyncThunk"}function Xte(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Zte({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ms(18));const{payloadCreator:a,fulfilled:c,pending:h,rejected:y,settled:g,options:w}=n,A=i(t,a,w);r.exposeAction(e,A),c&&r.addCase(A.fulfilled,c),h&&r.addCase(A.pending,h),y&&r.addCase(A.rejected,y),g&&r.addMatcher(A.settled,g),r.exposeCaseReducer(e,{fulfilled:c||Hg,pending:h||Hg,rejected:y||Hg,settled:g||Hg})}function Hg(){}var Qte="task",k5="listener",j5="completed",Z_="cancelled",Jte=`task-${Z_}`,ene=`task-${j5}`,Y2=`${k5}-${Z_}`,tne=`${k5}-${j5}`,Py=class{constructor(t){this.code=t,this.message=`${Qte} ${Z_} (reason: ${t})`}name="TaskAbortError";message},Q_=(t,e)=>{if(typeof t!="function")throw new TypeError(Ms(32))},h1=()=>{},L5=(t,e=h1)=>(t.catch(e),t),B5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Hc=t=>{if(t.aborted)throw new Py(t.reason)};function F5(t,e){let n=h1;return new Promise((r,i)=>{const a=()=>i(new Py(t.reason));if(t.aborted){a();return}n=B5(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=h1})}var nne=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Py?"cancelled":"rejected",error:n}}finally{e?.()}},m1=t=>e=>L5(F5(t,e).then(n=>(Hc(t),n))),U5=t=>{const e=m1(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:xd}=Object,v4={},Dy="listenerMiddleware",rne=(t,e)=>{const n=r=>B5(t,()=>r.abort(t.reason));return(r,i)=>{Q_(r);const a=new AbortController;n(a);const c=nne(async()=>{Hc(t),Hc(a.signal);const h=await r({pause:m1(a.signal),delay:U5(a.signal),signal:a.signal});return Hc(a.signal),h},()=>a.abort(ene));return i?.autoJoin&&e.push(c.catch(h1)),{result:m1(t)(c),cancel(){a.abort(Jte)}}}},ine=(t,e)=>{const n=async(r,i)=>{Hc(e);let a=()=>{};const h=[new Promise((y,g)=>{let w=t({predicate:r,effect:(A,I)=>{I.unsubscribe(),y([A,I.getState(),I.getOriginalState()])}});a=()=>{w(),g()}})];i!=null&&h.push(new Promise(y=>setTimeout(y,i,null)));try{const y=await F5(e,Promise.race(h));return Hc(e),y}finally{a()}};return(r,i)=>L5(n(r,i))},V5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=io(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ms(21));return Q_(a),{predicate:i,type:e,effect:a}},z5=xd(t=>{const{type:e,predicate:n,effect:r}=V5(t);return{id:zte(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ms(22))}}},{withTypes:()=>z5}),x4=(t,e)=>{const{type:n,effect:r,predicate:i}=V5(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},$2=t=>{t.pending.forEach(e=>{e.abort(Y2)})},ane=(t,e)=>()=>{for(const n of e.keys())$2(n);t.clear()},b4=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},q5=xd(io(`${Dy}/add`),{withTypes:()=>q5}),sne=io(`${Dy}/removeAll`),H5=xd(io(`${Dy}/remove`),{withTypes:()=>H5}),one=(...t)=>{console.error(`${Dy}/error`,...t)},dm=(t={})=>{const e=new Map,n=new Map,r=R=>{const j=n.get(R)??0;n.set(R,j+1)},i=R=>{const j=n.get(R)??1;j===1?n.delete(R):n.set(R,j-1)},{extra:a,onError:c=one}=t;Q_(c);const h=R=>(R.unsubscribe=()=>e.delete(R.id),e.set(R.id,R),j=>{R.unsubscribe(),j?.cancelActive&&$2(R)}),y=R=>{const j=x4(e,R)??z5(R);return h(j)};xd(y,{withTypes:()=>y});const g=R=>{const j=x4(e,R);return j&&(j.unsubscribe(),R.cancelActive&&$2(j)),!!j};xd(g,{withTypes:()=>g});const w=async(R,j,k,L)=>{const G=new AbortController,K=ine(y,G.signal),W=[];try{R.pending.add(G),r(R),await Promise.resolve(R.effect(j,xd({},k,{getOriginalState:L,condition:(ne,fe)=>K(ne,fe).then(Boolean),take:K,delay:U5(G.signal),pause:m1(G.signal),extra:a,signal:G.signal,fork:rne(G.signal,W),unsubscribe:R.unsubscribe,subscribe:()=>{e.set(R.id,R)},cancelActiveListeners:()=>{R.pending.forEach((ne,fe,Q)=>{ne!==G&&(ne.abort(Y2),Q.delete(ne))})},cancel:()=>{G.abort(Y2),R.pending.delete(G)},throwIfCancelled:()=>{Hc(G.signal)}})))}catch(ne){ne instanceof Py||b4(c,ne,{raisedBy:"effect"})}finally{await Promise.all(W),G.abort(tne),i(R),R.pending.delete(G)}},A=ane(e,n);return{middleware:R=>j=>k=>{if(!x5(k))return j(k);if(q5.match(k))return y(k.payload);if(sne.match(k)){A();return}if(H5.match(k))return g(k.payload);let L=R.getState();const G=()=>{if(L===v4)throw new Error(Ms(23));return L};let K;try{if(K=j(k),e.size>0){const W=R.getState(),ne=Array.from(e.values());for(const fe of ne){let Q=!1;try{Q=fe.predicate(k,W,L)}catch(U){Q=!1,b4(c,U,{raisedBy:"predicate"})}Q&&w(fe,k,R,G)}}}finally{L=v4}return K},startListening:y,stopListening:g,clearListeners:A}};function Ms(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var lne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},G5=xs({name:"chartLayout",initialState:lne,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:une,setLayout:cne,setChartSize:fne,setScale:dne}=G5.actions,hne=G5.reducer;function W5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function un(t){return Number.isFinite(t)}function rl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mne(t,e,n){return(e=gne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gne(t){var e=pne(t,"string");return typeof e=="symbol"?e:e+""}function pne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hr(t,e,n){return Zr(t)||Zr(e)?n:ro(e)?of(t,e,n):typeof e=="function"?e(t):n}var yne=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:c,layout:h}=e;if((h==="vertical"||h==="horizontal"&&c==="middle")&&a!=="center"&&vt(t[a]))return ud(ud({},t),{},{[a]:t[a]+(r||0)});if((h==="horizontal"||h==="vertical"&&a==="center")&&c!=="middle"&&vt(t[c]))return ud(ud({},t),{},{[c]:t[c]+(i||0)})}return t},iu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",K5=(t,e,n,r)=>{if(r)return t.map(h=>h.coordinate);var i,a,c=t.map(h=>(h.coordinate===e&&(i=!0),h.coordinate===n&&(a=!0),h.coordinate));return i||c.push(e),a||c.push(n),c},Y5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:c,realScaleType:h,isCategorical:y,categoricalDomain:g,tickCount:w,ticks:A,niceTicks:I,axisType:R}=t;if(!c)return null;var j=h==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,k=i==="category"&&c.bandwidth?c.bandwidth()/j:0;if(k=R==="angleAxis"&&a&&a.length>=2?ta(a[0]-a[1])*2*k:k,A||I){var L=(A||I||[]).map((G,K)=>{var W=r?r.indexOf(G):G,ne=c.map(W);return un(ne)?{coordinate:ne+k,value:G,offset:k,index:K}:null}).filter(ps);return L}return y&&g?g.map((G,K)=>{var W=c.map(G);return un(W)?{coordinate:W+k,value:G,index:K,offset:k}:null}).filter(ps):c.ticks&&w!=null?c.ticks(w).map((G,K)=>{var W=c.map(G);return un(W)?{coordinate:W+k,value:G,index:K,offset:k}:null}).filter(ps):c.domain().map((G,K)=>{var W=c.map(G);return un(W)?{coordinate:W+k,value:r?r[G]:G,index:K,offset:k}:null}).filter(ps)},vne=(t,e)=>{if(!e||e.length!==2||!vt(e[0])||!vt(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!vt(t[0])||t[0]<n)&&(i[0]=n),(!vt(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},xne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,c=0,h=0;h<n;++h){var y=t[h],g=y?.[i];if(g!=null){var w=g[1],A=g[0],I=nl(w)?A:w;I>=0?(g[0]=a,a+=I,g[1]=a):(g[0]=c,c+=I,g[1]=c)}}}},bne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,c=0;c<n;++c){var h=t[c],y=h?.[i];if(y!=null){var g=nl(y[1])?y[0]:y[1];g>=0?(y[0]=a,a+=g,y[1]=a):(y[0]=0,y[1]=0)}}}},wne={sign:xne,expand:$J,none:sf,silhouette:XJ,wiggle:ZJ,positive:bne},Ene=(t,e,n)=>{var r,i=(r=wne[n])!==null&&r!==void 0?r:sf,a=YJ().keys(e).value((h,y)=>Number(hr(h,y,0))).order(B2).offset(i),c=a(t);return c.forEach((h,y)=>{h.forEach((g,w)=>{var A=hr(t[w],e[y],0);Array.isArray(A)&&A.length===2&&vt(A[0])&&vt(A[1])&&(g[0]=A[0],g[1]=A[1])})}),c};function _ne(t){return t==null?void 0:String(t)}function E4(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:c}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Zr(i[e.dataKey])){var h=t5(n,"value",i[e.dataKey]);if(h)return h.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var y=hr(i,Zr(c)?e.dataKey:c),g=e.scale.map(y);return vt(g)?g:null}var _4=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var h=hr(a,e.dataKey,e.scale.domain()[c]);if(Zr(h))return null;var y=e.scale.map(h);return vt(y)?y-i/2+r:null},Ane=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Sne=t=>{var e=t.flat(2).filter(vt);return[Math.min(...e),Math.max(...e)]},Cne=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Tne=(t,e,n)=>{if(t!=null)return Cne(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:c}=a,h=c.reduce((y,g)=>{var w=W5(g,e,n),A=Sne(w);return!un(A[0])||!un(A[1])?y:[Math.min(y[0],A[0]),Math.max(y[1],A[1])]},[1/0,-1/0]);return[Math.min(h[0],r[0]),Math.max(h[1],r[1])]},[1/0,-1/0]))},A4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,S4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Od=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Ay(e,w=>w.coordinate),a=1/0,c=1,h=i.length;c<h;c++){var y=i[c],g=i[c-1];a=Math.min((y?.coordinate||0)-(g?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function C4(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return ud(ud({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Wd(t,e){if(t)return String(t);if(typeof e=="string")return e}var Ine=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},One=(t,e)=>e==="centric"?t.angle:t.radius,au=t=>t.layout.width,su=t=>t.layout.height,Nne=t=>t.layout.scale,$5=t=>t.layout.margin,My=Te(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),ky=Te(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),X5="data-recharts-item-index",Z5="data-recharts-item-id",hm=60;function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(r){Rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rne(t,e,n){return(e=Pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Dne(t,"string");return typeof e=="symbol"?e:e+""}function Dne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mne=t=>t.brush.height;function kne(t){var e=ky(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hm;return n+i}return n},0)}function jne(t){var e=ky(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hm;return n+i}return n},0)}function Lne(t){var e=My(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Bne(t){var e=My(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Vi=Te([au,su,$5,Mne,kne,jne,Lne,Bne,p5,fte],(t,e,n,r,i,a,c,h,y,g)=>{var w={left:(n.left||0)+i,right:(n.right||0)+a},A={top:(n.top||0)+c,bottom:(n.bottom||0)+h},I=Gg(Gg({},A),w),R=I.bottom;I.bottom+=r,I=yne(I,y,g);var j=t-I.left-I.right,k=e-I.top-I.bottom;return Gg(Gg({brushBottom:R},I),{},{width:Math.max(j,0),height:Math.max(k,0)})}),Fne=Te(Vi,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),J_=Te(au,su,(t,e)=>({x:0,y:0,width:t,height:e})),Une=D.createContext(null),_a=()=>D.useContext(Une)!=null,jy=t=>t.brush,Ly=Te([jy,Vi,$5],(t,e,n)=>({height:t.height,x:vt(t.x)?t.x:e.left,y:vt(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:vt(t.width)?t.width:e.width})),yw={},vw={},xw={},I4;function Vne(){return I4||(I4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let c,h=null;const y=a!=null&&a.includes("leading"),g=a==null||a.includes("trailing"),w=()=>{h!==null&&(n.apply(c,h),c=void 0,h=null)},A=()=>{g&&w(),k()};let I=null;const R=()=>{I!=null&&clearTimeout(I),I=setTimeout(()=>{I=null,A()},r)},j=()=>{I!==null&&(clearTimeout(I),I=null)},k=()=>{j(),c=void 0,h=null},L=()=>{w()},G=function(...K){if(i?.aborted)return;c=this,h=K;const W=I==null;R(),y&&W&&w()};return G.schedule=R,G.cancel=k,G.flush=L,i?.addEventListener("abort",k,{once:!0}),G}t.debounce=e})(xw)),xw}var O4;function zne(){return O4||(O4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vne();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:c=!1,trailing:h=!0,maxWait:y}=a,g=Array(2);c&&(g[0]="leading"),h&&(g[1]="trailing");let w,A=null;const I=e.debounce(function(...k){w=r.apply(this,k),A=null},i,{edges:g}),R=function(...k){return y!=null&&(A===null&&(A=Date.now()),Date.now()-A>=y)?(w=r.apply(this,k),A=Date.now(),I.cancel(),I.schedule(),w):(I.apply(this,k),w)},j=()=>(I.flush(),w);return R.cancel=I.cancel,R.flush=j,R}t.debounce=n})(vw)),vw}var N4;function qne(){return N4||(N4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zne();function n(r,i=0,a={}){const{leading:c=!0,trailing:h=!0}=a;return e.debounce(r,i,{leading:c,maxWait:i,trailing:h})}t.throttle=n})(yw)),yw}var bw,R4;function Hne(){return R4||(R4=1,bw=qne().throttle),bw}var Gne=Hne();const Wne=al(Gne);var g1=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>i[c++]))}},Wo={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},Q5=(t,e,n)=>{var{width:r=Wo.width,height:i=Wo.height,aspect:a,maxHeight:c}=n,h=lf(r)?t:Number(r),y=lf(i)?e:Number(i);return a&&a>0&&(h?y=h/a:y&&(h=y*a),c&&y!=null&&y>c&&(y=c)),{calculatedWidth:h,calculatedHeight:y}},Kne={width:0,height:0,overflow:"visible"},Yne={width:0,overflowX:"visible"},$ne={height:0,overflowY:"visible"},Xne={},Zne=t=>{var{width:e,height:n}=t,r=lf(e),i=lf(n);return r&&i?Kne:r?Yne:i?$ne:Xne};function Qne(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i=Wo.width,a=Wo.height):i===void 0?i=r&&r>0?void 0:Wo.width:a===void 0&&(a=r&&r>0?void 0:Wo.height),{width:i,height:a}}function X2(){return X2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X2.apply(null,arguments)}function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){Jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jne(t,e,n){return(e=ere(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ere(t){var e=tre(t,"string");return typeof e=="symbol"?e:e+""}function tre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J5=D.createContext(Wo.initialDimension);function nre(t){return rl(t.width)&&rl(t.height)}function e9(t){var{children:e,width:n,height:r}=t,i=D.useMemo(()=>({width:n,height:r}),[n,r]);return nre(i)?D.createElement(J5.Provider,{value:i},e):null}var eA=()=>D.useContext(J5),rre=D.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Wo.initialDimension,width:i,height:a,minWidth:c=Wo.minWidth,minHeight:h,maxHeight:y,children:g,debounce:w=Wo.debounce,id:A,className:I,onResize:R,style:j={}}=t,k=D.useRef(null),L=D.useRef();L.current=R,D.useImperativeHandle(e,()=>k.current);var[G,K]=D.useState({containerWidth:r.width,containerHeight:r.height}),W=D.useCallback(($,H)=>{K(ae=>{var ie=Math.round($),Z=Math.round(H);return ae.containerWidth===ie&&ae.containerHeight===Z?ae:{containerWidth:ie,containerHeight:Z}})},[]);D.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return bf;var $=Z=>{var J,Be=Z[0];if(Be!=null){var{width:pe,height:ve}=Be.contentRect;W(pe,ve),(J=L.current)===null||J===void 0||J.call(L,pe,ve)}};w>0&&($=Wne($,w,{trailing:!0,leading:!1}));var H=new ResizeObserver($),{width:ae,height:ie}=k.current.getBoundingClientRect();return W(ae,ie),H.observe(k.current),()=>{H.disconnect()}},[W,w]);var{containerWidth:ne,containerHeight:fe}=G;g1(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:Q,calculatedHeight:U}=Q5(ne,fe,{width:i,height:a,aspect:n,maxHeight:y});return g1(Q!=null&&Q>0||U!=null&&U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,U,i,a,c,h,n),D.createElement("div",{id:A?"".concat(A):void 0,className:Vn("recharts-responsive-container",I),style:D4(D4({},j),{},{width:i,height:a,minWidth:c,minHeight:h,maxHeight:y}),ref:k},D.createElement("div",{style:Zne({width:i,height:a})},D.createElement(e9,{width:Q,height:U},g)))}),i0=D.forwardRef((t,e)=>{var n=eA();if(rl(n.width)&&rl(n.height))return t.children;var{width:r,height:i}=Qne({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:c}=Q5(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return vt(a)&&vt(c)?D.createElement(e9,{width:a,height:c},t.children):D.createElement(rre,X2({},t,{width:r,height:i,ref:e}))});function tA(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var mm=()=>{var t,e=_a(),n=xt(Fne),r=xt(Ly),i=(t=xt(jy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},ire={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},t9=()=>{var t;return(t=xt(Vi))!==null&&t!==void 0?t:ire},n9=()=>xt(au),r9=()=>xt(su),qn=t=>t.layout.layoutType,wf=()=>xt(qn),i9=()=>{var t=wf();if(t==="horizontal"||t==="vertical")return t},a9=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},are=()=>{var t=wf();return t!==void 0},gm=t=>{var e=Mr(),n=_a(),{width:r,height:i}=t,a=eA(),c=r,h=i;return a&&(c=a.width>0?a.width:r,h=a.height>0?a.height:i),D.useEffect(()=>{!n&&rl(c)&&rl(h)&&e(fne({width:c,height:h}))},[e,n,c,h]),null},s9=Symbol.for("immer-nothing"),M4=Symbol.for("immer-draftable"),js=Symbol.for("immer-state");function yo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var k0=Object.getPrototypeOf;function Nd(t){return!!t&&!!t[js]}function cf(t){return t?o9(t)||Array.isArray(t)||!!t[M4]||!!t.constructor?.[M4]||pm(t)||Fy(t):!1}var sre=Object.prototype.constructor.toString(),k4=new WeakMap;function o9(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=k4.get(n);return r===void 0&&(r=Function.toString.call(n),k4.set(n,r)),r===sre}function p1(t,e,n=!0){By(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function By(t){const e=t[js];return e?e.type_:Array.isArray(t)?1:pm(t)?2:Fy(t)?3:0}function Z2(t,e){return By(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function l9(t,e,n){const r=By(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function ore(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function pm(t){return t instanceof Map}function Fy(t){return t instanceof Set}function kc(t){return t.copy_||t.base_}function Q2(t,e){if(pm(t))return new Map(t);if(Fy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=o9(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[js];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const c=i[a],h=r[c];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[c]={configurable:!0,writable:!0,enumerable:h.enumerable,value:t[c]})}return Object.create(k0(t),r)}else{const r=k0(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function nA(t,e=!1){return Uy(t)||Nd(t)||!cf(t)||(By(t)>1&&Object.defineProperties(t,{set:Wg,add:Wg,clear:Wg,delete:Wg}),Object.freeze(t),e&&Object.values(t).forEach(n=>nA(n,!0))),t}function lre(){yo(2)}var Wg={value:lre};function Uy(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var ure={};function ff(t){const e=ure[t];return e||yo(0,t),e}var j0;function u9(){return j0}function cre(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function j4(t,e){e&&(ff("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function J2(t){eE(t),t.drafts_.forEach(fre),t.drafts_=null}function eE(t){t===j0&&(j0=t.parent_)}function L4(t){return j0=cre(j0,t)}function fre(t){const e=t[js];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function B4(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[js].modified_&&(J2(e),yo(4)),cf(t)&&(t=y1(e,t),e.parent_||v1(e,t)),e.patches_&&ff("Patches").generateReplacementPatches_(n[js].base_,t,e.patches_,e.inversePatches_)):t=y1(e,n,[]),J2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==s9?t:void 0}function y1(t,e,n){if(Uy(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[js];if(!i)return p1(e,(a,c)=>F4(t,i,e,a,c,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return v1(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let c=a,h=!1;i.type_===3&&(c=new Set(a),a.clear(),h=!0),p1(c,(y,g)=>F4(t,i,a,y,g,n,h),r),v1(t,a,!1),n&&t.patches_&&ff("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function F4(t,e,n,r,i,a,c){if(i==null||typeof i!="object"&&!c)return;const h=Uy(i);if(!(h&&!c)){if(Nd(i)){const y=a&&e&&e.type_!==3&&!Z2(e.assigned_,r)?a.concat(r):void 0,g=y1(t,i,y);if(l9(n,r,g),Nd(g))t.canAutoFreeze_=!1;else return}else c&&n.add(i);if(cf(i)&&!h){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&h)return;y1(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(pm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&v1(t,i)}}}function v1(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&nA(e,n)}function dre(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:u9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=rA;n&&(i=[r],a=L0);const{revoke:c,proxy:h}=Proxy.revocable(i,a);return r.draft_=h,r.revoke_=c,h}var rA={get(t,e){if(e===js)return t;const n=kc(t);if(!Z2(n,e))return hre(t,n,e);const r=n[e];return t.finalized_||!cf(r)?r:r===ww(t.base_,e)?(Ew(t),t.copy_[e]=nE(r,t)):r},has(t,e){return e in kc(t)},ownKeys(t){return Reflect.ownKeys(kc(t))},set(t,e,n){const r=c9(kc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=ww(kc(t),e),a=i?.[js];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(ore(n,i)&&(n!==void 0||Z2(t.base_,e)))return!0;Ew(t),tE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return ww(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Ew(t),tE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=kc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){yo(11)},getPrototypeOf(t){return k0(t.base_)},setPrototypeOf(){yo(12)}},L0={};p1(rA,(t,e)=>{L0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});L0.deleteProperty=function(t,e){return L0.set.call(this,t,e,void 0)};L0.set=function(t,e,n){return rA.set.call(this,t[0],e,n,t[0])};function ww(t,e){const n=t[js];return(n?kc(n):t)[e]}function hre(t,e,n){const r=c9(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function c9(t,e){if(!(e in t))return;let n=k0(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=k0(n)}}function tE(t){t.modified_||(t.modified_=!0,t.parent_&&tE(t.parent_))}function Ew(t){t.copy_||(t.copy_=Q2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var mre=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const c=this;return function(y=a,...g){return c.produce(y,w=>n.call(this,w,...g))}}typeof n!="function"&&yo(6),r!==void 0&&typeof r!="function"&&yo(7);let i;if(cf(e)){const a=L4(this),c=nE(e,void 0);let h=!0;try{i=n(c),h=!1}finally{h?J2(a):eE(a)}return j4(a,r),B4(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===s9&&(i=void 0),this.autoFreeze_&&nA(i,!0),r){const a=[],c=[];ff("Patches").generateReplacementPatches_(e,i,a,c),r(a,c)}return i}else yo(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...h)=>this.produceWithPatches(c,y=>e(y,...h));let r,i;return[this.produce(e,n,(c,h)=>{r=c,i=h}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){cf(t)||yo(8),Nd(t)&&(t=gre(t));const e=L4(this),n=nE(t,void 0);return n[js].isManual_=!0,eE(e),n}finishDraft(t,e){const n=t&&t[js];(!n||!n.isManual_)&&yo(9);const{scope_:r}=n;return j4(r,e),B4(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ff("Patches").applyPatches_;return Nd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function nE(t,e){const n=pm(t)?ff("MapSet").proxyMap_(t,e):Fy(t)?ff("MapSet").proxySet_(t,e):dre(t,e);return(e?e.scope_:u9()).drafts_.push(n),n}function gre(t){return Nd(t)||yo(10,t),f9(t)}function f9(t){if(!cf(t)||Uy(t))return t;const e=t[js];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Q2(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Q2(t,!0);return p1(n,(i,a)=>{l9(n,i,f9(a))},r),e&&(e.finalized_=!1),n}var pre=new mre;pre.produce;var yre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},d9=xs({name:"legend",initialState:yre,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:qr()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Eo(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:qr()},removeLegendPayload:{reducer(t,e){var n=Eo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:qr()}}}),{setLegendSize:iye,setLegendSettings:aye,addLegendPayload:h9,replaceLegendPayload:m9,removeLegendPayload:g9}=d9.actions,vre=d9.reducer;function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(null,arguments)}function U4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(n),!0).forEach(function(r){xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xre(t,e,n){return(e=bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bre(t){var e=wre(t,"string");return typeof e=="symbol"?e:e+""}function wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ere(t){return Array.isArray(t)&&ro(t[0])&&ro(t[1])?t.join(" ~ "):t}var Qf={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},_re=t=>{var{separator:e=Qf.separator,contentStyle:n,itemStyle:r,labelStyle:i=Qf.labelStyle,payload:a,formatter:c,itemSorter:h,wrapperClassName:y,labelClassName:g,label:w,labelFormatter:A,accessibilityLayer:I=Qf.accessibilityLayer}=t,R=()=>{if(a&&a.length){var fe={padding:0,margin:0},Q=(h?Ay(a,h):a).map((U,$)=>{if(U.type==="none")return null;var H=U.formatter||c||Ere,{value:ae,name:ie}=U,Z=ae,J=ie;if(H){var Be=H(ae,ie,U,$,a);if(Array.isArray(Be))[Z,J]=Be;else if(Be!=null)Z=Be;else return null}var pe=Fh(Fh({},Qf.itemStyle),{},{color:U.color||Qf.itemStyle.color},r);return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:pe},ro(J)?D.createElement("span",{className:"recharts-tooltip-item-name"},J):null,ro(J)?D.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,D.createElement("span",{className:"recharts-tooltip-item-value"},Z),D.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:fe},Q)}return null},j=Fh(Fh({},Qf.contentStyle),n),k=Fh({margin:0},i),L=!Zr(w),G=L?w:"",K=Vn("recharts-default-tooltip",y),W=Vn("recharts-tooltip-label",g);L&&A&&a!==void 0&&a!==null&&(G=A(w,a));var ne=I?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",rE({className:K,style:j},ne),D.createElement("p",{className:W,style:k},D.isValidElement(G)?G:"".concat(G)),R())},Uh="recharts-tooltip-wrapper",Are={visibility:"hidden"};function Sre(t){var{coordinate:e,translateX:n,translateY:r}=t;return Vn(Uh,{["".concat(Uh,"-right")]:vt(n)&&e&&vt(e.x)&&n>=e.x,["".concat(Uh,"-left")]:vt(n)&&e&&vt(e.x)&&n<e.x,["".concat(Uh,"-bottom")]:vt(r)&&e&&vt(e.y)&&r>=e.y,["".concat(Uh,"-top")]:vt(r)&&e&&vt(e.y)&&r<e.y})}function V4(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:a,reverseDirection:c,tooltipDimension:h,viewBox:y,viewBoxDimension:g}=t;if(a&&vt(a[r]))return a[r];var w=n[r]-h-(i>0?i:0),A=n[r]+i;if(e[r])return c[r]?w:A;var I=y[r];if(I==null)return 0;if(c[r]){var R=w,j=I;return R<j?Math.max(A,I):Math.max(w,I)}if(g==null)return 0;var k=A+h,L=I+g;return k>L?Math.max(w,I):Math.max(A,I)}function Cre(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Tre(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:c,tooltipBox:h,useTranslate3d:y,viewBox:g}=t,w,A,I;return h.height>0&&h.width>0&&n?(A=V4({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:a,reverseDirection:c,tooltipDimension:h.width,viewBox:g,viewBoxDimension:g.width}),I=V4({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:a,reverseDirection:c,tooltipDimension:h.height,viewBox:g,viewBoxDimension:g.height}),w=Cre({translateX:A,translateY:I,useTranslate3d:y})):w=Are,{cssProperties:w,cssClasses:Sre({translateX:A,translateY:I,coordinate:n})}}function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){iE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iE(t,e,n){return(e=Ire(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Ore(t,"string");return typeof e=="symbol"?e:e+""}function Ore(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Nre extends D.PureComponent{constructor(){super(...arguments),iE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),iE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:c,hasPayload:h,isAnimationActive:y,offset:g,position:w,reverseDirection:A,useTranslate3d:I,viewBox:R,wrapperStyle:j,lastBoundingBox:k,innerRef:L,hasPortalFromProps:G}=this.props,K=typeof g=="number"?g:g.x,W=typeof g=="number"?g:g.y,{cssClasses:ne,cssProperties:fe}=Tre({allowEscapeViewBox:n,coordinate:c,offsetLeft:K,offsetTop:W,position:w,reverseDirection:A,tooltipBox:{height:k.height,width:k.width},useTranslate3d:I,viewBox:R}),Q=G?{}:Kg(Kg({transition:y&&e?"transform ".concat(r,"ms ").concat(i):void 0},fe),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&h?"visible":"hidden",position:"absolute",top:0,left:0}),U=Kg(Kg({},Q),{},{visibility:!this.state.dismissed&&e&&h?"visible":"hidden"},j);return D.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:ne,style:U,ref:L},a)}}var p9=()=>{var t;return(t=xt(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aE.apply(null,arguments)}function q4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q4(Object(n),!0).forEach(function(r){Rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rre(t,e,n){return(e=Pre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pre(t){var e=Dre(t,"string");return typeof e=="symbol"?e:e+""}function Dre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G4={curveBasisClosed:LJ,curveBasisOpen:BJ,curveBasis:jJ,curveBumpX:EJ,curveBumpY:_J,curveLinearClosed:FJ,curveLinear:wy,curveMonotoneX:UJ,curveMonotoneY:VJ,curveNatural:zJ,curveStep:qJ,curveStepAfter:GJ,curveStepBefore:HJ},x1=t=>un(t.x)&&un(t.y),W4=t=>t.base!=null&&x1(t.base)&&x1(t),Vh=t=>t.x,zh=t=>t.y,Mre=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(cm(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=G4["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return G4[n]||wy},K4={connectNulls:!1,type:"linear"},kre=t=>{var{type:e=K4.type,points:n=[],baseLine:r,layout:i,connectNulls:a=K4.connectNulls}=t,c=Mre(e,i),h=a?n.filter(x1):n;if(Array.isArray(r)){var y,g=n.map((j,k)=>H4(H4({},j),{},{base:r[k]}));i==="vertical"?y=Fg().y(zh).x1(Vh).x0(j=>j.base.x):y=Fg().x(Vh).y1(zh).y0(j=>j.base.y);var w=y.defined(W4).curve(c),A=a?g.filter(W4):g;return w(A)}var I;i==="vertical"&&vt(r)?I=Fg().y(zh).x1(Vh).x0(r):vt(r)?I=Fg().x(Vh).y1(zh).y0(r):I=zk().x(Vh).y(zh);var R=I.defined(x1).curve(c);return R(h)},iA=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=wf();if((!n||!n.length)&&!r)return null;var c={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},h=n&&n.length?kre(c):r;return D.createElement("path",aE({},ks(t),q_(t),{className:Vn("recharts-curve",e),d:h===null?void 0:h,ref:i}))},jre=["x","y","top","left","width","height","className"];function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE.apply(null,arguments)}function Y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(n),!0).forEach(function(r){Bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bre(t,e,n){return(e=Fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=Ure(t,"string");return typeof e=="symbol"?e:e+""}function Ure(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vre(t,e){if(t==null)return{};var n,r,i=zre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qre=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Hre=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:c=0,className:h}=t,y=Vre(t,jre),g=Lre({x:e,y:n,top:r,left:i,width:a,height:c},y);return!vt(e)||!vt(n)||!vt(a)||!vt(c)||!vt(r)||!vt(i)?null:D.createElement("path",sE({},Ha(g),{className:Vn("recharts-cross",h),d:qre(e,n,a,c,r,i)}))};function Gre(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){Wre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wre(t,e,n){return(e=Kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t){var e=Yre(t,"string");return typeof e=="symbol"?e:e+""}function Yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $re=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),y9=(t,e,n)=>t.map(r=>"".concat($re(r)," ").concat(e,"ms ").concat(n)).join(","),Xre=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),B0=(t,e)=>Object.keys(e).reduce((n,r)=>X4(X4({},n),{},{[r]:t(r,e[r])}),{});function Z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(n),!0).forEach(function(r){Zre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zre(t,e,n){return(e=Qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Jre(t,"string");return typeof e=="symbol"?e:e+""}function Jre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b1=(t,e,n)=>t+(e-t)*n,oE=t=>{var{from:e,to:n}=t;return e!==n},v9=(t,e,n)=>{var r=B0((i,a)=>{if(oE(a)){var[c,h]=t(a.from,a.to,a.velocity);return ki(ki({},a),{},{from:c,velocity:h})}return a},e);return n<1?B0((i,a)=>oE(a)&&r[i]!=null?ki(ki({},a),{},{velocity:b1(a.velocity,r[i].velocity,n),from:b1(a.from,r[i].from,n)}):a,e):v9(t,r,n-1)};function eie(t,e,n,r,i,a){var c,h=r.reduce((I,R)=>ki(ki({},I),{},{[R]:{from:t[R],velocity:0,to:e[R]}}),{}),y=()=>B0((I,R)=>R.from,h),g=()=>!Object.values(h).filter(oE).length,w=null,A=I=>{c||(c=I);var R=I-c,j=R/n.dt;h=v9(n,h,j),i(ki(ki(ki({},t),e),y())),c=I,g()||(w=a.setTimeout(A))};return()=>(w=a.setTimeout(A),()=>{var I;(I=w)===null||I===void 0||I()})}function tie(t,e,n,r,i,a,c){var h=null,y=i.reduce((A,I)=>{var R=t[I],j=e[I];return R==null||j==null?A:ki(ki({},A),{},{[I]:[R,j]})},{}),g,w=A=>{g||(g=A);var I=(A-g)/r,R=B0((k,L)=>b1(...L,n(I)),y);if(a(ki(ki(ki({},t),e),R)),I<1)h=c.setTimeout(w);else{var j=B0((k,L)=>b1(...L,n(1)),y);a(ki(ki(ki({},t),e),j))}};return()=>(h=c.setTimeout(w),()=>{var A;(A=h)===null||A===void 0||A()})}const nie=(t,e,n,r,i,a)=>{var c=Xre(t,e);return n==null?()=>(i(ki(ki({},t),e)),()=>{}):n.isStepper===!0?eie(t,e,n,c,i,a):tie(t,e,n,r,c,i,a)};var w1=1e-4,x9=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],b9=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),Q4=(t,e)=>n=>{var r=x9(t,e);return b9(r,n)},rie=(t,e)=>n=>{var r=x9(t,e),i=[...r.map((a,c)=>a*c).slice(1),0];return b9(i,n)},iie=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},aie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=iie(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},sie=(t,e,n,r)=>{var i=Q4(t,n),a=Q4(e,r),c=rie(t,n),h=g=>g>1?1:g<0?0:g,y=g=>{for(var w=g>1?1:g,A=w,I=0;I<8;++I){var R=i(A)-w,j=c(A);if(Math.abs(R-w)<w1||j<w1)return a(A);A=h(A-R/j)}return a(A)};return y.isStepper=!1,y},J4=function(){return sie(...aie(...arguments))},oie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(c,h,y)=>{var g=-(c-h)*n,w=y*r,A=y+(g-w)*i/1e3,I=y*i/1e3+c;return Math.abs(I-h)<w1&&Math.abs(A)<w1?[h,0]:[I,A]};return a.isStepper=!0,a.dt=i,a},lie=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return J4(t);case"spring":return oie();default:if(t.split("(")[0]==="cubic-bezier")return J4(t)}return typeof t=="function"?t:null};function uie(t){var e,n=()=>null,r=!1,i=null,a=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var h=c,[y,...g]=h;if(typeof y=="number"){i=t.setTimeout(a.bind(null,g),y);return}a(y),i=t.setTimeout(a.bind(null,g));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,i&&(i(),i=null),a(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class cie{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function fie(){return uie(new cie)}var die=D.createContext(fie);function hie(t,e){var n=D.useContext(die);return D.useMemo(()=>e??n(t),[t,e,n])}var mie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vy={isSsr:mie()},gie={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},eR={t:0},_w={t:1};function ym(t){var e=Ui(t,gie),{isActive:n,canBegin:r,duration:i,easing:a,begin:c,onAnimationEnd:h,onAnimationStart:y,children:g}=e,w=n==="auto"?!Vy.isSsr:n,A=hie(e.animationId,e.animationManager),[I,R]=D.useState(w?eR:_w),j=D.useRef(null);return D.useEffect(()=>{w||R(_w)},[w]),D.useEffect(()=>{if(!w||!r)return bf;var k=nie(eR,_w,lie(a),i,R,A.getTimeoutController()),L=()=>{j.current=k()};return A.start([y,c,L,i,h]),()=>{A.stop(),j.current&&j.current(),h()}},[w,r,i,a,c,y,h,A]),g(I.t)}function vm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=D.useRef(R0(e)),r=D.useRef(t);return r.current!==t&&(n.current=R0(e),r.current=t),n.current}var pie=["radius"],yie=["radius"],tR,nR,rR,iR,aR,sR,oR,lR,uR,cR;function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vie(t,e,n){return(e=xie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xie(t){var e=bie(t,"string");return typeof e=="symbol"?e:e+""}function bie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E1.apply(null,arguments)}function hR(t,e){if(t==null)return{};var n,r,i=wie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fo(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var mR=(t,e,n,r,i)=>{var a=Yu(n),c=Yu(r),h=Math.min(Math.abs(a)/2,Math.abs(c)/2),y=c>=0?1:-1,g=a>=0?1:-1,w=c>=0&&a>=0||c<0&&a<0?1:0,A;if(h>0&&Array.isArray(i)){for(var I=[0,0,0,0],R=0,j=4;R<j;R++){var k,L=(k=i[R])!==null&&k!==void 0?k:0;I[R]=L>h?h:L}A=oi(tR||(tR=Fo(["M",",",""])),t,e+y*I[0]),I[0]>0&&(A+=oi(nR||(nR=Fo(["A ",",",",0,0,",",",",",""])),I[0],I[0],w,t+g*I[0],e)),A+=oi(rR||(rR=Fo(["L ",",",""])),t+n-g*I[1],e),I[1]>0&&(A+=oi(iR||(iR=Fo(["A ",",",",0,0,",`,
        `,",",""])),I[1],I[1],w,t+n,e+y*I[1])),A+=oi(aR||(aR=Fo(["L ",",",""])),t+n,e+r-y*I[2]),I[2]>0&&(A+=oi(sR||(sR=Fo(["A ",",",",0,0,",`,
        `,",",""])),I[2],I[2],w,t+n-g*I[2],e+r)),A+=oi(oR||(oR=Fo(["L ",",",""])),t+g*I[3],e+r),I[3]>0&&(A+=oi(lR||(lR=Fo(["A ",",",",0,0,",`,
        `,",",""])),I[3],I[3],w,t,e+r-y*I[3])),A+="Z"}else if(h>0&&i===+i&&i>0){var G=Math.min(h,i);A=oi(uR||(uR=Fo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+y*G,G,G,w,t+g*G,e,t+n-g*G,e,G,G,w,t+n,e+y*G,t+n,e+r-y*G,G,G,w,t+n-g*G,e+r,t+g*G,e+r,G,G,w,t,e+r-y*G)}else A=oi(cR||(cR=Fo(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return A},gR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w9=t=>{var e=Ui(t,gR),n=D.useRef(null),[r,i]=D.useState(-1);D.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Ae=n.current.getTotalLength();Ae&&i(Ae)}catch{}},[]);var{x:a,y:c,width:h,height:y,radius:g,className:w}=e,{animationEasing:A,animationDuration:I,animationBegin:R,isAnimationActive:j,isUpdateAnimationActive:k}=e,L=D.useRef(h),G=D.useRef(y),K=D.useRef(a),W=D.useRef(c),ne=D.useMemo(()=>({x:a,y:c,width:h,height:y,radius:g}),[a,c,h,y,g]),fe=vm(ne,"rectangle-");if(a!==+a||c!==+c||h!==+h||y!==+y||h===0||y===0)return null;var Q=Vn("recharts-rectangle",w);if(!k){var U=Ha(e),{radius:$}=U,H=hR(U,pie);return D.createElement("path",E1({},H,{x:Yu(a),y:Yu(c),width:Yu(h),height:Yu(y),radius:typeof g=="number"?g:void 0,className:Q,d:mR(a,c,h,y,g)}))}var ae=L.current,ie=G.current,Z=K.current,J=W.current,Be="0px ".concat(r===-1?1:r,"px"),pe="".concat(r,"px 0px"),ve=y9(["strokeDasharray"],I,typeof A=="string"?A:gR.animationEasing);return D.createElement(ym,{animationId:fe,key:fe,canBegin:r>0,duration:I,easing:A,isActive:k,begin:R},Ae=>{var We=Hr(ae,h,Ae),Ue=Hr(ie,y,Ae),st=Hr(Z,a,Ae),he=Hr(J,c,Ae);n.current&&(L.current=We,G.current=Ue,K.current=st,W.current=he);var _e;j?Ae>0?_e={transition:ve,strokeDasharray:pe}:_e={strokeDasharray:Be}:_e={strokeDasharray:pe};var Ge=Ha(e),{radius:Fe}=Ge,dt=hR(Ge,yie);return D.createElement("path",E1({},dt,{radius:typeof g=="number"?g:void 0,className:Q,d:mR(st,he,We,Ue,g),ref:n,style:dR(dR({},_e),e.style)}))})};function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){Eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eie(t,e,n){return(e=_ie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ie(t){var e=Aie(t,"string");return typeof e=="symbol"?e:e+""}function Aie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _1=Math.PI/180,Sie=t=>t*180/Math.PI,Oi=(t,e,n,r)=>({x:t+Math.cos(-_1*r)*n,y:e+Math.sin(-_1*r)*n}),E9=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Cie=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Tie=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,c=Cie({x:n,y:r},{x:i,y:a});if(c<=0)return{radius:c,angle:0};var h=(n-i)/c,y=Math.acos(h);return r>a&&(y=2*Math.PI-y),{radius:c,angle:Sie(y),angleInRadian:y}},Iie=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Oie=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),c=Math.min(i,a);return t+c*360},Nie=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=Tie({x:n,y:r},e),{innerRadius:c,outerRadius:h}=e;if(i<c||i>h||i===0)return null;var{startAngle:y,endAngle:g}=Iie(e),w=a,A;if(y<=g){for(;w>g;)w-=360;for(;w<y;)w+=360;A=w>=y&&w<=g}else{for(;w>y;)w-=360;for(;w<g;)w+=360;A=w>=g&&w<=y}return A?yR(yR({},e),{},{radius:i,angle:Oie(w,e)}):null};function _9(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,c=Oi(e,n,r,i),h=Oi(e,n,r,a);return{points:[c,h],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var vR,xR,bR,wR,ER,_R,AR;function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(null,arguments)}function Fc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Rie=(t,e)=>{var n=ta(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Yg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:c,cornerRadius:h,cornerIsExternal:y}=t,g=h*(c?1:-1)+r,w=Math.asin(h/g)/_1,A=y?i:i+a*w,I=Oi(e,n,g,A),R=Oi(e,n,r,A),j=y?i-a*w:i,k=Oi(e,n,g*Math.cos(w*_1),j);return{center:I,circleTangency:R,lineTangency:k,theta:w}},A9=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:c}=t,h=Rie(a,c),y=a+h,g=Oi(e,n,i,a),w=Oi(e,n,i,y),A=oi(vR||(vR=Fc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),g.x,g.y,i,i,+(Math.abs(h)>180),+(a>y),w.x,w.y);if(r>0){var I=Oi(e,n,r,a),R=Oi(e,n,r,y);A+=oi(xR||(xR=Fc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),R.x,R.y,r,r,+(Math.abs(h)>180),+(a<=y),I.x,I.y)}else A+=oi(bR||(bR=Fc(["L ",","," Z"])),e,n);return A},Pie=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:c,cornerIsExternal:h,startAngle:y,endAngle:g}=t,w=ta(g-y),{circleTangency:A,lineTangency:I,theta:R}=Yg({cx:e,cy:n,radius:i,angle:y,sign:w,cornerRadius:a,cornerIsExternal:h}),{circleTangency:j,lineTangency:k,theta:L}=Yg({cx:e,cy:n,radius:i,angle:g,sign:-w,cornerRadius:a,cornerIsExternal:h}),G=h?Math.abs(y-g):Math.abs(y-g)-R-L;if(G<0)return c?oi(wR||(wR=Fc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),I.x,I.y,a,a,a*2,a,a,-a*2):A9({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:y,endAngle:g});var K=oi(ER||(ER=Fc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),I.x,I.y,a,a,+(w<0),A.x,A.y,i,i,+(G>180),+(w<0),j.x,j.y,a,a,+(w<0),k.x,k.y);if(r>0){var{circleTangency:W,lineTangency:ne,theta:fe}=Yg({cx:e,cy:n,radius:r,angle:y,sign:w,isExternal:!0,cornerRadius:a,cornerIsExternal:h}),{circleTangency:Q,lineTangency:U,theta:$}=Yg({cx:e,cy:n,radius:r,angle:g,sign:-w,isExternal:!0,cornerRadius:a,cornerIsExternal:h}),H=h?Math.abs(y-g):Math.abs(y-g)-fe-$;if(H<0&&a===0)return"".concat(K,"L").concat(e,",").concat(n,"Z");K+=oi(_R||(_R=Fc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),U.x,U.y,a,a,+(w<0),Q.x,Q.y,r,r,+(H>180),+(w>0),W.x,W.y,a,a,+(w<0),ne.x,ne.y)}else K+=oi(AR||(AR=Fc(["L",",","Z"])),e,n);return K},Die={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},S9=t=>{var e=Ui(t,Die),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:c,forceCornerRadius:h,cornerIsExternal:y,startAngle:g,endAngle:w,className:A}=e;if(a<i||g===w)return null;var I=Vn("recharts-sector",A),R=a-i,j=za(c,R,0,!0),k;return j>0&&Math.abs(g-w)<360?k=Pie({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(j,R/2),forceCornerRadius:h,cornerIsExternal:y,startAngle:g,endAngle:w}):k=A9({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:g,endAngle:w}),D.createElement("path",lE({},Ha(e),{className:I,d:k}))};function Mie(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(i5(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:c,angle:h}=e,y=Oi(r,i,a,h),g=Oi(r,i,c,h);return[{x:y.x,y:y.y},{x:g.x,y:g.y}]}return _9(e)}}var Aw={},Sw={},Cw={},SR;function kie(){return SR||(SR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m5();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Cw)),Cw}var CR;function jie(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kie();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Sw)),Sw}var TR;function Lie(){return TR||(TR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g5(),n=jie();function r(i,a,c){c&&typeof c!="number"&&e.isIterateeCall(i,a,c)&&(a=c=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),c=c===void 0?i<a?1:-1:n.toFinite(c);const h=Math.max(Math.ceil((a-i)/(c||1)),0),y=new Array(h);for(let g=0;g<h;g++)y[g]=i,i+=c;return y}t.range=r})(Aw)),Aw}var Tw,IR;function Bie(){return IR||(IR=1,Tw=Lie().range),Tw}var Fie=Bie();const C9=al(Fie);function tc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Uie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aA(t){let e,n,r;t.length!==2?(e=tc,n=(h,y)=>tc(t(h),y),r=(h,y)=>t(h)-y):(e=t===tc||t===Uie?t:Vie,n=t,r=t);function i(h,y,g=0,w=h.length){if(g<w){if(e(y,y)!==0)return w;do{const A=g+w>>>1;n(h[A],y)<0?g=A+1:w=A}while(g<w)}return g}function a(h,y,g=0,w=h.length){if(g<w){if(e(y,y)!==0)return w;do{const A=g+w>>>1;n(h[A],y)<=0?g=A+1:w=A}while(g<w)}return g}function c(h,y,g=0,w=h.length){const A=i(h,y,g,w-1);return A>g&&r(h[A-1],y)>-r(h[A],y)?A-1:A}return{left:i,center:c,right:a}}function Vie(){return 0}function T9(t){return t===null?NaN:+t}function*zie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const qie=aA(tc),xm=qie.right;aA(T9).center;class OR extends Map{constructor(e,n=Wie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(NR(this,e))}has(e){return super.has(NR(this,e))}set(e,n){return super.set(Hie(this,e),n)}delete(e){return super.delete(Gie(this,e))}}function NR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Hie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Gie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Wie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Kie(t=tc){if(t===tc)return I9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function I9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Yie=Math.sqrt(50),$ie=Math.sqrt(10),Xie=Math.sqrt(2);function A1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),c=a>=Yie?10:a>=$ie?5:a>=Xie?2:1;let h,y,g;return i<0?(g=Math.pow(10,-i)/c,h=Math.round(t*g),y=Math.round(e*g),h/g<t&&++h,y/g>e&&--y,g=-g):(g=Math.pow(10,i)*c,h=Math.round(t/g),y=Math.round(e/g),h*g<t&&++h,y*g>e&&--y),y<h&&.5<=n&&n<2?A1(t,e,n*2):[h,y,g]}function uE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,c]=r?A1(e,t,n):A1(t,e,n);if(!(a>=i))return[];const h=a-i+1,y=new Array(h);if(r)if(c<0)for(let g=0;g<h;++g)y[g]=(a-g)/-c;else for(let g=0;g<h;++g)y[g]=(a-g)*c;else if(c<0)for(let g=0;g<h;++g)y[g]=(i+g)/-c;else for(let g=0;g<h;++g)y[g]=(i+g)*c;return y}function cE(t,e,n){return e=+e,t=+t,n=+n,A1(t,e,n)[2]}function fE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?cE(e,t,n):cE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function RR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function PR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function O9(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?I9:Kie(i);r>n;){if(r-n>600){const y=r-n+1,g=e-n+1,w=Math.log(y),A=.5*Math.exp(2*w/3),I=.5*Math.sqrt(w*A*(y-A)/y)*(g-y/2<0?-1:1),R=Math.max(n,Math.floor(e-g*A/y+I)),j=Math.min(r,Math.floor(e+(y-g)*A/y+I));O9(t,e,R,j,i)}const a=t[e];let c=n,h=r;for(qh(t,n,e),i(t[r],a)>0&&qh(t,n,r);c<h;){for(qh(t,c,h),++c,--h;i(t[c],a)<0;)++c;for(;i(t[h],a)>0;)--h}i(t[n],a)===0?qh(t,n,h):(++h,qh(t,h,r)),h<=e&&(n=h+1),e<=h&&(r=h-1)}return t}function qh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Zie(t,e,n){if(t=Float64Array.from(zie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return PR(t);if(e>=1)return RR(t);var r,i=(r-1)*e,a=Math.floor(i),c=RR(O9(t,a).subarray(0,a+1)),h=PR(t.subarray(a+1));return c+(h-c)*(i-a)}}function Qie(t,e,n=T9){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),c=+n(t[a],a,t),h=+n(t[a+1],a+1,t);return c+(h-c)*(i-a)}}function Jie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function oo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ou(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const dE=Symbol("implicit");function sA(){var t=new OR,e=[],n=[],r=dE;function i(a){let c=t.get(a);if(c===void 0){if(r!==dE)return r;t.set(a,c=e.push(a)-1)}return n[c%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new OR;for(const c of a)t.has(c)||t.set(c,e.push(c)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return sA(e,n).unknown(r)},oo.apply(i,arguments),i}function oA(){var t=sA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,c,h=!1,y=0,g=0,w=.5;delete t.unknown;function A(){var I=e().length,R=i<r,j=R?i:r,k=R?r:i;a=(k-j)/Math.max(1,I-y+g*2),h&&(a=Math.floor(a)),j+=(k-j-a*(I-y))*w,c=a*(1-y),h&&(j=Math.round(j),c=Math.round(c));var L=Jie(I).map(function(G){return j+a*G});return n(R?L.reverse():L)}return t.domain=function(I){return arguments.length?(e(I),A()):e()},t.range=function(I){return arguments.length?([r,i]=I,r=+r,i=+i,A()):[r,i]},t.rangeRound=function(I){return[r,i]=I,r=+r,i=+i,h=!0,A()},t.bandwidth=function(){return c},t.step=function(){return a},t.round=function(I){return arguments.length?(h=!!I,A()):h},t.padding=function(I){return arguments.length?(y=Math.min(1,g=+I),A()):y},t.paddingInner=function(I){return arguments.length?(y=Math.min(1,I),A()):y},t.paddingOuter=function(I){return arguments.length?(g=+I,A()):g},t.align=function(I){return arguments.length?(w=Math.max(0,Math.min(1,I)),A()):w},t.copy=function(){return oA(e(),[r,i]).round(h).paddingInner(y).paddingOuter(g).align(w)},oo.apply(A(),arguments)}function N9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return N9(e())},t}function eae(){return N9(oA.apply(null,arguments).paddingInner(1))}function lA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function R9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bm(){}var F0=.7,S1=1/F0,bd="\\s*([+-]?\\d+)\\s*",U0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tae=/^#([0-9a-f]{3,8})$/,nae=new RegExp(`^rgb\\(${bd},${bd},${bd}\\)$`),rae=new RegExp(`^rgb\\(${Jo},${Jo},${Jo}\\)$`),iae=new RegExp(`^rgba\\(${bd},${bd},${bd},${U0}\\)$`),aae=new RegExp(`^rgba\\(${Jo},${Jo},${Jo},${U0}\\)$`),sae=new RegExp(`^hsl\\(${U0},${Jo},${Jo}\\)$`),oae=new RegExp(`^hsla\\(${U0},${Jo},${Jo},${U0}\\)$`),DR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lA(bm,V0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:MR,formatHex:MR,formatHex8:lae,formatHsl:uae,formatRgb:kR,toString:kR});function MR(){return this.rgb().formatHex()}function lae(){return this.rgb().formatHex8()}function uae(){return P9(this).formatHsl()}function kR(){return this.rgb().formatRgb()}function V0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jR(e):n===3?new ys(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$g(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$g(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nae.exec(t))?new ys(e[1],e[2],e[3],1):(e=rae.exec(t))?new ys(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=iae.exec(t))?$g(e[1],e[2],e[3],e[4]):(e=aae.exec(t))?$g(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sae.exec(t))?FR(e[1],e[2]/100,e[3]/100,1):(e=oae.exec(t))?FR(e[1],e[2]/100,e[3]/100,e[4]):DR.hasOwnProperty(t)?jR(DR[t]):t==="transparent"?new ys(NaN,NaN,NaN,0):null}function jR(t){return new ys(t>>16&255,t>>8&255,t&255,1)}function $g(t,e,n,r){return r<=0&&(t=e=n=NaN),new ys(t,e,n,r)}function cae(t){return t instanceof bm||(t=V0(t)),t?(t=t.rgb(),new ys(t.r,t.g,t.b,t.opacity)):new ys}function hE(t,e,n,r){return arguments.length===1?cae(t):new ys(t,e,n,r??1)}function ys(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}lA(ys,hE,R9(bm,{brighter(t){return t=t==null?S1:Math.pow(S1,t),new ys(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?F0:Math.pow(F0,t),new ys(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ys(Gc(this.r),Gc(this.g),Gc(this.b),C1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LR,formatHex:LR,formatHex8:fae,formatRgb:BR,toString:BR}));function LR(){return`#${Uc(this.r)}${Uc(this.g)}${Uc(this.b)}`}function fae(){return`#${Uc(this.r)}${Uc(this.g)}${Uc(this.b)}${Uc((isNaN(this.opacity)?1:this.opacity)*255)}`}function BR(){const t=C1(this.opacity);return`${t===1?"rgb(":"rgba("}${Gc(this.r)}, ${Gc(this.g)}, ${Gc(this.b)}${t===1?")":`, ${t})`}`}function C1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Uc(t){return t=Gc(t),(t<16?"0":"")+t.toString(16)}function FR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vo(t,e,n,r)}function P9(t){if(t instanceof vo)return new vo(t.h,t.s,t.l,t.opacity);if(t instanceof bm||(t=V0(t)),!t)return new vo;if(t instanceof vo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),c=NaN,h=a-i,y=(a+i)/2;return h?(e===a?c=(n-r)/h+(n<r)*6:n===a?c=(r-e)/h+2:c=(e-n)/h+4,h/=y<.5?a+i:2-a-i,c*=60):h=y>0&&y<1?0:c,new vo(c,h,y,t.opacity)}function dae(t,e,n,r){return arguments.length===1?P9(t):new vo(t,e,n,r??1)}function vo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}lA(vo,dae,R9(bm,{brighter(t){return t=t==null?S1:Math.pow(S1,t),new vo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?F0:Math.pow(F0,t),new vo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ys(Iw(t>=240?t-240:t+120,i,r),Iw(t,i,r),Iw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vo(UR(this.h),Xg(this.s),Xg(this.l),C1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=C1(this.opacity);return`${t===1?"hsl(":"hsla("}${UR(this.h)}, ${Xg(this.s)*100}%, ${Xg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function UR(t){return t=(t||0)%360,t<0?t+360:t}function Xg(t){return Math.max(0,Math.min(1,t||0))}function Iw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const uA=t=>()=>t;function hae(t,e){return function(n){return t+n*e}}function mae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gae(t){return(t=+t)==1?D9:function(e,n){return n-e?mae(e,n,t):uA(isNaN(e)?n:e)}}function D9(t,e){var n=e-t;return n?hae(t,n):uA(isNaN(t)?e:t)}const VR=(function t(e){var n=gae(e);function r(i,a){var c=n((i=hE(i)).r,(a=hE(a)).r),h=n(i.g,a.g),y=n(i.b,a.b),g=D9(i.opacity,a.opacity);return function(w){return i.r=c(w),i.g=h(w),i.b=y(w),i.opacity=g(w),i+""}}return r.gamma=t,r})(1);function pae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function yae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),c;for(c=0;c<r;++c)i[c]=Kd(t[c],e[c]);for(;c<n;++c)a[c]=e[c];return function(h){for(c=0;c<r;++c)a[c]=i[c](h);return a}}function xae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function T1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function bae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Kd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var mE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ow=new RegExp(mE.source,"g");function wae(t){return function(){return t}}function Eae(t){return function(e){return t(e)+""}}function _ae(t,e){var n=mE.lastIndex=Ow.lastIndex=0,r,i,a,c=-1,h=[],y=[];for(t=t+"",e=e+"";(r=mE.exec(t))&&(i=Ow.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),h[c]?h[c]+=a:h[++c]=a),(r=r[0])===(i=i[0])?h[c]?h[c]+=i:h[++c]=i:(h[++c]=null,y.push({i:c,x:T1(r,i)})),n=Ow.lastIndex;return n<e.length&&(a=e.slice(n),h[c]?h[c]+=a:h[++c]=a),h.length<2?y[0]?Eae(y[0].x):wae(e):(e=y.length,function(g){for(var w=0,A;w<e;++w)h[(A=y[w]).i]=A.x(g);return h.join("")})}function Kd(t,e){var n=typeof e,r;return e==null||n==="boolean"?uA(e):(n==="number"?T1:n==="string"?(r=V0(e))?(e=r,VR):_ae:e instanceof V0?VR:e instanceof Date?xae:yae(e)?pae:Array.isArray(e)?vae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bae:T1)(t,e)}function cA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Aae(t,e){e===void 0&&(e=t,t=Kd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(c){var h=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return a[h](c-h)}}function Sae(t){return function(){return t}}function I1(t){return+t}var zR=[0,1];function Za(t){return t}function gE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Sae(isNaN(e)?NaN:.5)}function Cae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Tae(t,e,n){var r=t[0],i=t[1],a=e[0],c=e[1];return i<r?(r=gE(i,r),a=n(c,a)):(r=gE(r,i),a=n(a,c)),function(h){return a(r(h))}}function Iae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)i[c]=gE(t[c],t[c+1]),a[c]=n(e[c],e[c+1]);return function(h){var y=xm(t,h,1,r)-1;return a[y](i[y](h))}}function wm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zy(){var t=zR,e=zR,n=Kd,r,i,a,c=Za,h,y,g;function w(){var I=Math.min(t.length,e.length);return c!==Za&&(c=Cae(t[0],t[I-1])),h=I>2?Iae:Tae,y=g=null,A}function A(I){return I==null||isNaN(I=+I)?a:(y||(y=h(t.map(r),e,n)))(r(c(I)))}return A.invert=function(I){return c(i((g||(g=h(e,t.map(r),T1)))(I)))},A.domain=function(I){return arguments.length?(t=Array.from(I,I1),w()):t.slice()},A.range=function(I){return arguments.length?(e=Array.from(I),w()):e.slice()},A.rangeRound=function(I){return e=Array.from(I),n=cA,w()},A.clamp=function(I){return arguments.length?(c=I?!0:Za,w()):c!==Za},A.interpolate=function(I){return arguments.length?(n=I,w()):n},A.unknown=function(I){return arguments.length?(a=I,A):a},function(I,R){return r=I,i=R,w()}}function fA(){return zy()(Za,Za)}function Oae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function O1(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rd(t){return t=O1(Math.abs(t)),t?t[1]:NaN}function Nae(t,e){return function(n,r){for(var i=n.length,a=[],c=0,h=t[0],y=0;i>0&&h>0&&(y+h+1>r&&(h=Math.max(1,r-y)),a.push(n.substring(i-=h,i+h)),!((y+=h+1)>r));)h=t[c=(c+1)%t.length];return a.reverse().join(e)}}function Rae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Pae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function z0(t){if(!(e=Pae.exec(t)))throw new Error("invalid format: "+t);var e;return new dA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}z0.prototype=dA.prototype;function dA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}dA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var N1;function Mae(t,e){var n=O1(t,e);if(!n)return N1=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(N1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return a===c?r:a>c?r+new Array(a-c+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+O1(t,Math.max(0,e+a-1))[0]}function qR(t,e){var n=O1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const HR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Oae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>qR(t*100,e),r:qR,s:Mae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function GR(t){return t}var WR=Array.prototype.map,KR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kae(t){var e=t.grouping===void 0||t.thousands===void 0?GR:Nae(WR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?GR:Rae(WR.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",h=t.minus===void 0?"":t.minus+"",y=t.nan===void 0?"NaN":t.nan+"";function g(A,I){A=z0(A);var R=A.fill,j=A.align,k=A.sign,L=A.symbol,G=A.zero,K=A.width,W=A.comma,ne=A.precision,fe=A.trim,Q=A.type;Q==="n"?(W=!0,Q="g"):HR[Q]||(ne===void 0&&(ne=12),fe=!0,Q="g"),(G||R==="0"&&j==="=")&&(G=!0,R="0",j="=");var U=(I&&I.prefix!==void 0?I.prefix:"")+(L==="$"?n:L==="#"&&/[boxX]/.test(Q)?"0"+Q.toLowerCase():""),$=(L==="$"?r:/[%p]/.test(Q)?c:"")+(I&&I.suffix!==void 0?I.suffix:""),H=HR[Q],ae=/[defgprs%]/.test(Q);ne=ne===void 0?6:/[gprs]/.test(Q)?Math.max(1,Math.min(21,ne)):Math.max(0,Math.min(20,ne));function ie(Z){var J=U,Be=$,pe,ve,Ae;if(Q==="c")Be=H(Z)+Be,Z="";else{Z=+Z;var We=Z<0||1/Z<0;if(Z=isNaN(Z)?y:H(Math.abs(Z),ne),fe&&(Z=Dae(Z)),We&&+Z==0&&k!=="+"&&(We=!1),J=(We?k==="("?k:h:k==="-"||k==="("?"":k)+J,Be=(Q==="s"&&!isNaN(Z)&&N1!==void 0?KR[8+N1/3]:"")+Be+(We&&k==="("?")":""),ae){for(pe=-1,ve=Z.length;++pe<ve;)if(Ae=Z.charCodeAt(pe),48>Ae||Ae>57){Be=(Ae===46?i+Z.slice(pe+1):Z.slice(pe))+Be,Z=Z.slice(0,pe);break}}}W&&!G&&(Z=e(Z,1/0));var Ue=J.length+Z.length+Be.length,st=Ue<K?new Array(K-Ue+1).join(R):"";switch(W&&G&&(Z=e(st+Z,st.length?K-Be.length:1/0),st=""),j){case"<":Z=J+Z+Be+st;break;case"=":Z=J+st+Z+Be;break;case"^":Z=st.slice(0,Ue=st.length>>1)+J+Z+Be+st.slice(Ue);break;default:Z=st+J+Z+Be;break}return a(Z)}return ie.toString=function(){return A+""},ie}function w(A,I){var R=Math.max(-8,Math.min(8,Math.floor(Rd(I)/3)))*3,j=Math.pow(10,-R),k=g((A=z0(A),A.type="f",A),{suffix:KR[8+R/3]});return function(L){return k(j*L)}}return{format:g,formatPrefix:w}}var Zg,hA,M9;jae({thousands:",",grouping:[3],currency:["$",""]});function jae(t){return Zg=kae(t),hA=Zg.format,M9=Zg.formatPrefix,Zg}function Lae(t){return Math.max(0,-Rd(Math.abs(t)))}function Bae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rd(e)/3)))*3-Rd(Math.abs(t)))}function Fae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rd(e)-Rd(t))+1}function k9(t,e,n,r){var i=fE(t,e,n),a;switch(r=z0(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Bae(i,c))&&(r.precision=a),M9(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Fae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Lae(i))&&(r.precision=a-(r.type==="%")*2);break}}return hA(r)}function gc(t){var e=t.domain;return t.ticks=function(n){var r=e();return uE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return k9(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,c=r[i],h=r[a],y,g,w=10;for(h<c&&(g=c,c=h,h=g,g=i,i=a,a=g);w-- >0;){if(g=cE(c,h,n),g===y)return r[i]=c,r[a]=h,e(r);if(g>0)c=Math.floor(c/g)*g,h=Math.ceil(h/g)*g;else if(g<0)c=Math.ceil(c*g)/g,h=Math.floor(h*g)/g;else break;y=g}return t},t}function j9(){var t=fA();return t.copy=function(){return wm(t,j9())},oo.apply(t,arguments),gc(t)}function L9(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,I1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return L9(t).unknown(e)},t=arguments.length?Array.from(t,I1):[0,1],gc(n)}function B9(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],c;return a<i&&(c=n,n=r,r=c,c=i,i=a,a=c),t[n]=e.floor(i),t[r]=e.ceil(a),t}function YR(t){return Math.log(t)}function $R(t){return Math.exp(t)}function Uae(t){return-Math.log(-t)}function Vae(t){return-Math.exp(-t)}function zae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qae(t){return t===10?zae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Hae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function XR(t){return(e,n)=>-t(-e,n)}function mA(t){const e=t(YR,$R),n=e.domain;let r=10,i,a;function c(){return i=Hae(r),a=qae(r),n()[0]<0?(i=XR(i),a=XR(a),t(Uae,Vae)):t(YR,$R),e}return e.base=function(h){return arguments.length?(r=+h,c()):r},e.domain=function(h){return arguments.length?(n(h),c()):n()},e.ticks=h=>{const y=n();let g=y[0],w=y[y.length-1];const A=w<g;A&&([g,w]=[w,g]);let I=i(g),R=i(w),j,k;const L=h==null?10:+h;let G=[];if(!(r%1)&&R-I<L){if(I=Math.floor(I),R=Math.ceil(R),g>0){for(;I<=R;++I)for(j=1;j<r;++j)if(k=I<0?j/a(-I):j*a(I),!(k<g)){if(k>w)break;G.push(k)}}else for(;I<=R;++I)for(j=r-1;j>=1;--j)if(k=I>0?j/a(-I):j*a(I),!(k<g)){if(k>w)break;G.push(k)}G.length*2<L&&(G=uE(g,w,L))}else G=uE(I,R,Math.min(R-I,L)).map(a);return A?G.reverse():G},e.tickFormat=(h,y)=>{if(h==null&&(h=10),y==null&&(y=r===10?"s":","),typeof y!="function"&&(!(r%1)&&(y=z0(y)).precision==null&&(y.trim=!0),y=hA(y)),h===1/0)return y;const g=Math.max(1,r*h/e.ticks().length);return w=>{let A=w/a(Math.round(i(w)));return A*r<r-.5&&(A*=r),A<=g?y(w):""}},e.nice=()=>n(B9(n(),{floor:h=>a(Math.floor(i(h))),ceil:h=>a(Math.ceil(i(h)))})),e}function F9(){const t=mA(zy()).domain([1,10]);return t.copy=()=>wm(t,F9()).base(t.base()),oo.apply(t,arguments),t}function ZR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function QR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function gA(t){var e=1,n=t(ZR(e),QR(e));return n.constant=function(r){return arguments.length?t(ZR(e=+r),QR(e)):e},gc(n)}function U9(){var t=gA(zy());return t.copy=function(){return wm(t,U9()).constant(t.constant())},oo.apply(t,arguments)}function JR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Gae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Wae(t){return t<0?-t*t:t*t}function pA(t){var e=t(Za,Za),n=1;function r(){return n===1?t(Za,Za):n===.5?t(Gae,Wae):t(JR(n),JR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},gc(e)}function yA(){var t=pA(zy());return t.copy=function(){return wm(t,yA()).exponent(t.exponent())},oo.apply(t,arguments),t}function Kae(){return yA.apply(null,arguments).exponent(.5)}function eP(t){return Math.sign(t)*t*t}function Yae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function V9(){var t=fA(),e=[0,1],n=!1,r;function i(a){var c=Yae(t(a));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(a){return t.invert(eP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,I1)).map(eP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return V9(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},oo.apply(i,arguments),gc(i)}function z9(){var t=[],e=[],n=[],r;function i(){var c=0,h=Math.max(1,e.length);for(n=new Array(h-1);++c<h;)n[c-1]=Qie(t,c/h);return a}function a(c){return c==null||isNaN(c=+c)?r:e[xm(n,c)]}return a.invertExtent=function(c){var h=e.indexOf(c);return h<0?[NaN,NaN]:[h>0?n[h-1]:t[0],h<n.length?n[h]:t[t.length-1]]},a.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let h of c)h!=null&&!isNaN(h=+h)&&t.push(h);return t.sort(tc),i()},a.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},a.unknown=function(c){return arguments.length?(r=c,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return z9().domain(t).range(e).unknown(r)},oo.apply(a,arguments)}function q9(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function c(y){return y!=null&&y<=y?i[xm(r,y,0,n)]:a}function h(){var y=-1;for(r=new Array(n);++y<n;)r[y]=((y+1)*e-(y-n)*t)/(n+1);return c}return c.domain=function(y){return arguments.length?([t,e]=y,t=+t,e=+e,h()):[t,e]},c.range=function(y){return arguments.length?(n=(i=Array.from(y)).length-1,h()):i.slice()},c.invertExtent=function(y){var g=i.indexOf(y);return g<0?[NaN,NaN]:g<1?[t,r[0]]:g>=n?[r[n-1],e]:[r[g-1],r[g]]},c.unknown=function(y){return arguments.length&&(a=y),c},c.thresholds=function(){return r.slice()},c.copy=function(){return q9().domain([t,e]).range(i).unknown(a)},oo.apply(gc(c),arguments)}function H9(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[xm(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var c=e.indexOf(a);return[t[c-1],t[c]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return H9().domain(t).range(e).unknown(n)},oo.apply(i,arguments)}const Nw=new Date,Rw=new Date;function zi(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const c=i(a),h=i.ceil(a);return a-c<h-a?c:h},i.offset=(a,c)=>(e(a=new Date(+a),c==null?1:Math.floor(c)),a),i.range=(a,c,h)=>{const y=[];if(a=i.ceil(a),h=h==null?1:Math.floor(h),!(a<c)||!(h>0))return y;let g;do y.push(g=new Date(+a)),e(a,h),t(a);while(g<a&&a<c);return y},i.filter=a=>zi(c=>{if(c>=c)for(;t(c),!a(c);)c.setTime(c-1)},(c,h)=>{if(c>=c)if(h<0)for(;++h<=0;)for(;e(c,-1),!a(c););else for(;--h>=0;)for(;e(c,1),!a(c););}),n&&(i.count=(a,c)=>(Nw.setTime(+a),Rw.setTime(+c),t(Nw),t(Rw),Math.floor(n(Nw,Rw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?c=>r(c)%a===0:c=>i.count(0,c)%a===0):i)),i}const R1=zi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);R1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zi(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):R1);R1.range;const jl=1e3,to=jl*60,Ll=to*60,Zl=Ll*24,vA=Zl*7,tP=Zl*30,Pw=Zl*365,Vc=zi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*jl)},(t,e)=>(e-t)/jl,t=>t.getUTCSeconds());Vc.range;const xA=zi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jl)},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getMinutes());xA.range;const bA=zi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getUTCMinutes());bA.range;const wA=zi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jl-t.getMinutes()*to)},(t,e)=>{t.setTime(+t+e*Ll)},(t,e)=>(e-t)/Ll,t=>t.getHours());wA.range;const EA=zi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ll)},(t,e)=>(e-t)/Ll,t=>t.getUTCHours());EA.range;const Em=zi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*to)/Zl,t=>t.getDate()-1);Em.range;const qy=zi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zl,t=>t.getUTCDate()-1);qy.range;const G9=zi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zl,t=>Math.floor(t/Zl));G9.range;function Ef(t){return zi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*to)/vA)}const Hy=Ef(0),P1=Ef(1),$ae=Ef(2),Xae=Ef(3),Pd=Ef(4),Zae=Ef(5),Qae=Ef(6);Hy.range;P1.range;$ae.range;Xae.range;Pd.range;Zae.range;Qae.range;function _f(t){return zi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/vA)}const Gy=_f(0),D1=_f(1),Jae=_f(2),ese=_f(3),Dd=_f(4),tse=_f(5),nse=_f(6);Gy.range;D1.range;Jae.range;ese.range;Dd.range;tse.range;nse.range;const _A=zi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_A.range;const AA=zi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());AA.range;const Ql=zi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ql.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ql.range;const Jl=zi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Jl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Jl.range;function W9(t,e,n,r,i,a){const c=[[Vc,1,jl],[Vc,5,5*jl],[Vc,15,15*jl],[Vc,30,30*jl],[a,1,to],[a,5,5*to],[a,15,15*to],[a,30,30*to],[i,1,Ll],[i,3,3*Ll],[i,6,6*Ll],[i,12,12*Ll],[r,1,Zl],[r,2,2*Zl],[n,1,vA],[e,1,tP],[e,3,3*tP],[t,1,Pw]];function h(g,w,A){const I=w<g;I&&([g,w]=[w,g]);const R=A&&typeof A.range=="function"?A:y(g,w,A),j=R?R.range(g,+w+1):[];return I?j.reverse():j}function y(g,w,A){const I=Math.abs(w-g)/A,R=aA(([,,L])=>L).right(c,I);if(R===c.length)return t.every(fE(g/Pw,w/Pw,A));if(R===0)return R1.every(Math.max(fE(g,w,A),1));const[j,k]=c[I/c[R-1][2]<c[R][2]/I?R-1:R];return j.every(k)}return[h,y]}const[rse,ise]=W9(Jl,AA,Gy,G9,EA,bA),[ase,sse]=W9(Ql,_A,Hy,Em,wA,xA);function Dw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Mw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ose(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,c=t.shortDays,h=t.months,y=t.shortMonths,g=Gh(i),w=Wh(i),A=Gh(a),I=Wh(a),R=Gh(c),j=Wh(c),k=Gh(h),L=Wh(h),G=Gh(y),K=Wh(y),W={a:Ae,A:We,b:Ue,B:st,c:null,d:oP,e:oP,f:Nse,g:Use,G:zse,H:Tse,I:Ise,j:Ose,L:K9,m:Rse,M:Pse,p:he,q:_e,Q:cP,s:fP,S:Dse,u:Mse,U:kse,V:jse,w:Lse,W:Bse,x:null,X:null,y:Fse,Y:Vse,Z:qse,"%":uP},ne={a:Ge,A:Fe,b:dt,B:Ne,c:null,d:lP,e:lP,f:Kse,g:roe,G:aoe,H:Hse,I:Gse,j:Wse,L:$9,m:Yse,M:$se,p:et,q:Tt,Q:cP,s:fP,S:Xse,u:Zse,U:Qse,V:Jse,w:eoe,W:toe,x:null,X:null,y:noe,Y:ioe,Z:soe,"%":uP},fe={a:ae,A:ie,b:Z,B:J,c:Be,d:aP,e:aP,f:_se,g:iP,G:rP,H:sP,I:sP,j:xse,L:Ese,m:vse,M:bse,p:H,q:yse,Q:Sse,s:Cse,S:wse,u:dse,U:hse,V:mse,w:fse,W:gse,x:pe,X:ve,y:iP,Y:rP,Z:pse,"%":Ase};W.x=Q(n,W),W.X=Q(r,W),W.c=Q(e,W),ne.x=Q(n,ne),ne.X=Q(r,ne),ne.c=Q(e,ne);function Q(ke,Ye){return function(It){var Le=[],At=-1,zt=0,cn=ke.length,Hn,Rn,fn;for(It instanceof Date||(It=new Date(+It));++At<cn;)ke.charCodeAt(At)===37&&(Le.push(ke.slice(zt,At)),(Rn=nP[Hn=ke.charAt(++At)])!=null?Hn=ke.charAt(++At):Rn=Hn==="e"?" ":"0",(fn=Ye[Hn])&&(Hn=fn(It,Rn)),Le.push(Hn),zt=At+1);return Le.push(ke.slice(zt,At)),Le.join("")}}function U(ke,Ye){return function(It){var Le=Hh(1900,void 0,1),At=$(Le,ke,It+="",0),zt,cn;if(At!=It.length)return null;if("Q"in Le)return new Date(Le.Q);if("s"in Le)return new Date(Le.s*1e3+("L"in Le?Le.L:0));if(Ye&&!("Z"in Le)&&(Le.Z=0),"p"in Le&&(Le.H=Le.H%12+Le.p*12),Le.m===void 0&&(Le.m="q"in Le?Le.q:0),"V"in Le){if(Le.V<1||Le.V>53)return null;"w"in Le||(Le.w=1),"Z"in Le?(zt=Mw(Hh(Le.y,0,1)),cn=zt.getUTCDay(),zt=cn>4||cn===0?D1.ceil(zt):D1(zt),zt=qy.offset(zt,(Le.V-1)*7),Le.y=zt.getUTCFullYear(),Le.m=zt.getUTCMonth(),Le.d=zt.getUTCDate()+(Le.w+6)%7):(zt=Dw(Hh(Le.y,0,1)),cn=zt.getDay(),zt=cn>4||cn===0?P1.ceil(zt):P1(zt),zt=Em.offset(zt,(Le.V-1)*7),Le.y=zt.getFullYear(),Le.m=zt.getMonth(),Le.d=zt.getDate()+(Le.w+6)%7)}else("W"in Le||"U"in Le)&&("w"in Le||(Le.w="u"in Le?Le.u%7:"W"in Le?1:0),cn="Z"in Le?Mw(Hh(Le.y,0,1)).getUTCDay():Dw(Hh(Le.y,0,1)).getDay(),Le.m=0,Le.d="W"in Le?(Le.w+6)%7+Le.W*7-(cn+5)%7:Le.w+Le.U*7-(cn+6)%7);return"Z"in Le?(Le.H+=Le.Z/100|0,Le.M+=Le.Z%100,Mw(Le)):Dw(Le)}}function $(ke,Ye,It,Le){for(var At=0,zt=Ye.length,cn=It.length,Hn,Rn;At<zt;){if(Le>=cn)return-1;if(Hn=Ye.charCodeAt(At++),Hn===37){if(Hn=Ye.charAt(At++),Rn=fe[Hn in nP?Ye.charAt(At++):Hn],!Rn||(Le=Rn(ke,It,Le))<0)return-1}else if(Hn!=It.charCodeAt(Le++))return-1}return Le}function H(ke,Ye,It){var Le=g.exec(Ye.slice(It));return Le?(ke.p=w.get(Le[0].toLowerCase()),It+Le[0].length):-1}function ae(ke,Ye,It){var Le=R.exec(Ye.slice(It));return Le?(ke.w=j.get(Le[0].toLowerCase()),It+Le[0].length):-1}function ie(ke,Ye,It){var Le=A.exec(Ye.slice(It));return Le?(ke.w=I.get(Le[0].toLowerCase()),It+Le[0].length):-1}function Z(ke,Ye,It){var Le=G.exec(Ye.slice(It));return Le?(ke.m=K.get(Le[0].toLowerCase()),It+Le[0].length):-1}function J(ke,Ye,It){var Le=k.exec(Ye.slice(It));return Le?(ke.m=L.get(Le[0].toLowerCase()),It+Le[0].length):-1}function Be(ke,Ye,It){return $(ke,e,Ye,It)}function pe(ke,Ye,It){return $(ke,n,Ye,It)}function ve(ke,Ye,It){return $(ke,r,Ye,It)}function Ae(ke){return c[ke.getDay()]}function We(ke){return a[ke.getDay()]}function Ue(ke){return y[ke.getMonth()]}function st(ke){return h[ke.getMonth()]}function he(ke){return i[+(ke.getHours()>=12)]}function _e(ke){return 1+~~(ke.getMonth()/3)}function Ge(ke){return c[ke.getUTCDay()]}function Fe(ke){return a[ke.getUTCDay()]}function dt(ke){return y[ke.getUTCMonth()]}function Ne(ke){return h[ke.getUTCMonth()]}function et(ke){return i[+(ke.getUTCHours()>=12)]}function Tt(ke){return 1+~~(ke.getUTCMonth()/3)}return{format:function(ke){var Ye=Q(ke+="",W);return Ye.toString=function(){return ke},Ye},parse:function(ke){var Ye=U(ke+="",!1);return Ye.toString=function(){return ke},Ye},utcFormat:function(ke){var Ye=Q(ke+="",ne);return Ye.toString=function(){return ke},Ye},utcParse:function(ke){var Ye=U(ke+="",!0);return Ye.toString=function(){return ke},Ye}}}var nP={"-":"",_:" ",0:"0"},na=/^\s*\d+/,lse=/^%/,use=/[\\^$*+?|[\]().{}]/g;function zn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function cse(t){return t.replace(use,"\\$&")}function Gh(t){return new RegExp("^(?:"+t.map(cse).join("|")+")","i")}function Wh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function fse(t,e,n){var r=na.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function dse(t,e,n){var r=na.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function hse(t,e,n){var r=na.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function mse(t,e,n){var r=na.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function gse(t,e,n){var r=na.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function rP(t,e,n){var r=na.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function iP(t,e,n){var r=na.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pse(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yse(t,e,n){var r=na.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function vse(t,e,n){var r=na.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function aP(t,e,n){var r=na.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xse(t,e,n){var r=na.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function sP(t,e,n){var r=na.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function bse(t,e,n){var r=na.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function wse(t,e,n){var r=na.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ese(t,e,n){var r=na.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _se(t,e,n){var r=na.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ase(t,e,n){var r=lse.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Sse(t,e,n){var r=na.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Cse(t,e,n){var r=na.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function oP(t,e){return zn(t.getDate(),e,2)}function Tse(t,e){return zn(t.getHours(),e,2)}function Ise(t,e){return zn(t.getHours()%12||12,e,2)}function Ose(t,e){return zn(1+Em.count(Ql(t),t),e,3)}function K9(t,e){return zn(t.getMilliseconds(),e,3)}function Nse(t,e){return K9(t,e)+"000"}function Rse(t,e){return zn(t.getMonth()+1,e,2)}function Pse(t,e){return zn(t.getMinutes(),e,2)}function Dse(t,e){return zn(t.getSeconds(),e,2)}function Mse(t){var e=t.getDay();return e===0?7:e}function kse(t,e){return zn(Hy.count(Ql(t)-1,t),e,2)}function Y9(t){var e=t.getDay();return e>=4||e===0?Pd(t):Pd.ceil(t)}function jse(t,e){return t=Y9(t),zn(Pd.count(Ql(t),t)+(Ql(t).getDay()===4),e,2)}function Lse(t){return t.getDay()}function Bse(t,e){return zn(P1.count(Ql(t)-1,t),e,2)}function Fse(t,e){return zn(t.getFullYear()%100,e,2)}function Use(t,e){return t=Y9(t),zn(t.getFullYear()%100,e,2)}function Vse(t,e){return zn(t.getFullYear()%1e4,e,4)}function zse(t,e){var n=t.getDay();return t=n>=4||n===0?Pd(t):Pd.ceil(t),zn(t.getFullYear()%1e4,e,4)}function qse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zn(e/60|0,"0",2)+zn(e%60,"0",2)}function lP(t,e){return zn(t.getUTCDate(),e,2)}function Hse(t,e){return zn(t.getUTCHours(),e,2)}function Gse(t,e){return zn(t.getUTCHours()%12||12,e,2)}function Wse(t,e){return zn(1+qy.count(Jl(t),t),e,3)}function $9(t,e){return zn(t.getUTCMilliseconds(),e,3)}function Kse(t,e){return $9(t,e)+"000"}function Yse(t,e){return zn(t.getUTCMonth()+1,e,2)}function $se(t,e){return zn(t.getUTCMinutes(),e,2)}function Xse(t,e){return zn(t.getUTCSeconds(),e,2)}function Zse(t){var e=t.getUTCDay();return e===0?7:e}function Qse(t,e){return zn(Gy.count(Jl(t)-1,t),e,2)}function X9(t){var e=t.getUTCDay();return e>=4||e===0?Dd(t):Dd.ceil(t)}function Jse(t,e){return t=X9(t),zn(Dd.count(Jl(t),t)+(Jl(t).getUTCDay()===4),e,2)}function eoe(t){return t.getUTCDay()}function toe(t,e){return zn(D1.count(Jl(t)-1,t),e,2)}function noe(t,e){return zn(t.getUTCFullYear()%100,e,2)}function roe(t,e){return t=X9(t),zn(t.getUTCFullYear()%100,e,2)}function ioe(t,e){return zn(t.getUTCFullYear()%1e4,e,4)}function aoe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Dd(t):Dd.ceil(t),zn(t.getUTCFullYear()%1e4,e,4)}function soe(){return"+0000"}function uP(){return"%"}function cP(t){return+t}function fP(t){return Math.floor(+t/1e3)}var Jf,Z9,Q9;ooe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ooe(t){return Jf=ose(t),Z9=Jf.format,Jf.parse,Q9=Jf.utcFormat,Jf.utcParse,Jf}function loe(t){return new Date(t)}function uoe(t){return t instanceof Date?+t:+new Date(+t)}function SA(t,e,n,r,i,a,c,h,y,g){var w=fA(),A=w.invert,I=w.domain,R=g(".%L"),j=g(":%S"),k=g("%I:%M"),L=g("%I %p"),G=g("%a %d"),K=g("%b %d"),W=g("%B"),ne=g("%Y");function fe(Q){return(y(Q)<Q?R:h(Q)<Q?j:c(Q)<Q?k:a(Q)<Q?L:r(Q)<Q?i(Q)<Q?G:K:n(Q)<Q?W:ne)(Q)}return w.invert=function(Q){return new Date(A(Q))},w.domain=function(Q){return arguments.length?I(Array.from(Q,uoe)):I().map(loe)},w.ticks=function(Q){var U=I();return t(U[0],U[U.length-1],Q??10)},w.tickFormat=function(Q,U){return U==null?fe:g(U)},w.nice=function(Q){var U=I();return(!Q||typeof Q.range!="function")&&(Q=e(U[0],U[U.length-1],Q??10)),Q?I(B9(U,Q)):w},w.copy=function(){return wm(w,SA(t,e,n,r,i,a,c,h,y,g))},w}function coe(){return oo.apply(SA(ase,sse,Ql,_A,Hy,Em,wA,xA,Vc,Z9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function foe(){return oo.apply(SA(rse,ise,Jl,AA,Gy,qy,EA,bA,Vc,Q9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wy(){var t=0,e=1,n,r,i,a,c=Za,h=!1,y;function g(A){return A==null||isNaN(A=+A)?y:c(i===0?.5:(A=(a(A)-n)*i,h?Math.max(0,Math.min(1,A)):A))}g.domain=function(A){return arguments.length?([t,e]=A,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),g):[t,e]},g.clamp=function(A){return arguments.length?(h=!!A,g):h},g.interpolator=function(A){return arguments.length?(c=A,g):c};function w(A){return function(I){var R,j;return arguments.length?([R,j]=I,c=A(R,j),g):[c(0),c(1)]}}return g.range=w(Kd),g.rangeRound=w(cA),g.unknown=function(A){return arguments.length?(y=A,g):y},function(A){return a=A,n=A(t),r=A(e),i=n===r?0:1/(r-n),g}}function pc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function J9(){var t=gc(Wy()(Za));return t.copy=function(){return pc(t,J9())},ou.apply(t,arguments)}function ej(){var t=mA(Wy()).domain([1,10]);return t.copy=function(){return pc(t,ej()).base(t.base())},ou.apply(t,arguments)}function tj(){var t=gA(Wy());return t.copy=function(){return pc(t,tj()).constant(t.constant())},ou.apply(t,arguments)}function CA(){var t=pA(Wy());return t.copy=function(){return pc(t,CA()).exponent(t.exponent())},ou.apply(t,arguments)}function doe(){return CA.apply(null,arguments).exponent(.5)}function nj(){var t=[],e=Za;function n(r){if(r!=null&&!isNaN(r=+r))return e((xm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(tc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Zie(t,a/r))},n.copy=function(){return nj(e).domain(t)},ou.apply(n,arguments)}function Ky(){var t=0,e=.5,n=1,r=1,i,a,c,h,y,g=Za,w,A=!1,I;function R(k){return isNaN(k=+k)?I:(k=.5+((k=+w(k))-a)*(r*k<r*a?h:y),g(A?Math.max(0,Math.min(1,k)):k))}R.domain=function(k){return arguments.length?([t,e,n]=k,i=w(t=+t),a=w(e=+e),c=w(n=+n),h=i===a?0:.5/(a-i),y=a===c?0:.5/(c-a),r=a<i?-1:1,R):[t,e,n]},R.clamp=function(k){return arguments.length?(A=!!k,R):A},R.interpolator=function(k){return arguments.length?(g=k,R):g};function j(k){return function(L){var G,K,W;return arguments.length?([G,K,W]=L,g=Aae(k,[G,K,W]),R):[g(0),g(.5),g(1)]}}return R.range=j(Kd),R.rangeRound=j(cA),R.unknown=function(k){return arguments.length?(I=k,R):I},function(k){return w=k,i=k(t),a=k(e),c=k(n),h=i===a?0:.5/(a-i),y=a===c?0:.5/(c-a),r=a<i?-1:1,R}}function rj(){var t=gc(Ky()(Za));return t.copy=function(){return pc(t,rj())},ou.apply(t,arguments)}function ij(){var t=mA(Ky()).domain([.1,1,10]);return t.copy=function(){return pc(t,ij()).base(t.base())},ou.apply(t,arguments)}function aj(){var t=gA(Ky());return t.copy=function(){return pc(t,aj()).constant(t.constant())},ou.apply(t,arguments)}function TA(){var t=pA(Ky());return t.copy=function(){return pc(t,TA()).exponent(t.exponent())},ou.apply(t,arguments)}function hoe(){return TA.apply(null,arguments).exponent(.5)}const a0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:oA,scaleDiverging:rj,scaleDivergingLog:ij,scaleDivergingPow:TA,scaleDivergingSqrt:hoe,scaleDivergingSymlog:aj,scaleIdentity:L9,scaleImplicit:dE,scaleLinear:j9,scaleLog:F9,scaleOrdinal:sA,scalePoint:eae,scalePow:yA,scaleQuantile:z9,scaleQuantize:q9,scaleRadial:V9,scaleSequential:J9,scaleSequentialLog:ej,scaleSequentialPow:CA,scaleSequentialQuantile:nj,scaleSequentialSqrt:doe,scaleSequentialSymlog:tj,scaleSqrt:Kae,scaleSymlog:U9,scaleThreshold:H9,scaleTime:coe,scaleUtc:foe,tickFormat:k9},Symbol.toStringTag,{value:"Module"}));var lu=t=>t.chartData,Yy=Te([lu],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),IA=(t,e,n,r)=>r?Yy(t):lu(t),moe=(t,e,n)=>n?Yy(t):lu(t);function eu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(un(e)&&un(n))return!0}return!1}function dP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function sj(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(un(n))i=n;else if(typeof n=="function")return;if(un(r))a=r;else if(typeof r=="function")return;var c=[i,a];if(eu(c))return c}}function goe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(eu(r))return dP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,c,h;if(i==="auto")e!=null&&(c=Math.min(...e));else if(vt(i))c=i;else if(typeof i=="function")try{e!=null&&(c=i(e?.[0]))}catch{}else if(typeof i=="string"&&A4.test(i)){var y=A4.exec(i);if(y==null||y[1]==null||e==null)c=void 0;else{var g=+y[1];c=e[0]-g}}else c=e?.[0];if(a==="auto")e!=null&&(h=Math.max(...e));else if(vt(a))h=a;else if(typeof a=="function")try{e!=null&&(h=a(e?.[1]))}catch{}else if(typeof a=="string"&&S4.test(a)){var w=S4.exec(a);if(w==null||w[1]==null||e==null)h=void 0;else{var A=+w[1];h=e[1]+A}}else h=e?.[1];var I=[c,h];if(eu(I))return e==null?I:dP(I,e,n)}}}var Yd=1e9,poe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},NA,Gr=!0,ao="[DecimalError] ",Wc=ao+"Invalid argument: ",OA=ao+"Exponent out of range: ",$d=Math.floor,jc=Math.pow,yoe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ps,ea=1e7,Rr=7,oj=9007199254740991,M1=$d(oj/Rr),bt={};bt.absoluteValue=bt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};bt.comparedTo=bt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};bt.decimalPlaces=bt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Rr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};bt.dividedBy=bt.div=function(t){return zl(this,new this.constructor(t))};bt.dividedToIntegerBy=bt.idiv=function(t){var e=this,n=e.constructor;return br(zl(e,new n(t),0,1),n.precision)};bt.equals=bt.eq=function(t){return!this.cmp(t)};bt.exponent=function(){return Ni(this)};bt.greaterThan=bt.gt=function(t){return this.cmp(t)>0};bt.greaterThanOrEqualTo=bt.gte=function(t){return this.cmp(t)>=0};bt.isInteger=bt.isint=function(){return this.e>this.d.length-2};bt.isNegative=bt.isneg=function(){return this.s<0};bt.isPositive=bt.ispos=function(){return this.s>0};bt.isZero=function(){return this.s===0};bt.lessThan=bt.lt=function(t){return this.cmp(t)<0};bt.lessThanOrEqualTo=bt.lte=function(t){return this.cmp(t)<1};bt.logarithm=bt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ps))throw Error(ao+"NaN");if(n.s<1)throw Error(ao+(n.s?"NaN":"-Infinity"));return n.eq(Ps)?new r(0):(Gr=!1,e=zl(q0(n,a),q0(t,a),a),Gr=!0,br(e,i))};bt.minus=bt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cj(e,t):lj(e,(t.s=-t.s,t))};bt.modulo=bt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ao+"NaN");return n.s?(Gr=!1,e=zl(n,t,0,1).times(t),Gr=!0,n.minus(e)):br(new r(n),i)};bt.naturalExponential=bt.exp=function(){return uj(this)};bt.naturalLogarithm=bt.ln=function(){return q0(this)};bt.negated=bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};bt.plus=bt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?lj(e,t):cj(e,(t.s=-t.s,t))};bt.precision=bt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wc+t);if(e=Ni(i)+1,r=i.d.length-1,n=r*Rr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};bt.squareRoot=bt.sqrt=function(){var t,e,n,r,i,a,c,h=this,y=h.constructor;if(h.s<1){if(!h.s)return new y(0);throw Error(ao+"NaN")}for(t=Ni(h),Gr=!1,i=Math.sqrt(+h),i==0||i==1/0?(e=Ko(h.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=$d((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new y(e)):r=new y(i.toString()),n=y.precision,i=c=n+3;;)if(a=r,r=a.plus(zl(h,a,c+2)).times(.5),Ko(a.d).slice(0,c)===(e=Ko(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(br(a,n+1,0),a.times(a).eq(h)){r=a;break}}else if(e!="9999")break;c+=4}return Gr=!0,br(r,n)};bt.times=bt.mul=function(t){var e,n,r,i,a,c,h,y,g,w=this,A=w.constructor,I=w.d,R=(t=new A(t)).d;if(!w.s||!t.s)return new A(0);for(t.s*=w.s,n=w.e+t.e,y=I.length,g=R.length,y<g&&(a=I,I=R,R=a,c=y,y=g,g=c),a=[],c=y+g,r=c;r--;)a.push(0);for(r=g;--r>=0;){for(e=0,i=y+r;i>r;)h=a[i]+R[r]*I[i-r-1]+e,a[i--]=h%ea|0,e=h/ea|0;a[i]=(a[i]+e)%ea|0}for(;!a[--c];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Gr?br(t,A.precision):t};bt.toDecimalPlaces=bt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(il(t,0,Yd),e===void 0?e=r.rounding:il(e,0,8),br(n,t+Ni(n)+1,e))};bt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=df(r,!0):(il(t,0,Yd),e===void 0?e=i.rounding:il(e,0,8),r=br(new i(r),t+1,e),n=df(r,!0,t+1)),n};bt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?df(i):(il(t,0,Yd),e===void 0?e=a.rounding:il(e,0,8),r=br(new a(i),t+Ni(i)+1,e),n=df(r.abs(),!1,t+Ni(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};bt.toInteger=bt.toint=function(){var t=this,e=t.constructor;return br(new e(t),Ni(t)+1,e.rounding)};bt.toNumber=function(){return+this};bt.toPower=bt.pow=function(t){var e,n,r,i,a,c,h=this,y=h.constructor,g=12,w=+(t=new y(t));if(!t.s)return new y(Ps);if(h=new y(h),!h.s){if(t.s<1)throw Error(ao+"Infinity");return h}if(h.eq(Ps))return h;if(r=y.precision,t.eq(Ps))return br(h,r);if(e=t.e,n=t.d.length-1,c=e>=n,a=h.s,c){if((n=w<0?-w:w)<=oj){for(i=new y(Ps),e=Math.ceil(r/Rr+4),Gr=!1;n%2&&(i=i.times(h),mP(i.d,e)),n=$d(n/2),n!==0;)h=h.times(h),mP(h.d,e);return Gr=!0,t.s<0?new y(Ps).div(i):br(i,r)}}else if(a<0)throw Error(ao+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,h.s=1,Gr=!1,i=t.times(q0(h,r+g)),Gr=!0,i=uj(i),i.s=a,i};bt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Ni(i),r=df(i,n<=a.toExpNeg||n>=a.toExpPos)):(il(t,1,Yd),e===void 0?e=a.rounding:il(e,0,8),i=br(new a(i),t,e),n=Ni(i),r=df(i,t<=n||n<=a.toExpNeg,t)),r};bt.toSignificantDigits=bt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(il(t,1,Yd),e===void 0?e=r.rounding:il(e,0,8)),br(new r(n),t,e)};bt.toString=bt.valueOf=bt.val=bt.toJSON=bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ni(t),n=t.constructor;return df(t,e<=n.toExpNeg||e>=n.toExpPos)};function lj(t,e){var n,r,i,a,c,h,y,g,w=t.constructor,A=w.precision;if(!t.s||!e.s)return e.s||(e=new w(t)),Gr?br(e,A):e;if(y=t.d,g=e.d,c=t.e,i=e.e,y=y.slice(),a=c-i,a){for(a<0?(r=y,a=-a,h=g.length):(r=g,i=c,h=y.length),c=Math.ceil(A/Rr),h=c>h?c+1:h+1,a>h&&(a=h,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(h=y.length,a=g.length,h-a<0&&(a=h,r=g,g=y,y=r),n=0;a;)n=(y[--a]=y[a]+g[a]+n)/ea|0,y[a]%=ea;for(n&&(y.unshift(n),++i),h=y.length;y[--h]==0;)y.pop();return e.d=y,e.e=i,Gr?br(e,A):e}function il(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Wc+t)}function Ko(t){var e,n,r,i=t.length-1,a="",c=t[0];if(i>0){for(a+=c,e=1;e<i;e++)r=t[e]+"",n=Rr-r.length,n&&(a+=Lu(n)),a+=r;c=t[e],r=c+"",n=Rr-r.length,n&&(a+=Lu(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return a+c}var zl=(function(){function t(r,i){var a,c=0,h=r.length;for(r=r.slice();h--;)a=r[h]*i+c,r[h]=a%ea|0,c=a/ea|0;return c&&r.unshift(c),r}function e(r,i,a,c){var h,y;if(a!=c)y=a>c?1:-1;else for(h=y=0;h<a;h++)if(r[h]!=i[h]){y=r[h]>i[h]?1:-1;break}return y}function n(r,i,a){for(var c=0;a--;)r[a]-=c,c=r[a]<i[a]?1:0,r[a]=c*ea+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,c){var h,y,g,w,A,I,R,j,k,L,G,K,W,ne,fe,Q,U,$,H=r.constructor,ae=r.s==i.s?1:-1,ie=r.d,Z=i.d;if(!r.s)return new H(r);if(!i.s)throw Error(ao+"Division by zero");for(y=r.e-i.e,U=Z.length,fe=ie.length,R=new H(ae),j=R.d=[],g=0;Z[g]==(ie[g]||0);)++g;if(Z[g]>(ie[g]||0)&&--y,a==null?K=a=H.precision:c?K=a+(Ni(r)-Ni(i))+1:K=a,K<0)return new H(0);if(K=K/Rr+2|0,g=0,U==1)for(w=0,Z=Z[0],K++;(g<fe||w)&&K--;g++)W=w*ea+(ie[g]||0),j[g]=W/Z|0,w=W%Z|0;else{for(w=ea/(Z[0]+1)|0,w>1&&(Z=t(Z,w),ie=t(ie,w),U=Z.length,fe=ie.length),ne=U,k=ie.slice(0,U),L=k.length;L<U;)k[L++]=0;$=Z.slice(),$.unshift(0),Q=Z[0],Z[1]>=ea/2&&++Q;do w=0,h=e(Z,k,U,L),h<0?(G=k[0],U!=L&&(G=G*ea+(k[1]||0)),w=G/Q|0,w>1?(w>=ea&&(w=ea-1),A=t(Z,w),I=A.length,L=k.length,h=e(A,k,I,L),h==1&&(w--,n(A,U<I?$:Z,I))):(w==0&&(h=w=1),A=Z.slice()),I=A.length,I<L&&A.unshift(0),n(k,A,L),h==-1&&(L=k.length,h=e(Z,k,U,L),h<1&&(w++,n(k,U<L?$:Z,L))),L=k.length):h===0&&(w++,k=[0]),j[g++]=w,h&&k[0]?k[L++]=ie[ne]||0:(k=[ie[ne]],L=1);while((ne++<fe||k[0]!==void 0)&&K--)}return j[0]||j.shift(),R.e=y,br(R,c?a+Ni(R)+1:a)}})();function uj(t,e){var n,r,i,a,c,h,y=0,g=0,w=t.constructor,A=w.precision;if(Ni(t)>16)throw Error(OA+Ni(t));if(!t.s)return new w(Ps);for(Gr=!1,h=A,c=new w(.03125);t.abs().gte(.1);)t=t.times(c),g+=5;for(r=Math.log(jc(2,g))/Math.LN10*2+5|0,h+=r,n=i=a=new w(Ps),w.precision=h;;){if(i=br(i.times(t),h),n=n.times(++y),c=a.plus(zl(i,n,h)),Ko(c.d).slice(0,h)===Ko(a.d).slice(0,h)){for(;g--;)a=br(a.times(a),h);return w.precision=A,e==null?(Gr=!0,br(a,A)):a}a=c}}function Ni(t){for(var e=t.e*Rr,n=t.d[0];n>=10;n/=10)e++;return e}function kw(t,e,n){if(e>t.LN10.sd())throw Gr=!0,n&&(t.precision=n),Error(ao+"LN10 precision limit exceeded");return br(new t(t.LN10),e)}function Lu(t){for(var e="";t--;)e+="0";return e}function q0(t,e){var n,r,i,a,c,h,y,g,w,A=1,I=10,R=t,j=R.d,k=R.constructor,L=k.precision;if(R.s<1)throw Error(ao+(R.s?"NaN":"-Infinity"));if(R.eq(Ps))return new k(0);if(e==null?(Gr=!1,g=L):g=e,R.eq(10))return e==null&&(Gr=!0),kw(k,g);if(g+=I,k.precision=g,n=Ko(j),r=n.charAt(0),a=Ni(R),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)R=R.times(t),n=Ko(R.d),r=n.charAt(0),A++;a=Ni(R),r>1?(R=new k("0."+n),a++):R=new k(r+"."+n.slice(1))}else return y=kw(k,g+2,L).times(a+""),R=q0(new k(r+"."+n.slice(1)),g-I).plus(y),k.precision=L,e==null?(Gr=!0,br(R,L)):R;for(h=c=R=zl(R.minus(Ps),R.plus(Ps),g),w=br(R.times(R),g),i=3;;){if(c=br(c.times(w),g),y=h.plus(zl(c,new k(i),g)),Ko(y.d).slice(0,g)===Ko(h.d).slice(0,g))return h=h.times(2),a!==0&&(h=h.plus(kw(k,g+2,L).times(a+""))),h=zl(h,new k(A),g),k.precision=L,e==null?(Gr=!0,br(h,L)):h;h=y,i+=2}}function hP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=$d(n/Rr),t.d=[],r=(n+1)%Rr,n<0&&(r+=Rr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Rr;r<i;)t.d.push(+e.slice(r,r+=Rr));e=e.slice(r),r=Rr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Gr&&(t.e>M1||t.e<-M1))throw Error(OA+n)}else t.s=0,t.e=0,t.d=[0];return t}function br(t,e,n){var r,i,a,c,h,y,g,w,A=t.d;for(c=1,a=A[0];a>=10;a/=10)c++;if(r=e-c,r<0)r+=Rr,i=e,g=A[w=0];else{if(w=Math.ceil((r+1)/Rr),a=A.length,w>=a)return t;for(g=a=A[w],c=1;a>=10;a/=10)c++;r%=Rr,i=r-Rr+c}if(n!==void 0&&(a=jc(10,c-i-1),h=g/a%10|0,y=e<0||A[w+1]!==void 0||g%a,y=n<4?(h||y)&&(n==0||n==(t.s<0?3:2)):h>5||h==5&&(n==4||y||n==6&&(r>0?i>0?g/jc(10,c-i):0:A[w-1])%10&1||n==(t.s<0?8:7))),e<1||!A[0])return y?(a=Ni(t),A.length=1,e=e-a-1,A[0]=jc(10,(Rr-e%Rr)%Rr),t.e=$d(-e/Rr)||0):(A.length=1,A[0]=t.e=t.s=0),t;if(r==0?(A.length=w,a=1,w--):(A.length=w+1,a=jc(10,Rr-r),A[w]=i>0?(g/jc(10,c-i)%jc(10,i)|0)*a:0),y)for(;;)if(w==0){(A[0]+=a)==ea&&(A[0]=1,++t.e);break}else{if(A[w]+=a,A[w]!=ea)break;A[w--]=0,a=1}for(r=A.length;A[--r]===0;)A.pop();if(Gr&&(t.e>M1||t.e<-M1))throw Error(OA+Ni(t));return t}function cj(t,e){var n,r,i,a,c,h,y,g,w,A,I=t.constructor,R=I.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new I(t),Gr?br(e,R):e;if(y=t.d,A=e.d,r=e.e,g=t.e,y=y.slice(),c=g-r,c){for(w=c<0,w?(n=y,c=-c,h=A.length):(n=A,r=g,h=y.length),i=Math.max(Math.ceil(R/Rr),h)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=y.length,h=A.length,w=i<h,w&&(h=i),i=0;i<h;i++)if(y[i]!=A[i]){w=y[i]<A[i];break}c=0}for(w&&(n=y,y=A,A=n,e.s=-e.s),h=y.length,i=A.length-h;i>0;--i)y[h++]=0;for(i=A.length;i>c;){if(y[--i]<A[i]){for(a=i;a&&y[--a]===0;)y[a]=ea-1;--y[a],y[i]+=ea}y[i]-=A[i]}for(;y[--h]===0;)y.pop();for(;y[0]===0;y.shift())--r;return y[0]?(e.d=y,e.e=r,Gr?br(e,R):e):new I(0)}function df(t,e,n){var r,i=Ni(t),a=Ko(t.d),c=a.length;return e?(n&&(r=n-c)>0?a=a.charAt(0)+"."+a.slice(1)+Lu(r):c>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Lu(-i-1)+a,n&&(r=n-c)>0&&(a+=Lu(r))):i>=c?(a+=Lu(i+1-c),n&&(r=n-i-1)>0&&(a=a+"."+Lu(r))):((r=i+1)<c&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(a+="."),a+=Lu(r))),t.s<0?"-"+a:a}function mP(t,e){if(t.length>e)return t.length=e,!0}function fj(t){var e,n,r;function i(a){var c=this;if(!(c instanceof i))return new i(a);if(c.constructor=i,a instanceof i){c.s=a.s,c.e=a.e,c.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Wc+a);if(a>0)c.s=1;else if(a<0)a=-a,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(a===~~a&&a<1e7){c.e=0,c.d=[a];return}return hP(c,a.toString())}else if(typeof a!="string")throw Error(Wc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),c.s=-1):c.s=1,yoe.test(a))hP(c,a);else throw Error(Wc+a)}if(i.prototype=bt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fj,i.config=i.set=voe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function voe(t){if(!t||typeof t!="object")throw Error(ao+"Object expected");var e,n,r,i=["precision",1,Yd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if($d(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Wc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wc+n+": "+r);return this}var NA=fj(poe);Ps=new NA(1);const sr=NA;function dj(t){var e;return t===0?e=1:e=Math.floor(new sr(t).abs().log(10).toNumber())+1,e}function hj(t,e,n){for(var r=new sr(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var mj=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},gj=(t,e,n)=>{if(t.lte(0))return new sr(0);var r=dj(t.toNumber()),i=new sr(10).pow(r),a=t.div(i),c=r!==1?.05:.1,h=new sr(Math.ceil(a.div(c).toNumber())).add(n).mul(c),y=h.mul(i);return e?new sr(y.toNumber()):new sr(Math.ceil(y.toNumber()))},xoe=(t,e,n)=>{var r=new sr(1),i=new sr(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new sr(10).pow(dj(t)-1),i=new sr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new sr(Math.floor(t)))}else t===0?i=new sr(Math.floor((e-1)/2)):n||(i=new sr(Math.floor(t)));for(var c=Math.floor((e-1)/2),h=[],y=0;y<e;y++)h.push(i.add(new sr(y-c).mul(r)).toNumber());return h},pj=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new sr(0),tickMin:new sr(0),tickMax:new sr(0)};var c=gj(new sr(n).sub(e).div(r-1),i,a),h;e<=0&&n>=0?h=new sr(0):(h=new sr(e).add(n).div(2),h=h.sub(new sr(h).mod(c)));var y=Math.ceil(h.sub(e).div(c).toNumber()),g=Math.ceil(new sr(n).sub(h).div(c).toNumber()),w=y+g+1;return w>r?pj(e,n,r,i,a+1):(w<r&&(g=n>0?g+(r-w):g,y=n>0?y:y+(r-w)),{step:c,tickMin:h.sub(new sr(y).mul(c)),tickMax:h.add(new sr(g).mul(c))})},boe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[h,y]=mj([n,r]);if(h===-1/0||y===1/0){var g=y===1/0?[h,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),y];return n>r?g.reverse():g}if(h===y)return xoe(h,i,a);var{step:w,tickMin:A,tickMax:I}=pj(h,y,c,a,0),R=hj(A,I.add(new sr(.1).mul(w)),w);return n>r?R.reverse():R},woe=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,h]=mj([r,i]);if(c===-1/0||h===1/0)return[r,i];if(c===h)return[c];var y=Math.max(n,2),g=gj(new sr(h).sub(c).div(y-1),a,0),w=[...hj(new sr(c),new sr(h),g),h];return a===!1&&(w=w.map(A=>Math.round(A))),r>i?w.reverse():w},yj=t=>t.rootProps.maxBarSize,Eoe=t=>t.rootProps.barGap,vj=t=>t.rootProps.barCategoryGap,_oe=t=>t.rootProps.barSize,_m=t=>t.rootProps.stackOffset,xj=t=>t.rootProps.reverseStackOrder,RA=t=>t.options.chartName,PA=t=>t.rootProps.syncId,bj=t=>t.rootProps.syncMethod,DA=t=>t.options.eventEmitter,pi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Rc={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Uo={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},$y=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Xy(t,e,n){if(n!=="auto")return n;if(t!=null)return iu(t,e)?"category":"number"}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){Aoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aoe(t,e,n){return(e=Soe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Soe(t){var e=Coe(t,"string");return typeof e=="symbol"?e:e+""}function Coe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pP={allowDataOverflow:Rc.allowDataOverflow,allowDecimals:Rc.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Rc.angleAxisId,includeHidden:!1,name:void 0,reversed:Rc.reversed,scale:Rc.scale,tick:Rc.tick,tickCount:void 0,ticks:void 0,type:Rc.type,unit:void 0},yP={allowDataOverflow:Uo.allowDataOverflow,allowDecimals:Uo.allowDecimals,allowDuplicatedCategory:Uo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Uo.radiusAxisId,includeHidden:Uo.includeHidden,name:void 0,reversed:Uo.reversed,scale:Uo.scale,tick:Uo.tick,tickCount:Uo.tickCount,ticks:void 0,type:Uo.type,unit:void 0},Toe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},MA=Te([Toe,a9],(t,e)=>{var n;if(t!=null)return t;var r=(n=Xy(e,"angleAxis",pP.type))!==null&&n!==void 0?n:"category";return k1(k1({},pP),{},{type:r})}),Ioe=(t,e)=>t.polarAxis.radiusAxis[e],kA=Te([Ioe,a9],(t,e)=>{var n;if(t!=null)return t;var r=(n=Xy(e,"radiusAxis",yP.type))!==null&&n!==void 0?n:"category";return k1(k1({},yP),{},{type:r})}),Zy=t=>t.polarOptions,jA=Te([au,su,Vi],E9),wj=Te([Zy,jA],(t,e)=>{if(t!=null)return za(t.innerRadius,e,0)}),Ej=Te([Zy,jA],(t,e)=>{if(t!=null)return za(t.outerRadius,e,e*.8)}),Ooe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},_j=Te([Zy],Ooe);Te([MA,_j],$y);var Aj=Te([jA,wj,Ej],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Te([kA,Aj],$y);var Sj=Te([qn,Zy,wj,Ej,au,su],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:h,startAngle:y,endAngle:g}=e;return{cx:za(c,i,i/2),cy:za(h,a,a/2),innerRadius:n,outerRadius:r,startAngle:y,endAngle:g,clockWise:!1}}}),Qr=(t,e)=>e,Am=(t,e,n)=>n;function LA(t){return t?.id}function Cj(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,c=new Map;return t.forEach(h=>{var y,g=(y=h.data)!==null&&y!==void 0?y:r;if(!(g==null||g.length===0)){var w=LA(h);g.forEach((A,I)=>{var R=a==null||i?I:String(hr(A,a,null)),j=hr(A,h.dataKey,0),k;c.has(R)?k=c.get(R):k={},Object.assign(k,{[w]:j}),c.set(R,k)})}}),Array.from(c.values())}function Qy(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Jy=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function ev(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Noe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var ra=t=>{var e=qn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Xd=t=>t.tooltip.settings.axisId;function Roe(t){if(t in a0)return a0[t]();var e="scale".concat(cm(t));if(e in a0)return a0[e]()}function vP(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(a){function c(){return a.apply(this,arguments)}return c.toString=function(){return a.toString()},c})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var c=i[0],h=i[1];return c<=h?a>=c&&a<=h:a>=h&&a<=c},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,c)=>{var h=t(a);if(h!=null){if(t.bandwidth&&c!==null&&c!==void 0&&c.position){var y=t.bandwidth();switch(c.position){case"middle":h+=y/2;break;case"end":h+=y;break}}return h}}}}function xP(t,e,n){if(typeof t=="function")return vP(t.copy().domain(e).range(n));if(t!=null){var r=Roe(t);if(r!=null)return r.domain(e).range(n),vP(r)}}var Tj=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!eu(e)){for(var n,r,i=0;i<e.length;i++){var a=e[i];un(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){Poe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Poe(t,e,n){return(e=Doe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Doe(t){var e=Moe(t,"string");return typeof e=="symbol"?e:e+""}function Moe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pE=[0,"auto"],Zi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ij=(t,e)=>t.cartesianAxis.xAxis[e],ll=(t,e)=>{var n=Ij(t,e);return n??Zi},Qi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:pE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hm},Oj=(t,e)=>t.cartesianAxis.yAxis[e],ul=(t,e)=>{var n=Oj(t,e);return n??Qi},koe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},BA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??koe},ui=(t,e,n)=>{switch(e){case"xAxis":return ll(t,n);case"yAxis":return ul(t,n);case"zAxis":return BA(t,n);case"angleAxis":return MA(t,n);case"radiusAxis":return kA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},joe=(t,e,n)=>{switch(e){case"xAxis":return ll(t,n);case"yAxis":return ul(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Zd=(t,e,n)=>{switch(e){case"xAxis":return ll(t,n);case"yAxis":return ul(t,n);case"angleAxis":return MA(t,n);case"radiusAxis":return kA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Nj=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function FA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var tv=t=>t.graphicalItems.cartesianItems,Loe=Te([Qr,Am],FA),UA=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Sm=Te([tv,ui,Loe],UA,{memoizeOptions:{resultEqualityCheck:ev}}),Rj=Te([Sm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Qy)),Pj=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Boe=Te([Sm],Pj),VA=t=>t.map(e=>e.data).filter(Boolean).flat(1),Foe=Te([Sm],VA,{memoizeOptions:{resultEqualityCheck:ev}}),zA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},qA=Te([Foe,IA],zA),HA=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:hr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:hr(i,r)}))):t.map(r=>({value:r})),nv=Te([qA,ui,Sm],HA);function Dj(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function bp(t){if(ro(t)||t instanceof Date){var e=Number(t);if(un(e))return e}}function wP(t){if(Array.isArray(t)){var e=[bp(t[0]),bp(t[1])];return eu(e)?e:void 0}var n=bp(t);if(n!=null)return[n,n]}function tu(t){return t.map(bp).filter(ps)}function Uoe(t,e,n){return!n||typeof e!="number"||nl(e)?[]:n.length?tu(n.flatMap(r=>{var i=hr(t,r.dataKey),a,c;if(Array.isArray(i)?[a,c]=i:a=c=i,!(!un(a)||!un(c)))return[e-a,e+c]})):[]}var qi=t=>{var e=ra(t),n=Xd(t);return Zd(t,e,n)},Cm=Te([qi],t=>t?.dataKey),Voe=Te([Rj,IA,qi],Cj),Mj=(t,e,n,r)=>{var i={},a=e.reduce((c,h)=>{if(h.stackId==null)return c;var y=c[h.stackId];return y==null&&(y=[]),y.push(h),c[h.stackId]=y,c},i);return Object.fromEntries(Object.entries(a).map(c=>{var[h,y]=c,g=r?[...y].reverse():y,w=g.map(LA);return[h,{stackedData:Ene(t,w,n),graphicalItems:g}]}))},yE=Te([Voe,Rj,_m,xj],Mj),kj=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var c=Tne(t,i,a);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},zoe=Te([ui],t=>t.allowDataOverflow),GA=t=>{var e;if(t==null||!("domain"in t))return pE;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=tu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:pE},WA=Te([ui],GA),KA=Te([WA,zoe],sj),qoe=Te([yE,lu,Qr,KA],kj,{memoizeOptions:{resultEqualityCheck:Jy}}),rv=t=>t.errorBars,Hoe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Dj(n,r)),L1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),c=Math.min(...a),h=Math.max(...a);return[c,h]}},YA=(t,e,n,r,i)=>{var a,c;if(n.length>0&&t.forEach(h=>{n.forEach(y=>{var g,w,A=(g=r[y.id])===null||g===void 0?void 0:g.filter(G=>Dj(i,G)),I=hr(h,(w=e.dataKey)!==null&&w!==void 0?w:y.dataKey),R=Uoe(h,I,A);if(R.length>=2){var j=Math.min(...R),k=Math.max(...R);(a==null||j<a)&&(a=j),(c==null||k>c)&&(c=k)}var L=wP(I);L!=null&&(a=a==null?L[0]:Math.min(a,L[0]),c=c==null?L[1]:Math.max(c,L[1]))})}),e?.dataKey!=null&&t.forEach(h=>{var y=wP(hr(h,e.dataKey));y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),c=c==null?y[1]:Math.max(c,y[1]))}),un(a)&&un(c))return[a,c]},Goe=Te([qA,ui,Boe,rv,Qr],YA,{memoizeOptions:{resultEqualityCheck:Jy}});function Woe(t){var{value:e}=t;if(ro(e)||e instanceof Date)return e}var Koe=(t,e,n)=>{var r=t.map(Woe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&e5(r))?C9(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},jj=t=>t.referenceElements.dots,Qd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Yoe=Te([jj,Qr,Am],Qd),Lj=t=>t.referenceElements.areas,$oe=Te([Lj,Qr,Am],Qd),Bj=t=>t.referenceElements.lines,Xoe=Te([Bj,Qr,Am],Qd),Fj=(t,e)=>{if(t!=null){var n=tu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Zoe=Te(Yoe,Qr,Fj),Uj=(t,e)=>{if(t!=null){var n=tu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Qoe=Te([$oe,Qr],Uj);function Joe(t){var e;if(t.x!=null)return tu([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:tu(n)}function ele(t){var e;if(t.y!=null)return tu([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:tu(n)}var Vj=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Joe(r):ele(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},tle=Te([Xoe,Qr],Vj),nle=Te(Zoe,tle,Qoe,(t,e,n)=>L1(t,n,e)),$A=(t,e,n,r,i,a,c,h)=>{if(n!=null)return n;var y=c==="vertical"&&h==="xAxis"||c==="horizontal"&&h==="yAxis",g=y?L1(r,a,i):L1(a,i);return goe(e,g,t.allowDataOverflow)},rle=Te([ui,WA,KA,qoe,Goe,nle,qn,Qr],$A,{memoizeOptions:{resultEqualityCheck:Jy}}),ile=[0,1],XA=(t,e,n,r,i,a,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:h,type:y}=t,g=iu(e,a);if(g&&h==null){var w;return C9(0,(w=n?.length)!==null&&w!==void 0?w:0)}return y==="category"?Koe(r,t,g):i==="expand"?ile:c}},ZA=Te([ui,qn,qA,nv,_m,Qr,rle],XA);function ale(t){return t in a0}var zj=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(cm(r));return ale(a)?a:"point"}}},yc=Te([ui,Nj,RA],zj);function QA(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?xP(t.scale,n,r):xP(e,n,r)}var JA=(t,e,n)=>{var r=GA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&eu(t))return boe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&eu(t))return woe(t,e.tickCount,e.allowDecimals)}},eS=Te([ZA,Zd,yc],JA),tS=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&eu(e)&&Array.isArray(n)&&n.length>0){var i,a,c=e[0],h=(i=n[0])!==null&&i!==void 0?i:0,y=e[1],g=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(c,h),Math.max(y,g)]}return e},sle=Te([ui,ZA,eS,Qr],tS),ole=Te(nv,ui,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(tu(t.map(A=>A.value))).sort((A,I)=>A-I),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var c=a-i;if(c===0)return 1/0;for(var h=0;h<r.length-1;h++){var y=r[h],g=r[h+1];if(!(y==null||g==null)){var w=g-y;n=Math.min(n,w)}}return n/c}}),qj=Te(ole,qn,vj,Vi,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!un(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var c=za(n,t*a),h=t*a/2;return h-c-(h-c)/a*c}return 0}),lle=(t,e,n)=>{var r=ll(t,e);return r==null||typeof r.padding!="string"?0:qj(t,"xAxis",e,n,r.padding)},ule=(t,e,n)=>{var r=ul(t,e);return r==null||typeof r.padding!="string"?0:qj(t,"yAxis",e,n,r.padding)},cle=Te(ll,lle,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),fle=Te(ul,ule,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),dle=Te([Vi,cle,Ly,jy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),hle=Te([Vi,qn,fle,Ly,jy,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:c}=i;return a?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Tm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return dle(t,n,r);case"yAxis":return hle(t,n,r);case"zAxis":return(i=BA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return _j(t);case"radiusAxis":return Aj(t,n);default:return}},Hj=Te([ui,Tm],$y),mle=Te([yc,sle],Tj),Md=Te([ui,yc,mle,Hj],QA);Te([Sm,rv,Qr],Hoe);function Gj(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var iv=(t,e)=>e,av=(t,e,n)=>n,gle=Te(My,iv,av,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Gj)),ple=Te(ky,iv,av,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Gj)),Wj=(t,e)=>({width:t.width,height:e.height}),yle=(t,e)=>{var n=typeof e.width=="number"?e.width:hm;return{width:n,height:t.height}},Kj=Te(Vi,ll,Wj),vle=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},xle=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},ble=Te(su,Vi,gle,iv,av,(t,e,n,r,i)=>{var a={},c;return n.forEach(h=>{var y=Wj(e,h);c==null&&(c=vle(e,r,t));var g=r==="top"&&!i||r==="bottom"&&i;a[h.id]=c-Number(g)*y.height,c+=(g?-1:1)*y.height}),a}),wle=Te(au,Vi,ple,iv,av,(t,e,n,r,i)=>{var a={},c;return n.forEach(h=>{var y=yle(e,h);c==null&&(c=xle(e,r,t));var g=r==="left"&&!i||r==="right"&&i;a[h.id]=c-Number(g)*y.width,c+=(g?-1:1)*y.width}),a}),Ele=(t,e)=>{var n=ll(t,e);if(n!=null)return ble(t,n.orientation,n.mirror)},_le=Te([Vi,ll,Ele,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Ale=(t,e)=>{var n=ul(t,e);if(n!=null)return wle(t,n.orientation,n.mirror)},Sle=Te([Vi,ul,Ale,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Yj=Te(Vi,ul,(t,e)=>{var n=typeof e.width=="number"?e.width:hm;return{width:n,height:t.height}}),EP=(t,e,n)=>{switch(e){case"xAxis":return Kj(t,n).width;case"yAxis":return Yj(t,n).height;default:return}},$j=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:c}=n,h=iu(t,r),y=e.map(g=>g.value);if(c&&h&&a==="category"&&i&&e5(y))return y}},nS=Te([qn,nv,ui,Qr],$j),Xj=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,c=iu(t,r);if(c&&(i==="number"||a!=="auto"))return e.map(h=>h.value)}},rS=Te([qn,nv,Zd,Qr],Xj),_P=Te([qn,joe,yc,Md,nS,rS,Tm,eS,Qr],(t,e,n,r,i,a,c,h,y)=>{if(e!=null){var g=iu(t,y);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:y,categoricalDomain:a,duplicateDomain:i,isCategorical:g,niceTicks:h,range:c,realScaleType:n,scale:r}}}),Cle=(t,e,n,r,i,a,c,h,y)=>{if(!(e==null||r==null)){var g=iu(t,y),{type:w,ticks:A,tickCount:I}=e,R=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=w==="category"&&r.bandwidth?r.bandwidth()/R:0;j=y==="angleAxis"&&a!=null&&a.length>=2?ta(a[0]-a[1])*2*j:j;var k=A||i;return k?k.map((L,G)=>{var K=c?c.indexOf(L):L,W=r.map(K);return un(W)?{index:G,coordinate:W+j,value:L,offset:j}:null}).filter(ps):g&&h?h.map((L,G)=>{var K=r.map(L);return un(K)?{coordinate:K+j,value:L,index:G,offset:j}:null}).filter(ps):r.ticks?r.ticks(I).map((L,G)=>{var K=r.map(L);return un(K)?{coordinate:K+j,value:L,index:G,offset:j}:null}).filter(ps):r.domain().map((L,G)=>{var K=r.map(L);return un(K)?{coordinate:K+j,value:c?c[L]:L,index:G,offset:j}:null}).filter(ps)}},Zj=Te([qn,Zd,yc,Md,eS,Tm,nS,rS,Qr],Cle),Tle=(t,e,n,r,i,a,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var h=iu(t,c),{tickCount:y}=e,g=0;return g=c==="angleAxis"&&r?.length>=2?ta(r[0]-r[1])*2*g:g,h&&a?a.map((w,A)=>{var I=n.map(w);return un(I)?{coordinate:I+g,value:w,index:A,offset:g}:null}).filter(ps):n.ticks?n.ticks(y).map((w,A)=>{var I=n.map(w);return un(I)?{coordinate:I+g,value:w,index:A,offset:g}:null}).filter(ps):n.domain().map((w,A)=>{var I=n.map(w);return un(I)?{coordinate:I+g,value:i?i[w]:w,index:A,offset:g}:null}).filter(ps)}},uc=Te([qn,Zd,Md,Tm,nS,rS,Qr],Tle),cc=Te(ui,Md,(t,e)=>{if(!(t==null||e==null))return j1(j1({},t),{},{scale:e})}),Ile=Te([ui,yc,ZA,Hj],QA);Te((t,e,n)=>BA(t,n),Ile,(t,e)=>{if(!(t==null||e==null))return j1(j1({},t),{},{scale:e})});var Ole=Te([qn,My,ky],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Qj=t=>t.options.defaultTooltipEventType,Jj=t=>t.options.validateTooltipEventTypes;function e7(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function iS(t,e){var n=Qj(t),r=Jj(t);return e7(e,n,r)}function Nle(t){return xt(e=>iS(e,t))}var t7=(t,e)=>{var n,r=Number(e);if(!(nl(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Rle=t=>t.tooltip.settings,Hu={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Ple={itemInteraction:{click:Hu,hover:Hu},axisInteraction:{click:Hu,hover:Hu},keyboardInteraction:Hu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},n7=xs({name:"tooltip",initialState:Ple,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:qr()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Eo(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:qr()},removeTooltipEntrySettings:{reducer(t,e){var n=Eo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:qr()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Dle,replaceTooltipEntrySettings:Mle,removeTooltipEntrySettings:kle,setTooltipSettingsState:jle,setActiveMouseOverItemIndex:r7,mouseLeaveItem:Lle,mouseLeaveChart:i7,setActiveClickItemIndex:Ble,setMouseOverAxisIndex:a7,setMouseClickAxisIndex:Fle,setSyncInteraction:vE,setKeyboardInteraction:xE}=n7.actions,Ule=n7.reducer;function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){Vle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vle(t,e,n){return(e=zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=qle(t,"string");return typeof e=="symbol"?e:e+""}function qle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hle(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Gle(t){return t.index!=null}var s7=(t,e,n,r)=>{if(e==null)return Hu;var i=Hle(t,e,n);if(i==null)return Hu;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Gle(i)){if(a)return Qg(Qg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Qg(Qg({},Hu),{},{coordinate:i.coordinate})};function Wle(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Kle(t,e){var n=Wle(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),c=Math.max(r,i);return n>=a&&n<=c}function Yle(t,e,n){if(n==null||e==null)return!0;var r=hr(t,e);return r==null||!eu(n)?!0:Kle(r,n)}var aS=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!un(a))return i;var c=0,h=1/0;e.length>0&&(h=e.length-1);var y=Math.max(c,Math.min(a,h)),g=e[y];return g==null||Yle(g,n,r)?String(y):null},o7=(t,e,n,r,i,a,c)=>{if(a!=null){var h=c[0],y=h?.getPosition(a);if(y!=null)return y;var g=i?.[Number(a)];if(g)return n==="horizontal"?{x:g.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:g.coordinate}}},l7=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(c=>{var h;return((h=c.settings)===null||h===void 0?void 0:h.graphicalItemId)===i})},u7=t=>t.options.tooltipPayloadSearcher,Jd=t=>t.tooltip;function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){$le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $le(t,e,n){return(e=Xle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xle(t){var e=Zle(t,"string");return typeof e=="symbol"?e:e+""}function Zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qle(t,e){return t??e}var c7=(t,e,n,r,i,a,c)=>{if(!(e==null||a==null)){var{chartData:h,computedData:y,dataStartIndex:g,dataEndIndex:w}=n,A=[];return t.reduce((I,R)=>{var j,{dataDefinedOnItem:k,settings:L}=R,G=Qle(k,h),K=Array.isArray(G)?W5(G,g,w):G,W=(j=L?.dataKey)!==null&&j!==void 0?j:r,ne=L?.nameKey,fe;if(r&&Array.isArray(K)&&!Array.isArray(K[0])&&c==="axis"?fe=t5(K,r,i):fe=a(K,e,y,ne),Array.isArray(fe))fe.forEach(U=>{var $=CP(CP({},L),{},{name:U.name,unit:U.unit,color:void 0,fill:void 0});I.push(C4({tooltipEntrySettings:$,dataKey:U.dataKey,payload:U.payload,value:hr(U.payload,U.dataKey),name:U.name}))});else{var Q;I.push(C4({tooltipEntrySettings:L,dataKey:W,payload:fe,value:hr(fe,W),name:(Q=hr(fe,ne))!==null&&Q!==void 0?Q:L?.name}))}return I},A)}},sS=Te([qi,Nj,RA],zj),Jle=Te([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),eue=Te([ra,Xd],FA),eh=Te([Jle,qi,eue],UA,{memoizeOptions:{resultEqualityCheck:ev}}),tue=Te([eh],t=>t.filter(Qy)),nue=Te([eh],VA,{memoizeOptions:{resultEqualityCheck:ev}}),th=Te([nue,lu],zA),rue=Te([tue,lu,qi],Cj),oS=Te([th,qi,eh],HA),f7=Te([qi],GA),iue=Te([qi],t=>t.allowDataOverflow),d7=Te([f7,iue],sj),aue=Te([eh],t=>t.filter(Qy)),sue=Te([rue,aue,_m,xj],Mj),oue=Te([sue,lu,ra,d7],kj),lue=Te([eh],Pj),uue=Te([th,qi,lue,rv,ra],YA,{memoizeOptions:{resultEqualityCheck:Jy}}),cue=Te([jj,ra,Xd],Qd),fue=Te([cue,ra],Fj),due=Te([Lj,ra,Xd],Qd),hue=Te([due,ra],Uj),mue=Te([Bj,ra,Xd],Qd),gue=Te([mue,ra],Vj),pue=Te([fue,gue,hue],L1),yue=Te([qi,f7,d7,oue,uue,pue,qn,ra],$A),Im=Te([qi,qn,th,oS,_m,ra,yue],XA),vue=Te([Im,qi,sS],JA),xue=Te([qi,Im,vue,ra],tS),h7=t=>{var e=ra(t),n=Xd(t),r=!1;return Tm(t,e,n,r)},m7=Te([qi,h7],$y),g7=Te([qi,sS,xue,m7],QA),bue=Te([qn,oS,qi,ra],$j),wue=Te([qn,oS,qi,ra],Xj),Eue=(t,e,n,r,i,a,c,h)=>{if(e){var{type:y}=e,g=iu(t,h);if(r){var w=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,A=y==="category"&&r.bandwidth?r.bandwidth()/w:0;return A=h==="angleAxis"&&i!=null&&i?.length>=2?ta(i[0]-i[1])*2*A:A,g&&c?c.map((I,R)=>{var j=r.map(I);return un(j)?{coordinate:j+A,value:I,index:R,offset:A}:null}).filter(ps):r.domain().map((I,R)=>{var j=r.map(I);return un(j)?{coordinate:j+A,value:a?a[I]:I,index:R,offset:A}:null}).filter(ps)}}},uu=Te([qn,qi,sS,g7,h7,bue,wue,ra],Eue),lS=Te([Qj,Jj,Rle],(t,e,n)=>e7(n.shared,t,e)),p7=t=>t.tooltip.settings.trigger,uS=t=>t.tooltip.settings.defaultIndex,Om=Te([Jd,lS,p7,uS],s7),fc=Te([Om,th,Cm,Im],aS),y7=Te([uu,fc],t7),cS=Te([Om],t=>{if(t)return t.dataKey}),_ue=Te([Om],t=>{if(t)return t.graphicalItemId}),v7=Te([Jd,lS,p7,uS],l7),Aue=Te([au,su,qn,Vi,uu,uS,v7],o7),Sue=Te([Om,Aue],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Cue=Te([Om],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Tue=Te([v7,fc,lu,Cm,y7,u7,lS],c7),Iue=Te([Tue],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){Oue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oue(t,e,n){return(e=Nue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nue(t){var e=Rue(t,"string");return typeof e=="symbol"?e:e+""}function Rue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pue=()=>xt(qi),Due=()=>{var t=Pue(),e=xt(uu),n=xt(g7);return Od(!t||!n?void 0:IP(IP({},t),{},{scale:n}),e)};function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){Mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mue(t,e,n){return(e=kue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kue(t){var e=jue(t,"string");return typeof e=="symbol"?e:e+""}function jue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lue=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Bue=(t,e,n,r)=>{var i=e.find(g=>g&&g.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:c}=r;return ed(ed(ed({},r),Oi(r.cx,r.cy,c,a)),{},{angle:a,radius:c})}var h=i.coordinate,{angle:y}=r;return ed(ed(ed({},r),Oi(r.cx,r.cy,h,y)),{},{angle:y,radius:h})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Fue(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var x7=(t,e,n,r,i)=>{var a,c=(a=e?.length)!==null&&a!==void 0?a:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var h=0;h<c;h++){var y,g,w,A,I,R=h>0?(y=n[h-1])===null||y===void 0?void 0:y.coordinate:(g=n[c-1])===null||g===void 0?void 0:g.coordinate,j=(w=n[h])===null||w===void 0?void 0:w.coordinate,k=h>=c-1?(A=n[0])===null||A===void 0?void 0:A.coordinate:(I=n[h+1])===null||I===void 0?void 0:I.coordinate,L=void 0;if(!(R==null||j==null||k==null))if(ta(j-R)!==ta(k-j)){var G=[];if(ta(k-j)===ta(i[1]-i[0])){L=k;var K=j+i[1]-i[0];G[0]=Math.min(K,(K+R)/2),G[1]=Math.max(K,(K+R)/2)}else{L=R;var W=k+i[1]-i[0];G[0]=Math.min(j,(W+j)/2),G[1]=Math.max(j,(W+j)/2)}var ne=[Math.min(j,(L+j)/2),Math.max(j,(L+j)/2)];if(t>ne[0]&&t<=ne[1]||t>=G[0]&&t<=G[1]){var fe;return(fe=n[h])===null||fe===void 0?void 0:fe.index}}else{var Q=Math.min(R,k),U=Math.max(R,k);if(t>(Q+j)/2&&t<=(U+j)/2){var $;return($=n[h])===null||$===void 0?void 0:$.index}}}else if(e)for(var H=0;H<c;H++){var ae=e[H];if(ae!=null){var ie=e[H+1],Z=e[H-1];if(H===0&&ie!=null&&t<=(ae.coordinate+ie.coordinate)/2||H===c-1&&Z!=null&&t>(ae.coordinate+Z.coordinate)/2||H>0&&H<c-1&&Z!=null&&ie!=null&&t>(ae.coordinate+Z.coordinate)/2&&t<=(ae.coordinate+ie.coordinate)/2)return ae.index}}return-1},Uue=()=>xt(RA),fS=(t,e)=>e,b7=(t,e,n)=>n,dS=(t,e,n,r)=>r,Vue=Te(uu,t=>Ay(t,e=>e.coordinate)),hS=Te([Jd,fS,b7,dS],s7),mS=Te([hS,th,Cm,Im],aS),zue=(t,e,n)=>{if(e!=null){var r=Jd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},w7=Te([Jd,fS,b7,dS],l7),B1=Te([au,su,qn,Vi,uu,dS,w7],o7),que=Te([hS,B1],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),E7=Te([uu,mS],t7),Hue=Te([w7,mS,lu,Cm,E7,u7,fS],c7),Gue=Te([hS,mS],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Wue=(t,e,n,r,i,a,c)=>{if(!(!t||!n||!r||!i)&&Fue(t,c)){var h=Ine(t,e),y=x7(h,a,i,n,r),g=Lue(e,i,y,t);return{activeIndex:String(y),activeCoordinate:g}}},Kue=(t,e,n,r,i,a,c)=>{if(!(!t||!r||!i||!a||!n)){var h=Nie(t,n);if(h){var y=One(h,e),g=x7(y,c,a,r,i),w=Bue(e,a,g,h);return{activeIndex:String(g),activeCoordinate:w}}}},Yue=(t,e,n,r,i,a,c,h)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?Wue(t,e,r,i,a,c,h):Kue(t,e,n,r,i,a,c)},$ue=Te(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Xue=Te(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(pi)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Noe}});function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){Zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zue(t,e,n){return(e=Que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Que(t){var e=Jue(t,"string");return typeof e=="symbol"?e:e+""}function Jue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ece={},tce={zIndexMap:Object.values(pi).reduce((t,e)=>RP(RP({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),ece)},nce=new Set(Object.values(pi));function rce(t){return nce.has(t)}var _7=xs({name:"zIndex",initialState:tce,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:qr()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!rce(n)&&delete t.zIndexMap[n])},prepare:qr()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:qr()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:qr()}}}),{registerZIndexPortal:ice,unregisterZIndexPortal:ace,registerZIndexPortalElement:sce,unregisterZIndexPortalElement:oce}=_7.actions,lce=_7.reducer;function Ja(t){var{zIndex:e,children:n}=t,r=are(),i=r&&e!==void 0&&e!==0,a=_a(),c=Mr();D.useLayoutEffect(()=>i?(c(ice({zIndex:e})),()=>{c(ace({zIndex:e}))}):bf,[c,e,i]);var h=xt(y=>$ue(y,e,a));return i?h?S6.createPortal(n,h):null:n}function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(null,arguments)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){uce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uce(t,e,n){return(e=cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cce(t){var e=fce(t,"string");return typeof e=="symbol"?e:e+""}function fce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dce(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return D.isValidElement(e)?D.cloneElement(e,r):D.createElement(n,r)}function hce(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:c,layout:h,cursor:y,tooltipEventType:g,chartName:w}=t,A=n,I=r,R=i;if(!y||!A||w!=="ScatterChart"&&g!=="axis")return null;var j,k,L;if(w==="ScatterChart")j=A,k=Hre,L=pi.cursorLine;else if(w==="BarChart")j=Gre(h,A,a,c),k=w9,L=pi.cursorRectangle;else if(h==="radial"&&i5(A)){var{cx:G,cy:K,radius:W,startAngle:ne,endAngle:fe}=_9(A);j={cx:G,cy:K,startAngle:ne,endAngle:fe,innerRadius:W,outerRadius:W},k=S9,L=pi.cursorLine}else j={points:Mie(h,A,a)},k=iA,L=pi.cursorLine;var Q=typeof y=="object"&&"className"in y?y.className:void 0,U=Jg(Jg(Jg(Jg({stroke:"#ccc",pointerEvents:"none"},a),j),af(y)),{},{payload:I,payloadIndex:R,className:Vn("recharts-tooltip-cursor",Q)});return D.createElement(Ja,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:L},D.createElement(dce,{cursor:y,cursorComp:k,cursorProps:U}))}function mce(t){var e=Due(),n=t9(),r=wf(),i=Uue();return e==null||n==null||r==null||i==null?null:D.createElement(hce,bE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var A7=D.createContext(null),gce=()=>D.useContext(A7),jw={exports:{}},DP;function pce(){return DP||(DP=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(y,g,w){this.fn=y,this.context=g,this.once=w||!1}function a(y,g,w,A,I){if(typeof w!="function")throw new TypeError("The listener must be a function");var R=new i(w,A||y,I),j=n?n+g:g;return y._events[j]?y._events[j].fn?y._events[j]=[y._events[j],R]:y._events[j].push(R):(y._events[j]=R,y._eventsCount++),y}function c(y,g){--y._eventsCount===0?y._events=new r:delete y._events[g]}function h(){this._events=new r,this._eventsCount=0}h.prototype.eventNames=function(){var g=[],w,A;if(this._eventsCount===0)return g;for(A in w=this._events)e.call(w,A)&&g.push(n?A.slice(1):A);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(w)):g},h.prototype.listeners=function(g){var w=n?n+g:g,A=this._events[w];if(!A)return[];if(A.fn)return[A.fn];for(var I=0,R=A.length,j=new Array(R);I<R;I++)j[I]=A[I].fn;return j},h.prototype.listenerCount=function(g){var w=n?n+g:g,A=this._events[w];return A?A.fn?1:A.length:0},h.prototype.emit=function(g,w,A,I,R,j){var k=n?n+g:g;if(!this._events[k])return!1;var L=this._events[k],G=arguments.length,K,W;if(L.fn){switch(L.once&&this.removeListener(g,L.fn,void 0,!0),G){case 1:return L.fn.call(L.context),!0;case 2:return L.fn.call(L.context,w),!0;case 3:return L.fn.call(L.context,w,A),!0;case 4:return L.fn.call(L.context,w,A,I),!0;case 5:return L.fn.call(L.context,w,A,I,R),!0;case 6:return L.fn.call(L.context,w,A,I,R,j),!0}for(W=1,K=new Array(G-1);W<G;W++)K[W-1]=arguments[W];L.fn.apply(L.context,K)}else{var ne=L.length,fe;for(W=0;W<ne;W++)switch(L[W].once&&this.removeListener(g,L[W].fn,void 0,!0),G){case 1:L[W].fn.call(L[W].context);break;case 2:L[W].fn.call(L[W].context,w);break;case 3:L[W].fn.call(L[W].context,w,A);break;case 4:L[W].fn.call(L[W].context,w,A,I);break;default:if(!K)for(fe=1,K=new Array(G-1);fe<G;fe++)K[fe-1]=arguments[fe];L[W].fn.apply(L[W].context,K)}}return!0},h.prototype.on=function(g,w,A){return a(this,g,w,A,!1)},h.prototype.once=function(g,w,A){return a(this,g,w,A,!0)},h.prototype.removeListener=function(g,w,A,I){var R=n?n+g:g;if(!this._events[R])return this;if(!w)return c(this,R),this;var j=this._events[R];if(j.fn)j.fn===w&&(!I||j.once)&&(!A||j.context===A)&&c(this,R);else{for(var k=0,L=[],G=j.length;k<G;k++)(j[k].fn!==w||I&&!j[k].once||A&&j[k].context!==A)&&L.push(j[k]);L.length?this._events[R]=L.length===1?L[0]:L:c(this,R)}return this},h.prototype.removeAllListeners=function(g){var w;return g?(w=n?n+g:g,this._events[w]&&c(this,w)):(this._events=new r,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,t.exports=h})(jw)),jw.exports}var yce=pce();const vce=al(yce);var H0=new vce,wE="recharts.syncEvent.tooltip",MP="recharts.syncEvent.brush",gS=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!nl(n))return t[n]}},xce={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},S7=xs({name:"options",initialState:xce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bce=S7.reducer,{createEventEmitter:wce}=S7.actions;function Ece(t){return t.tooltip.syncInteraction}var _ce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},C7=xs({name:"chartData",initialState:_ce,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:kP,setDataStartEndIndexes:Ace,setComputedData:sye}=C7.actions,Sce=C7.reducer,Cce=["x","y"];function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){Tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tce(t,e,n){return(e=Ice(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ice(t){var e=Oce(t,"string");return typeof e=="symbol"?e:e+""}function Oce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nce(t,e){if(t==null)return{};var n,r,i=Rce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pce(){var t=xt(PA),e=xt(DA),n=Mr(),r=xt(bj),i=xt(uu),a=wf(),c=mm(),h=xt(y=>y.rootProps.className);D.useEffect(()=>{if(t==null)return bf;var y=(g,w,A)=>{if(e!==A&&t===g){if(r==="index"){var I;if(c&&w!==null&&w!==void 0&&(I=w.payload)!==null&&I!==void 0&&I.coordinate&&w.payload.sourceViewBox){var R=w.payload.coordinate,{x:j,y:k}=R,L=Nce(R,Cce),{x:G,y:K,width:W,height:ne}=w.payload.sourceViewBox,fe=td(td({},L),{},{x:c.x+(W?(j-G)/W:0)*c.width,y:c.y+(ne?(k-K)/ne:0)*c.height});n(td(td({},w),{},{payload:td(td({},w.payload),{},{coordinate:fe})}))}else n(w);return}if(i!=null){var Q;if(typeof r=="function"){var U={activeTooltipIndex:w.payload.index==null?void 0:Number(w.payload.index),isTooltipActive:w.payload.active,activeIndex:w.payload.index==null?void 0:Number(w.payload.index),activeLabel:w.payload.label,activeDataKey:w.payload.dataKey,activeCoordinate:w.payload.coordinate},$=r(i,U);Q=i[$]}else r==="value"&&(Q=i.find(ve=>String(ve.value)===w.payload.label));var{coordinate:H}=w.payload;if(Q==null||w.payload.active===!1||H==null||c==null){n(vE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:ae,y:ie}=H,Z=Math.min(ae,c.x+c.width),J=Math.min(ie,c.y+c.height),Be={x:a==="horizontal"?Q.coordinate:Z,y:a==="horizontal"?J:Q.coordinate},pe=vE({active:w.payload.active,coordinate:Be,dataKey:w.payload.dataKey,index:String(Q.index),label:w.payload.label,sourceViewBox:w.payload.sourceViewBox,graphicalItemId:w.payload.graphicalItemId});n(pe)}}};return H0.on(wE,y),()=>{H0.off(wE,y)}},[h,n,e,t,r,i,a,c])}function Dce(){var t=xt(PA),e=xt(DA),n=Mr();D.useEffect(()=>{if(t==null)return bf;var r=(i,a,c)=>{e!==c&&t===i&&n(Ace(a))};return H0.on(MP,r),()=>{H0.off(MP,r)}},[n,e,t])}function Mce(){var t=Mr();D.useEffect(()=>{t(wce())},[t]),Pce(),Dce()}function kce(t,e,n,r,i,a){var c=xt(R=>zue(R,t,e)),h=xt(DA),y=xt(PA),g=xt(bj),w=xt(Ece),A=w?.active,I=mm();D.useEffect(()=>{if(!A&&y!=null&&h!=null){var R=vE({active:a,coordinate:n,dataKey:c,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:I,graphicalItemId:void 0});H0.emit(wE,y,R,h)}},[A,n,c,i,r,h,y,g,a,I])}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jce(t,e,n){return(e=Lce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lce(t){var e=Bce(t,"string");return typeof e=="symbol"?e:e+""}function Bce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fce(t){return t.dataKey}function Uce(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(_re,e)}var FP=[],Vce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wp(t){var e,n,r=Ui(t,Vce),{active:i,allowEscapeViewBox:a,animationDuration:c,animationEasing:h,content:y,filterNull:g,isAnimationActive:w,offset:A,payloadUniqBy:I,position:R,reverseDirection:j,useTranslate3d:k,wrapperStyle:L,cursor:G,shared:K,trigger:W,defaultIndex:ne,portal:fe,axisId:Q}=r,U=Mr(),$=typeof ne=="number"?String(ne):ne;D.useEffect(()=>{U(jle({shared:K,trigger:W,axisId:Q,active:i,defaultIndex:$}))},[U,K,W,Q,i,$]);var H=mm(),ae=p9(),ie=Nle(K),{activeIndex:Z,isActive:J}=(e=xt(et=>Gue(et,ie,W,$)))!==null&&e!==void 0?e:{},Be=xt(et=>Hue(et,ie,W,$)),pe=xt(et=>E7(et,ie,W,$)),ve=xt(et=>que(et,ie,W,$)),Ae=Be,We=gce(),Ue=(n=i??J)!==null&&n!==void 0?n:!1,[st,he]=hte([Ae,Ue]),_e=ie==="axis"?pe:void 0;kce(ie,W,ve,_e,Z,Ue);var Ge=fe??We;if(Ge==null||H==null||ie==null)return null;var Fe=Ae??FP;Ue||(Fe=FP),g&&Fe.length&&(Fe=Fee(Fe.filter(et=>et.value!=null&&(et.hide!==!0||r.includeHidden)),I,Fce));var dt=Fe.length>0,Ne=D.createElement(Nre,{allowEscapeViewBox:a,animationDuration:c,animationEasing:h,isAnimationActive:w,active:Ue,coordinate:ve,hasPayload:dt,offset:A,position:R,reverseDirection:j,useTranslate3d:k,viewBox:H,wrapperStyle:L,lastBoundingBox:st,innerRef:he,hasPortalFromProps:!!fe},Uce(y,BP(BP({},r),{},{payload:Fe,label:_e,active:Ue,activeIndex:Z,coordinate:ve,accessibilityLayer:ae})));return D.createElement(D.Fragment,null,S6.createPortal(Ne,Ge),Ue&&D.createElement(mce,{cursor:G,tooltipEventType:ie,coordinate:ve,payload:Fe,index:Z}))}var Nm=t=>null;Nm.displayName="Cell";function zce(t,e,n){return(e=qce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qce(t){var e=Hce(t,"string");return typeof e=="symbol"?e:e+""}function Hce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Gce{constructor(e){zce(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){Kce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kce(t,e,n){return(e=Yce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yce(t){var e=$ce(t,"string");return typeof e=="symbol"?e:e+""}function $ce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xce={cacheSize:2e3,enableCache:!0},T7=Wce({},Xce),VP=new Gce(T7.cacheSize),Zce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zP="recharts_measurement_span";function Qce(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",c=e.letterSpacing||"",h=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(c,"|").concat(h)}var qP=(t,e)=>{try{var n=document.getElementById(zP);n||(n=document.createElement("span"),n.setAttribute("id",zP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Zce,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},g0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vy.isSsr)return{width:0,height:0};if(!T7.enableCache)return qP(e,n);var r=Qce(e,n),i=VP.get(r);if(i)return i;var a=qP(e,n);return VP.set(r,a),a},I7;function Jce(t,e,n){return(e=efe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function efe(t){var e=tfe(t,"string");return typeof e=="symbol"?e:e+""}function tfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ife={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},afe=["cm","mm","pt","pc","in","Q","px"];function sfe(t){return afe.includes(t)}var cd="NaN";function ofe(t,e){return t*ife[e]}class xa{static parse(e){var n,[,r,i]=(n=rfe.exec(e))!==null&&n!==void 0?n:[];return r==null?xa.NaN:new xa(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,nl(e)&&(this.unit=""),n!==""&&!nfe.test(n)&&(this.num=NaN,this.unit=""),sfe(n)&&(this.num=ofe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new xa(NaN,""):new xa(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new xa(NaN,""):new xa(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xa(NaN,""):new xa(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xa(NaN,""):new xa(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return nl(this.num)}}I7=xa;Jce(xa,"NaN",new I7(NaN,""));function O7(t){if(t==null||t.includes(cd))return cd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=HP.exec(e))!==null&&n!==void 0?n:[],c=xa.parse(r??""),h=xa.parse(a??""),y=i==="*"?c.multiply(h):c.divide(h);if(y.isNaN())return cd;e=e.replace(HP,y.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var g,[,w,A,I]=(g=GP.exec(e))!==null&&g!==void 0?g:[],R=xa.parse(w??""),j=xa.parse(I??""),k=A==="+"?R.add(j):R.subtract(j);if(k.isNaN())return cd;e=e.replace(GP,k.toString())}return e}var WP=/\(([^()]*)\)/;function lfe(t){for(var e=t,n;(n=WP.exec(e))!=null;){var[,r]=n;e=e.replace(WP,O7(r))}return e}function ufe(t){var e=t.replace(/\s+/g,"");return e=lfe(e),e=O7(e),e}function cfe(t){try{return ufe(t)}catch{return cd}}function Lw(t){var e=cfe(t.slice(5,-1));return e===cd?"":e}var ffe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],dfe=["dx","dy","angle","className","breakAll"];function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(null,arguments)}function KP(t,e){if(t==null)return{};var n,r,i=hfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var N7=/[ \f\n\r\t\v\u2028\u2029]+/,R7=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Zr(e)||(n?i=e.toString().split(""):i=e.toString().split(N7));var a=i.map(h=>({word:h,width:g0(h,r).width})),c=n?0:g0("",r).width;return{wordsWithComputedWidth:a,spaceWidth:c}}catch{return null}};function mfe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var P7=(t,e,n,r)=>t.reduce((i,a)=>{var{word:c,width:h}=a,y=i[i.length-1];if(y&&h!=null&&(e==null||r||y.width+h+n<Number(e)))y.words.push(c),y.width+=h+n;else{var g={words:[c],width:h};i.push(g)}return i},[]),D7=t=>t.reduce((e,n)=>e.width>n.width?e:n),gfe="",YP=(t,e,n,r,i,a,c,h)=>{var y=t.slice(0,e),g=R7({breakAll:n,style:r,children:y+gfe});if(!g)return[!1,[]];var w=P7(g.wordsWithComputedWidth,a,c,h),A=w.length>i||D7(w).width>Number(a);return[A,w]},pfe=(t,e,n,r,i)=>{var{maxLines:a,children:c,style:h,breakAll:y}=t,g=vt(a),w=String(c),A=P7(e,r,n,i);if(!g||i)return A;var I=A.length>a||D7(A).width>Number(r);if(!I)return A;for(var R=0,j=w.length-1,k=0,L;R<=j&&k<=w.length-1;){var G=Math.floor((R+j)/2),K=G-1,[W,ne]=YP(w,K,y,h,a,r,n,i),[fe]=YP(w,G,y,h,a,r,n,i);if(!W&&!fe&&(R=G+1),W&&fe&&(j=G-1),!W&&fe){L=ne;break}k++}return L||A},$P=t=>{var e=Zr(t)?[]:t.toString().split(N7);return[{words:e,width:void 0}]},yfe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:c}=t;if((e||n)&&!Vy.isSsr){var h,y,g=R7({breakAll:a,children:r,style:i});if(g){var{wordsWithComputedWidth:w,spaceWidth:A}=g;h=w,y=A}else return $P(r);return pfe({breakAll:a,children:r,maxLines:c,style:i},h,y,e,!!n)}return $P(r)},M7="#808080",vfe={angle:0,breakAll:!1,capHeight:"0.71em",fill:M7,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},sv=D.forwardRef((t,e)=>{var n=Ui(t,vfe),{x:r,y:i,lineHeight:a,capHeight:c,fill:h,scaleToFit:y,textAnchor:g,verticalAnchor:w}=n,A=KP(n,ffe),I=D.useMemo(()=>yfe({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:y,style:A.style,width:A.width}),[A.breakAll,A.children,A.maxLines,y,A.style,A.width]),{dx:R,dy:j,angle:k,className:L,breakAll:G}=A,K=KP(A,dfe);if(!ro(r)||!ro(i)||I.length===0)return null;var W=Number(r)+(vt(R)?R:0),ne=Number(i)+(vt(j)?j:0);if(!un(W)||!un(ne))return null;var fe;switch(w){case"start":fe=Lw("calc(".concat(c,")"));break;case"middle":fe=Lw("calc(".concat((I.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:fe=Lw("calc(".concat(I.length-1," * -").concat(a,")"));break}var Q=[],U=I[0];if(y&&U!=null){var $=U.width,{width:H}=A;Q.push("scale(".concat(vt(H)&&vt($)?H/$:1,")"))}return k&&Q.push("rotate(".concat(k,", ").concat(W,", ").concat(ne,")")),Q.length&&(K.transform=Q.join(" ")),D.createElement("text",EE({},Ha(K),{ref:e,x:W,y:ne,className:Vn("recharts-text",L),textAnchor:g,fill:h.includes("url")?M7:h}),I.map((ae,ie)=>{var Z=ae.words.join(G?"":" ");return D.createElement("tspan",{x:W,dy:ie===0?fe:a,key:"".concat(Z,"-").concat(ie)},Z)}))});sv.displayName="Text";function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){xfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xfe(t,e,n){return(e=bfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bfe(t){var e=wfe(t,"string");return typeof e=="symbol"?e:e+""}function wfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Efe=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:a,y:c,height:h,upperWidth:y,lowerWidth:g}=tA(e),w=a,A=a+(y-g)/2,I=(w+A)/2,R=(y+g)/2,j=w+y/2,k=h>=0?1:-1,L=k*r,G=k>0?"end":"start",K=k>0?"start":"end",W=y>=0?1:-1,ne=W*r,fe=W>0?"end":"start",Q=W>0?"start":"end",U=i;if(n==="top"){var $={x:w+y/2,y:c-L,horizontalAnchor:"middle",verticalAnchor:G};return U&&($.height=Math.max(c-U.y,0),$.width=y),$}if(n==="bottom"){var H={x:A+g/2,y:c+h+L,horizontalAnchor:"middle",verticalAnchor:K};return U&&(H.height=Math.max(U.y+U.height-(c+h),0),H.width=g),H}if(n==="left"){var ae={x:I-ne,y:c+h/2,horizontalAnchor:fe,verticalAnchor:"middle"};return U&&(ae.width=Math.max(ae.x-U.x,0),ae.height=h),ae}if(n==="right"){var ie={x:I+R+ne,y:c+h/2,horizontalAnchor:Q,verticalAnchor:"middle"};return U&&(ie.width=Math.max(U.x+U.width-ie.x,0),ie.height=h),ie}var Z=U?{width:R,height:h}:{};return n==="insideLeft"?Vo({x:I+ne,y:c+h/2,horizontalAnchor:Q,verticalAnchor:"middle"},Z):n==="insideRight"?Vo({x:I+R-ne,y:c+h/2,horizontalAnchor:fe,verticalAnchor:"middle"},Z):n==="insideTop"?Vo({x:w+y/2,y:c+L,horizontalAnchor:"middle",verticalAnchor:K},Z):n==="insideBottom"?Vo({x:A+g/2,y:c+h-L,horizontalAnchor:"middle",verticalAnchor:G},Z):n==="insideTopLeft"?Vo({x:w+ne,y:c+L,horizontalAnchor:Q,verticalAnchor:K},Z):n==="insideTopRight"?Vo({x:w+y-ne,y:c+L,horizontalAnchor:fe,verticalAnchor:K},Z):n==="insideBottomLeft"?Vo({x:A+ne,y:c+h-L,horizontalAnchor:Q,verticalAnchor:G},Z):n==="insideBottomRight"?Vo({x:A+g-ne,y:c+h-L,horizontalAnchor:fe,verticalAnchor:G},Z):n&&typeof n=="object"&&(vt(n.x)||lf(n.x))&&(vt(n.y)||lf(n.y))?Vo({x:a+za(n.x,R),y:c+za(n.y,h),horizontalAnchor:"end",verticalAnchor:"end"},Z):Vo({x:j,y:c+h/2,horizontalAnchor:"middle",verticalAnchor:"middle"},Z)},_fe=["labelRef"],Afe=["content"];function ZP(t,e){if(t==null)return{};var n,r,i=Sfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){Cfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cfe(t,e,n){return(e=Tfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tfe(t){var e=Ife(t,"string");return typeof e=="symbol"?e:e+""}function Ife(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(null,arguments)}var k7=D.createContext(null),j7=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:c,children:h}=t,y=D.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:c}),[e,n,r,i,a,c]);return D.createElement(k7.Provider,{value:y},h)},L7=()=>{var t=D.useContext(k7),e=mm();return t||(e?tA(e):void 0)},Ofe=D.createContext(null),Nfe=()=>{var t=D.useContext(Ofe),e=xt(Sj);return t||e},Rfe=t=>{var{value:e,formatter:n}=t,r=Zr(t.children)?e:t.children;return typeof n=="function"?n(r):r},pS=t=>t!=null&&typeof t=="function",Pfe=(t,e)=>{var n=ta(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Dfe=(t,e,n,r,i)=>{var{offset:a,className:c}=t,{cx:h,cy:y,innerRadius:g,outerRadius:w,startAngle:A,endAngle:I,clockWise:R}=i,j=(g+w)/2,k=Pfe(A,I),L=k>=0?1:-1,G,K;switch(e){case"insideStart":G=A+L*a,K=R;break;case"insideEnd":G=I-L*a,K=!R;break;case"end":G=I+L*a,K=R;break;default:throw new Error("Unsupported position ".concat(e))}K=k<=0?K:!K;var W=Oi(h,y,j,G),ne=Oi(h,y,j,G+(K?1:-1)*359),fe="M".concat(W.x,",").concat(W.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(K?0:1,`,
    `).concat(ne.x,",").concat(ne.y),Q=Zr(t.id)?R0("recharts-radial-line-"):t.id;return D.createElement("text",Dl({},r,{dominantBaseline:"central",className:Vn("recharts-radial-bar-label",c)}),D.createElement("defs",null,D.createElement("path",{id:Q,d:fe})),D.createElement("textPath",{xlinkHref:"#".concat(Q)},n))},Mfe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:c,startAngle:h,endAngle:y}=t,g=(h+y)/2;if(n==="outside"){var{x:w,y:A}=Oi(r,i,c+e,g);return{x:w,y:A,textAnchor:w>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var I=(a+c)/2,{x:R,y:j}=Oi(r,i,I,g);return{x:R,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Ep=t=>t!=null&&"cx"in t&&vt(t.cx),kfe={angle:0,offset:5,zIndex:pi.label,position:"middle",textBreakAll:!1};function jfe(t){if(!Ep(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Bu(t){var e=Ui(t,kfe),{viewBox:n,parentViewBox:r,position:i,value:a,children:c,content:h,className:y="",textBreakAll:g,labelRef:w}=e,A=Nfe(),I=L7(),R=i==="center"?I:A??I,j,k,L;n==null?j=R:Ep(n)?j=n:j=tA(n);var G=jfe(j);if(!j||Zr(a)&&Zr(c)&&!D.isValidElement(h)&&typeof h!="function")return null;var K=s0(s0({},e),{},{viewBox:j});if(D.isValidElement(h)){var{labelRef:W}=K,ne=ZP(K,_fe);return D.cloneElement(h,ne)}if(typeof h=="function"){var{content:fe}=K,Q=ZP(K,Afe);if(k=D.createElement(h,Q),D.isValidElement(k))return k}else k=Rfe(e);var U=Ha(e);if(Ep(j)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Dfe(e,i,k,U,j);L=Mfe(j,e.offset,e.position)}else{if(!G)return null;var $=Efe({viewBox:G,position:i,offset:e.offset,parentViewBox:Ep(r)?void 0:r});L=s0(s0({x:$.x,y:$.y,textAnchor:$.horizontalAnchor,verticalAnchor:$.verticalAnchor},$.width!==void 0?{width:$.width}:{}),$.height!==void 0?{height:$.height}:{})}return D.createElement(Ja,{zIndex:e.zIndex},D.createElement(sv,Dl({ref:w,className:Vn("recharts-label",y)},U,L,{textAnchor:mfe(U.textAnchor)?U.textAnchor:L.textAnchor,breakAll:g}),k))}Bu.displayName="Label";var Lfe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?D.createElement(Bu,Dl({key:"label-implicit"},r)):ro(t)?D.createElement(Bu,Dl({key:"label-implicit",value:t},r)):D.isValidElement(t)?t.type===Bu?D.cloneElement(t,s0({key:"label-implicit"},r)):D.createElement(Bu,Dl({key:"label-implicit",content:t},r)):pS(t)?D.createElement(Bu,Dl({key:"label-implicit",content:t},r)):t&&typeof t=="object"?D.createElement(Bu,Dl({},t,{key:"label-implicit"},r)):null};function B7(t){var{label:e,labelRef:n}=t,r=L7();return Lfe(e,r,n)||null}var Bw={},Fw={},JP;function Bfe(){return JP||(JP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Fw)),Fw}var Uw={},eD;function Ffe(){return eD||(eD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Uw)),Uw}var tD;function Ufe(){return tD||(tD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bfe(),n=Ffe(),r=H_();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(Bw)),Bw}var Vw,nD;function Vfe(){return nD||(nD=1,Vw=Ufe().last),Vw}var zfe=Vfe();const qfe=al(zfe);var Hfe=["valueAccessor"],Gfe=["dataKey","clockWise","id","textBreakAll","zIndex"];function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F1.apply(null,arguments)}function rD(t,e){if(t==null)return{};var n,r,i=Wfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kfe=t=>Array.isArray(t.value)?qfe(t.value):t.value,F7=D.createContext(void 0),U7=F7.Provider,V7=D.createContext(void 0),Yfe=V7.Provider;function $fe(){return D.useContext(F7)}function Xfe(){return D.useContext(V7)}function _p(t){var{valueAccessor:e=Kfe}=t,n=rD(t,Hfe),{dataKey:r,clockWise:i,id:a,textBreakAll:c,zIndex:h}=n,y=rD(n,Gfe),g=$fe(),w=Xfe(),A=g||w;return!A||!A.length?null:D.createElement(Ja,{zIndex:h??pi.label},D.createElement(Fi,{className:"recharts-label-list"},A.map((I,R)=>{var j,k=Zr(r)?e(I,R):hr(I.payload,r),L=Zr(a)?{}:{id:"".concat(a,"-").concat(R)};return D.createElement(Bu,F1({key:"label-".concat(R)},Ha(I),y,L,{fill:(j=n.fill)!==null&&j!==void 0?j:I.fill,parentViewBox:I.parentViewBox,value:k,textBreakAll:c,viewBox:I.viewBox,index:R,zIndex:0}))})))}_p.displayName="LabelList";function yS(t){var{label:e}=t;return e?e===!0?D.createElement(_p,{key:"labelList-implicit"}):D.isValidElement(e)||pS(e)?D.createElement(_p,{key:"labelList-implicit",content:e}):typeof e=="object"?D.createElement(_p,F1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(null,arguments)}var z7=t=>{var{cx:e,cy:n,r,className:i}=t,a=Vn("recharts-dot",i);return vt(e)&&vt(n)&&vt(r)?D.createElement("circle",_E({},ks(t),q_(t),{className:a,cx:e,cy:n,r})):null},q7=t=>t.graphicalItems.polarItems,Zfe=Te([Qr,Am],FA),ov=Te([q7,ui,Zfe],UA),Qfe=Te([ov],VA),lv=Te([Qfe,Yy],zA),Jfe=Te([lv,ui,ov],HA);Te([lv,ui,ov],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,c=hr(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:hr(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var iD=()=>{},ede=Te([lv,ui,ov,rv,Qr],YA),tde=Te([ui,WA,KA,iD,ede,iD,qn,Qr],$A),H7=Te([ui,qn,lv,Jfe,_m,Qr,tde],XA),nde=Te([H7,Zd,yc],JA),rde=Te([ui,H7,nde,Qr],tS);Te([yc,rde],Tj);var ide={radiusAxis:{},angleAxis:{}},G7=xs({name:"polarAxis",initialState:ide,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:oye,removeRadiusAxis:lye,addAngleAxis:uye,removeAngleAxis:cye}=G7.actions,ade=G7.reducer;function W7(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){sde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sde(t,e,n){return(e=ode(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ode(t){var e=lde(t,"string");return typeof e=="symbol"?e:e+""}function lde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ude=(t,e)=>e,vS=Te([q7,ude],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),cde=[],xS=(t,e,n)=>n?.length===0?cde:n,K7=Te([Yy,vS,xS],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>sD(sD({},e.presentationProps),a.props))),i!=null)return i}}),fde=Te([K7,vS,xS],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,c=hr(r,e.nameKey,e.name),h;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?h=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?h=r.fill:h=e.fill,{value:Wd(c,e.dataKey),color:h,payload:r,type:e.legendType}})}),dde=Te([K7,vS,xS,Vi],(t,e,n,r)=>{if(!(e==null||t==null))return hhe({offset:r,pieSettings:e,displayedData:t,cells:n})}),zw={exports:{}},dr={};var oD;function hde(){if(oD)return dr;oD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.view_transition"),R=Symbol.for("react.client.reference");function j(k){if(typeof k=="object"&&k!==null){var L=k.$$typeof;switch(L){case t:switch(k=k.type,k){case n:case i:case r:case y:case g:case I:return k;default:switch(k=k&&k.$$typeof,k){case c:case h:case A:case w:return k;case a:return k;default:return L}}case e:return L}}}return dr.ContextConsumer=a,dr.ContextProvider=c,dr.Element=t,dr.ForwardRef=h,dr.Fragment=n,dr.Lazy=A,dr.Memo=w,dr.Portal=e,dr.Profiler=i,dr.StrictMode=r,dr.Suspense=y,dr.SuspenseList=g,dr.isContextConsumer=function(k){return j(k)===a},dr.isContextProvider=function(k){return j(k)===c},dr.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===t},dr.isForwardRef=function(k){return j(k)===h},dr.isFragment=function(k){return j(k)===n},dr.isLazy=function(k){return j(k)===A},dr.isMemo=function(k){return j(k)===w},dr.isPortal=function(k){return j(k)===e},dr.isProfiler=function(k){return j(k)===i},dr.isStrictMode=function(k){return j(k)===r},dr.isSuspense=function(k){return j(k)===y},dr.isSuspenseList=function(k){return j(k)===g},dr.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===n||k===i||k===r||k===y||k===g||typeof k=="object"&&k!==null&&(k.$$typeof===A||k.$$typeof===w||k.$$typeof===c||k.$$typeof===a||k.$$typeof===h||k.$$typeof===R||k.getModuleId!==void 0)},dr.typeOf=j,dr}var lD;function mde(){return lD||(lD=1,zw.exports=hde()),zw.exports}var gde=mde(),uD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",cD=null,qw=null,Y7=t=>{if(t===cD&&Array.isArray(qw))return qw;var e=[];return D.Children.forEach(t,n=>{Zr(n)||(gde.isFragment(n)?e=e.concat(Y7(n.props.children)):e.push(n))}),qw=e,cD=t,e};function bS(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>uD(i)):r=[uD(e)],Y7(t).forEach(i=>{var a=of(i,"type.displayName")||of(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var $7=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Hw={},fD;function pde(){return fD||(fD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Hw)),Hw}var Gw,dD;function yde(){return dD||(dD=1,Gw=pde().isPlainObject),Gw}var vde=yde();const xde=al(vde);var hD,mD,gD,pD,yD;function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){bde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bde(t,e,n){return(e=wde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wde(t){var e=Ede(t,"string");return typeof e=="symbol"?e:e+""}function Ede(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U1.apply(null,arguments)}function Kh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var bD=(t,e,n,r,i)=>{var a=n-r,c;return c=oi(hD||(hD=Kh(["M ",",",""])),t,e),c+=oi(mD||(mD=Kh(["L ",",",""])),t+n,e),c+=oi(gD||(gD=Kh(["L ",",",""])),t+n-a/2,e+i),c+=oi(pD||(pD=Kh(["L ",",",""])),t+n-a/2-r,e+i),c+=oi(yD||(yD=Kh(["L ",","," Z"])),t,e),c},_de={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ade=t=>{var e=Ui(t,_de),{x:n,y:r,upperWidth:i,lowerWidth:a,height:c,className:h}=e,{animationEasing:y,animationDuration:g,animationBegin:w,isUpdateAnimationActive:A}=e,I=D.useRef(null),[R,j]=D.useState(-1),k=D.useRef(i),L=D.useRef(a),G=D.useRef(c),K=D.useRef(n),W=D.useRef(r),ne=vm(t,"trapezoid-");if(D.useEffect(()=>{if(I.current&&I.current.getTotalLength)try{var Be=I.current.getTotalLength();Be&&j(Be)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||c!==+c||i===0&&a===0||c===0)return null;var fe=Vn("recharts-trapezoid",h);if(!A)return D.createElement("g",null,D.createElement("path",U1({},Ha(e),{className:fe,d:bD(n,r,i,a,c)})));var Q=k.current,U=L.current,$=G.current,H=K.current,ae=W.current,ie="0px ".concat(R===-1?1:R,"px"),Z="".concat(R,"px 0px"),J=y9(["strokeDasharray"],g,y);return D.createElement(ym,{animationId:ne,key:ne,canBegin:R>0,duration:g,easing:y,isActive:A,begin:w},Be=>{var pe=Hr(Q,i,Be),ve=Hr(U,a,Be),Ae=Hr($,c,Be),We=Hr(H,n,Be),Ue=Hr(ae,r,Be);I.current&&(k.current=pe,L.current=ve,G.current=Ae,K.current=We,W.current=Ue);var st=Be>0?{transition:J,strokeDasharray:Z}:{strokeDasharray:ie};return D.createElement("path",U1({},Ha(e),{className:fe,d:bD(We,Ue,pe,ve,Ae),ref:I,style:xD(xD({},st),e.style)}))})},Sde=["option","shapeType","activeClassName"];function Cde(t,e){if(t==null)return{};var n,r,i=Tde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){Ide(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ide(t,e,n){return(e=Ode(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ode(t){var e=Nde(t,"string");return typeof e=="symbol"?e:e+""}function Nde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rde(t,e){return V1(V1({},e),t)}function Pde(t,e){return t==="symbols"}function ED(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return D.createElement(w9,n);case"trapezoid":return D.createElement(Ade,n);case"sector":return D.createElement(S9,n);case"symbols":if(Pde(e))return D.createElement(r5,n);break;case"curve":return D.createElement(iA,n);default:return null}}function Dde(t){return D.isValidElement(t)?t.props:t}function wS(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Cde(t,Sde),a;if(D.isValidElement(e))a=D.cloneElement(e,V1(V1({},i),Dde(e)));else if(typeof e=="function")a=e(i,i.index);else if(xde(e)&&typeof e!="boolean"){var c=Rde(e,i);a=D.createElement(ED,{shapeType:n,elementProps:c})}else{var h=i;a=D.createElement(ED,{shapeType:n,elementProps:h})}return i.isActive?D.createElement(Fi,{className:r},a):a}var ES=(t,e,n)=>{var r=Mr();return(i,a)=>c=>{t?.(i,a,c),r(r7({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},_S=t=>{var e=Mr();return(n,r)=>i=>{t?.(n,r,i),e(Lle())}},AS=(t,e,n)=>{var r=Mr();return(i,a)=>c=>{t?.(i,a,c),r(Ble({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function SS(t){var{tooltipEntrySettings:e}=t,n=Mr(),r=_a(),i=D.useRef(null);return D.useLayoutEffect(()=>{r||(i.current===null?n(Dle(e)):i.current!==e&&n(Mle({prev:i.current,next:e})),i.current=e)},[e,n,r]),D.useLayoutEffect(()=>()=>{i.current&&(n(kle(i.current)),i.current=null)},[n]),null}function X7(t){var{legendPayload:e}=t,n=Mr(),r=_a(),i=D.useRef(null);return D.useLayoutEffect(()=>{r||(i.current===null?n(h9(e)):i.current!==e&&n(m9({prev:i.current,next:e})),i.current=e)},[n,r,e]),D.useLayoutEffect(()=>()=>{i.current&&(n(g9(i.current)),i.current=null)},[n]),null}function Mde(t){var{legendPayload:e}=t,n=Mr(),r=xt(qn),i=D.useRef(null);return D.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(h9(e)):i.current!==e&&n(m9({prev:i.current,next:e})),i.current=e)},[n,r,e]),D.useLayoutEffect(()=>()=>{i.current&&(n(g9(i.current)),i.current=null)},[n]),null}var Ww,kde=()=>{var[t]=D.useState(()=>R0("uid-"));return t},jde=(Ww=sF.useId)!==null&&Ww!==void 0?Ww:kde;function Lde(t,e){var n=jde();return e||(t?"".concat(t,"-").concat(n):n)}var Bde=D.createContext(void 0),CS=t=>{var{id:e,type:n,children:r}=t,i=Lde("recharts-".concat(n),e);return D.createElement(Bde.Provider,{value:i},r(i))},Fde={cartesianItems:[],polarItems:[]},Z7=xs({name:"graphicalItems",initialState:Fde,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:qr()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Eo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:qr()},removeCartesianGraphicalItem:{reducer(t,e){var n=Eo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:qr()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:qr()},removePolarGraphicalItem:{reducer(t,e){var n=Eo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:qr()}}}),{addCartesianGraphicalItem:Ude,replaceCartesianGraphicalItem:Vde,removeCartesianGraphicalItem:zde,addPolarGraphicalItem:qde,removePolarGraphicalItem:Hde}=Z7.actions,Gde=Z7.reducer,Wde=t=>{var e=Mr(),n=D.useRef(null);return D.useLayoutEffect(()=>{n.current===null?e(Ude(t)):n.current!==t&&e(Vde({prev:n.current,next:t})),n.current=t},[e,t]),D.useLayoutEffect(()=>()=>{n.current&&(e(zde(n.current)),n.current=null)},[e]),null},Q7=D.memo(Wde);function Kde(t){var e=Mr();return D.useLayoutEffect(()=>(e(qde(t)),()=>{e(Hde(t))}),[e,t]),null}var Yde=["key"],$de=["onMouseEnter","onClick","onMouseLeave"],Xde=["id"],Zde=["id"];function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){Qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qde(t,e,n){return(e=Jde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jde(t){var e=ehe(t,"string");return typeof e=="symbol"?e:e+""}function ehe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(null,arguments)}function uv(t,e){if(t==null)return{};var n,r,i=the(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function the(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nhe(t){var e=D.useMemo(()=>bS(t.children,Nm),[t.children]),n=xt(r=>fde(r,t.id,e));return n==null?null:D.createElement(Mde,{legendPayload:n})}var rhe=D.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:c,name:h,hide:y,tooltipType:g,id:w}=t,A={dataDefinedOnItem:r.map(I=>I.tooltipPayload),getPosition:I=>{var R;return(R=r[Number(I)])===null||R===void 0?void 0:R.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:c,dataKey:e,nameKey:n,name:Wd(h,e),hide:y,type:g,color:c,unit:"",graphicalItemId:w}};return D.createElement(SS,{tooltipEntrySettings:A})}),ihe=(t,e)=>t>e?"start":t<e?"end":"middle",ahe=(t,e,n)=>za(typeof e=="function"?e(t):e,n,n*.8),she=(t,e,n)=>{var{top:r,left:i,width:a,height:c}=e,h=E9(a,c),y=i+za(t.cx,a,a/2),g=r+za(t.cy,c,c/2),w=za(t.innerRadius,h,0),A=ahe(n,t.outerRadius,h),I=t.maxRadius||Math.sqrt(a*a+c*c)/2;return{cx:y,cy:g,innerRadius:w,outerRadius:A,maxRadius:I}},ohe=(t,e)=>{var n=ta(e-t),r=Math.min(Math.abs(e-t),360);return n*r},lhe=(t,e)=>{if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Vn("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=uv(e,Yde);return D.createElement(iA,dc({},i,{type:"linear",className:n}))},uhe=(t,e,n)=>{if(D.isValidElement(t))return D.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),D.isValidElement(r)))return r;var i=Vn("recharts-pie-label-text",W7(t));return D.createElement(sv,dc({},e,{alignmentBaseline:"middle",className:i}),r)};function che(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:c}=n;if(!r||!i||!e)return null;var h=ks(n),y=af(i),g=af(a),w=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,A=e.map((I,R)=>{var j=(I.startAngle+I.endAngle)/2,k=Oi(I.cx,I.cy,I.outerRadius+w,j),L=li(li(li(li({},h),I),{},{stroke:"none"},y),{},{index:R,textAnchor:ihe(k.x,I.cx)},k),G=li(li(li(li({},h),I),{},{fill:"none",stroke:I.fill},g),{},{index:R,points:[Oi(I.cx,I.cy,I.outerRadius,j),k],key:"line"});return D.createElement(Ja,{zIndex:pi.label,key:"label-".concat(I.startAngle,"-").concat(I.endAngle,"-").concat(I.midAngle,"-").concat(R)},D.createElement(Fi,null,a&&lhe(a,G),uhe(i,L,hr(I,c))))});return D.createElement(Fi,{className:"recharts-pie-labels"},A)}function fhe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?D.createElement(yS,{label:i}):D.createElement(che,{sectors:e,props:n,showLabels:r})}function dhe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:c}=t,h=xt(fc),y=xt(cS),g=xt(_ue),{onMouseEnter:w,onClick:A,onMouseLeave:I}=i,R=uv(i,$de),j=ES(w,i.dataKey,c),k=_S(I),L=AS(A,i.dataKey,c);return e==null||e.length===0?null:D.createElement(D.Fragment,null,e.map((G,K)=>{if(G?.startAngle===0&&G?.endAngle===0&&e.length!==1)return null;var W=g==null||g===c,ne=String(K)===h&&(y==null||i.dataKey===y)&&W,fe=h?r:null,Q=n&&ne?n:fe,U=li(li({},G),{},{stroke:G.stroke,tabIndex:-1,[X5]:K,[Z5]:c});return D.createElement(Fi,dc({key:"sector-".concat(G?.startAngle,"-").concat(G?.endAngle,"-").concat(G.midAngle,"-").concat(K),tabIndex:-1,className:"recharts-pie-sector"},_y(R,G,K),{onMouseEnter:j(G,K),onMouseLeave:k(G,K),onClick:L(G,K)}),D.createElement(wS,dc({option:a??Q,index:K,shapeType:"sector",isActive:ne},U)))}))}function hhe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:c,startAngle:h,endAngle:y,dataKey:g,nameKey:w,tooltipType:A}=n,I=Math.abs(n.minAngle),R=ohe(h,y),j=Math.abs(R),k=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,L=r.filter(Q=>hr(Q,g,0)!==0).length,G=(j>=360?L:L-1)*k,K=j-L*I-G,W=r.reduce((Q,U)=>{var $=hr(U,g,0);return Q+(vt($)?$:0)},0),ne;if(W>0){var fe;ne=r.map((Q,U)=>{var $=hr(Q,g,0),H=hr(Q,w,U),ae=she(n,a,Q),ie=(vt($)?$:0)/W,Z,J=li(li({},Q),i&&i[U]&&i[U].props);U?Z=fe.endAngle+ta(R)*k*($!==0?1:0):Z=h;var Be=Z+ta(R)*(($!==0?I:0)+ie*K),pe=(Z+Be)/2,ve=(ae.innerRadius+ae.outerRadius)/2,Ae=[{name:H,value:$,payload:J,dataKey:g,type:A,graphicalItemId:n.id}],We=Oi(ae.cx,ae.cy,ve,pe);return fe=li(li(li(li({},n.presentationProps),{},{percent:ie,cornerRadius:typeof c=="string"?parseFloat(c):c,name:H,tooltipPayload:Ae,midAngle:pe,middleRadius:ve,tooltipPosition:We},J),ae),{},{value:$,dataKey:g,startAngle:Z,endAngle:Be,payload:J,paddingAngle:ta(R)*k}),fe})}return ne}function mhe(t){var{showLabels:e,sectors:n,children:r}=t,i=D.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return D.createElement(Yfe,{value:e?i:void 0},r)}function ghe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:a,animationBegin:c,animationDuration:h,animationEasing:y,activeShape:g,inactiveShape:w,onAnimationStart:A,onAnimationEnd:I}=e,R=vm(e,"recharts-pie-"),j=n.current,[k,L]=D.useState(!1),G=D.useCallback(()=>{typeof I=="function"&&I(),L(!1)},[I]),K=D.useCallback(()=>{typeof A=="function"&&A(),L(!0)},[A]);return D.createElement(mhe,{showLabels:!k,sectors:i},D.createElement(ym,{animationId:R,begin:c,duration:h,isActive:a,easing:y,onAnimationStart:K,onAnimationEnd:G,key:R},W=>{var ne,fe=[],Q=i&&i[0],U=(ne=Q?.startAngle)!==null&&ne!==void 0?ne:0;return i?.forEach(($,H)=>{var ae=j&&j[H],ie=H>0?of($,"paddingAngle",0):0;if(ae){var Z=Hr(ae.endAngle-ae.startAngle,$.endAngle-$.startAngle,W),J=li(li({},$),{},{startAngle:U+ie,endAngle:U+Z+ie});fe.push(J),U=J.endAngle}else{var{endAngle:Be,startAngle:pe}=$,ve=Hr(0,Be-pe,W),Ae=li(li({},$),{},{startAngle:U+ie,endAngle:U+ve+ie});fe.push(Ae),U=Ae.endAngle}}),n.current=fe,D.createElement(Fi,null,D.createElement(dhe,{sectors:fe,activeShape:g,inactiveShape:w,allOtherPieProps:e,shape:e.shape,id:r}))}),D.createElement(fhe,{showLabels:!k,sectors:i,props:e}),e.children)}var phe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pi.area};function yhe(t){var{id:e}=t,n=uv(t,Xde),{hide:r,className:i,rootTabIndex:a}=t,c=D.useMemo(()=>bS(t.children,Nm),[t.children]),h=xt(w=>dde(w,e,c)),y=D.useRef(null),g=Vn("recharts-pie",i);return r||h==null?(y.current=null,D.createElement(Fi,{tabIndex:a,className:g})):D.createElement(Ja,{zIndex:t.zIndex},D.createElement(rhe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:h,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),D.createElement(Fi,{tabIndex:a,className:g},D.createElement(ghe,{props:li(li({},n),{},{sectors:h}),previousSectorsRef:y,id:e})))}function J7(t){var e=Ui(t,phe),{id:n}=e,r=uv(e,Zde),i=ks(r);return D.createElement(CS,{id:n,type:"pie"},a=>D.createElement(D.Fragment,null,D.createElement(Kde,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),D.createElement(nhe,dc({},r,{id:a})),D.createElement(yhe,dc({},r,{id:a}))))}J7.displayName="Pie";var vhe=["points"];function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(n),!0).forEach(function(r){xhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xhe(t,e,n){return(e=bhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bhe(t){var e=whe(t,"string");return typeof e=="symbol"?e:e+""}function whe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(null,arguments)}function Ehe(t,e){if(t==null)return{};var n,r,i=_he(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _he(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ahe(t){var{option:e,dotProps:n,className:r}=t;if(D.isValidElement(e))return D.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Vn(r,typeof e!="boolean"?e.className:""),a=n??{},{points:c}=a,h=Ehe(a,vhe);return D.createElement(z7,z1({},h,{className:i}))}function She(t,e){return t==null?!1:e?!0:t.length===1}function Che(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:c,needClip:h,clipPathId:y,zIndex:g=pi.scatter}=t;if(!She(e,n))return null;var w=$7(n),A=fJ(n),I=e.map((j,k)=>{var L,G,K=Kw(Kw(Kw({r:3},c),A),{},{index:k,cx:(L=j.x)!==null&&L!==void 0?L:void 0,cy:(G=j.y)!==null&&G!==void 0?G:void 0,dataKey:a,value:j.value,payload:j.payload,points:e});return D.createElement(Ahe,{key:"dot-".concat(k),option:n,dotProps:K,className:i})}),R={};return h&&y!=null&&(R.clipPath="url(#clipPath-".concat(w?"":"dots-").concat(y,")")),D.createElement(Ja,{zIndex:g},D.createElement(Fi,z1({className:r},R),I))}function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){The(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function The(t,e,n){return(e=Ihe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ihe(t){var e=Ohe(t,"string");return typeof e=="symbol"?e:e+""}function Ohe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eL=0,Nhe={xAxis:{},yAxis:{},zAxis:{}},tL=xs({name:"cartesianAxis",initialState:Nhe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:qr()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:qr()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:qr()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:qr()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:qr()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:qr()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:qr()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:qr()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:qr()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a,c=i.widthHistory||[];if(c.length===3&&c[0]===c[2]&&r===c[1]&&r!==i.width&&Math.abs(r-((a=c[0])!==null&&a!==void 0?a:0))<=1)return;var h=[...c,r].slice(-3);t.yAxis[n]=CD(CD({},i),{},{width:r,widthHistory:h})}}}}),{addXAxis:Rhe,replaceXAxis:Phe,removeXAxis:Dhe,addYAxis:Mhe,replaceYAxis:khe,removeYAxis:jhe,addZAxis:fye,replaceZAxis:dye,removeZAxis:hye,updateYAxisWidth:Lhe}=tL.actions,Bhe=tL.reducer,Fhe=Te([Vi],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Uhe=Te([Fhe,au,su],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),TS=()=>xt(Uhe),Vhe=()=>xt(Iue);function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){zhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zhe(t,e,n){return(e=qhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qhe(t){var e=Hhe(t,"string");return typeof e=="symbol"?e:e+""}function Hhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ghe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:c}=t;if(i===!1||e.x==null||e.y==null)return null;var h={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},y=Yw(Yw(Yw({},h),af(i)),q_(i)),g;return D.isValidElement(i)?g=D.cloneElement(i,y):typeof i=="function"?g=i(y):g=D.createElement(z7,y),D.createElement(Fi,{className:"recharts-active-dot",clipPath:c},g)};function Whe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:c=pi.activeDot}=t,h=xt(fc),y=Vhe();if(e==null||y==null)return null;var g=e.find(w=>y.includes(w.payload));return Zr(g)?null:D.createElement(Ja,{zIndex:c},D.createElement(Ghe,{point:g,childIndex:Number(h),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var ID=(t,e,n)=>{var r=n??t;if(!Zr(r))return za(r,e,0)},Khe=(t,e,n)=>{var r={},i=t.filter(Qy),a=t.filter(g=>g.stackId==null),c=i.reduce((g,w)=>{var A=g[w.stackId];return A==null&&(A=[]),A.push(w),g[w.stackId]=A,g},r),h=Object.entries(c).map(g=>{var w,[A,I]=g,R=I.map(k=>k.dataKey),j=ID(e,n,(w=I[0])===null||w===void 0?void 0:w.barSize);return{stackId:A,dataKeys:R,barSize:j}}),y=a.map(g=>{var w=[g.dataKey].filter(I=>I!=null),A=ID(e,n,g.barSize);return{stackId:void 0,dataKeys:w,barSize:A}});return[...h,...y]};function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ep(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(r){Yhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yhe(t,e,n){return(e=$he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $he(t){var e=Xhe(t,"string");return typeof e=="symbol"?e:e+""}function Xhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zhe(t,e,n,r,i){var a,c=r.length;if(!(c<1)){var h=za(t,n,0,!0),y,g=[];if(un((a=r[0])===null||a===void 0?void 0:a.barSize)){var w=!1,A=n/c,I=r.reduce((K,W)=>K+(W.barSize||0),0);I+=(c-1)*h,I>=n&&(I-=(c-1)*h,h=0),I>=n&&A>0&&(w=!0,A*=.9,I=c*A);var R=(n-I)/2>>0,j={offset:R-h,size:0};y=r.reduce((K,W)=>{var ne,fe={stackId:W.stackId,dataKeys:W.dataKeys,position:{offset:j.offset+j.size+h,size:w?A:(ne=W.barSize)!==null&&ne!==void 0?ne:0}},Q=[...K,fe];return j=fe.position,Q},g)}else{var k=za(e,n,0,!0);n-2*k-(c-1)*h<=0&&(h=0);var L=(n-2*k-(c-1)*h)/c;L>1&&(L>>=0);var G=un(i)?Math.min(L,i):L;y=r.reduce((K,W,ne)=>[...K,{stackId:W.stackId,dataKeys:W.dataKeys,position:{offset:k+(L+h)*ne+(L-G)/2,size:G}}],g)}return y}}var Qhe=(t,e,n,r,i,a,c)=>{var h=Zr(c)?e:c,y=Zhe(n,r,i!==a?i:a,t,h);return i!==a&&y!=null&&(y=y.map(g=>ep(ep({},g),{},{position:ep(ep({},g.position),{},{offset:g.position.offset-i/2})}))),y},Jhe=(t,e)=>{var n=LA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(c=>c.key===n)}}}},e0e=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function t0e(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&un(t.zIndex)?t.zIndex:e}var nL=t=>{var{chartData:e}=t,n=Mr(),r=_a();return D.useEffect(()=>r?()=>{}:(n(kP(e)),()=>{n(kP(void 0))}),[e,n,r]),null},ND={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},rL=xs({name:"brush",initialState:ND,reducers:{setBrushSettings(t,e){return e.payload==null?ND:e.payload}}}),{setBrushSettings:mye}=rL.actions,n0e=rL.reducer,r0e=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},i0e=t=>{var{x1:e,y1:n,x2:r,y2:i}=t;return r0e({x:e,y:n},{x:r,y:i})};function a0e(t){return(t%180+180)%180}var s0e=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=a0e(i),c=a*Math.PI/180,h=Math.atan(r/n),y=c>h&&c<Math.PI-h?r/Math.sin(c):n/Math.cos(c);return Math.abs(y)},o0e={dots:[],areas:[],lines:[]},iL=xs({name:"referenceElements",initialState:o0e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Eo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Eo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Eo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:gye,removeDot:pye,addArea:yye,removeArea:vye,addLine:l0e,removeLine:u0e}=iL.actions,c0e=iL.reducer,aL=D.createContext(void 0),f0e=t=>{var{children:e}=t,[n]=D.useState("".concat(R0("recharts"),"-clip")),r=TS();if(r==null)return null;var{x:i,y:a,width:c,height:h}=r;return D.createElement(aL.Provider,{value:n},D.createElement("defs",null,D.createElement("clipPath",{id:n},D.createElement("rect",{x:i,y:a,height:h,width:c}))),e)},d0e=()=>D.useContext(aL);class h0e{constructor(e){var{x:n,y:r}=e;this.xAxisScale=n,this.yAxisScale=r}map(e,n){var r,i,{position:a}=n;return{x:(r=this.xAxisScale.map(e.x,{position:a}))!==null&&r!==void 0?r:0,y:(i=this.yAxisScale.map(e.y,{position:a}))!==null&&i!==void 0?i:0}}mapWithFallback(e,n){var r,i,{position:a,fallback:c}=n,h,y;return c==="rangeMin"?h=this.yAxisScale.rangeMin():c==="rangeMax"?h=this.yAxisScale.rangeMax():h=0,c==="rangeMin"?y=this.xAxisScale.rangeMin():c==="rangeMax"?y=this.xAxisScale.rangeMax():y=0,{x:(r=this.xAxisScale.map(e.x,{position:a}))!==null&&r!==void 0?r:y,y:(i=this.yAxisScale.map(e.y,{position:a}))!==null&&i!==void 0?i:h}}isInRange(e){var{x:n,y:r}=e,i=n==null||this.xAxisScale.isInRange(n),a=r==null||this.yAxisScale.isInRange(r);return i&&a}}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){m0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m0e(t,e,n){return(e=g0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g0e(t){var e=p0e(t,"string");return typeof e=="symbol"?e:e+""}function p0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(null,arguments)}var y0e=(t,e)=>{var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{if(!un(e.x1)||!un(e.y1)||!un(e.x2)||!un(e.y2))return null;n=D.createElement("line",q1({},e,{className:"recharts-reference-line-line"}))}return n},v0e=(t,e,n,r,i,a)=>{var{x:c,width:h}=a,y=i.map(t,{position:n});if(!un(y)||e==="discard"&&!i.isInRange(y))return null;var g=[{x:c+h,y},{x:c,y}];return r==="left"?g.reverse():g},x0e=(t,e,n,r,i,a)=>{var{y:c,height:h}=a,y=i.map(t,{position:n});if(!un(y)||e==="discard"&&!i.isInRange(y))return null;var g=[{x:y,y:c+h},{x:y,y:c}];return r==="top"?g.reverse():g},b0e=(t,e,n,r)=>{var i=[r.mapWithFallback(t[0],{position:n,fallback:"rangeMin"}),r.mapWithFallback(t[1],{position:n,fallback:"rangeMax"})];return e==="discard"&&i.some(a=>!r.isInRange(a))?null:i},w0e=(t,e,n,r,i,a,c)=>{var{x:h,y,segment:g,ifOverflow:w}=c,A=ro(h),I=ro(y);return I?v0e(y,w,r,a,e,n):A?x0e(h,w,r,i,t,n):g!=null&&g.length===2?b0e(g,w,r,new h0e({x:t,y:e})):null};function E0e(t){var e=Mr();return D.useEffect(()=>(e(l0e(t)),()=>{e(u0e(t))})),null}function _0e(t){var{xAxisId:e,yAxisId:n,shape:r,className:i,ifOverflow:a}=t,c=_a(),h=d0e(),y=xt(U=>ll(U,e)),g=xt(U=>ul(U,n)),w=xt(U=>Md(U,"xAxis",e,c)),A=xt(U=>Md(U,"yAxis",n,c)),I=mm();if(!h||!I||y==null||g==null||w==null||A==null)return null;var R=w0e(w,A,I,t.position,y.orientation,g.orientation,t);if(!R)return null;var j=R[0],k=R[1];if(j==null||k==null)return null;var{x:L,y:G}=j,{x:K,y:W}=k,ne=a==="hidden"?"url(#".concat(h,")"):void 0,fe=PD(PD({clipPath:ne},Ha(t)),{},{x1:L,y1:G,x2:K,y2:W}),Q=i0e({x1:L,y1:G,x2:K,y2:W});return D.createElement(Ja,{zIndex:t.zIndex},D.createElement(Fi,{className:Vn("recharts-reference-line",i)},y0e(r,fe),D.createElement(j7,q1({},Q,{lowerWidth:Q.width,upperWidth:Q.width}),D.createElement(B7,{label:t.label}),t.children)))}var A0e={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:pi.line};function AE(t){var e=Ui(t,A0e);return D.createElement(D.Fragment,null,D.createElement(E0e,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y,segment:e.segment}),D.createElement(_0e,e))}AE.displayName="ReferenceLine";function sL(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function S0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return s0e(r,n)}function C0e(t,e,n){var r=n==="width",{x:i,y:a,width:c,height:h}=t;return e===1?{start:r?i:a,end:r?i+c:a+h}:{start:r?i+c:a+h,end:r?i:a}}function G0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function T0e(t,e){return sL(t,e+1)}function I0e(t,e,n,r,i){for(var a=(r||[]).slice(),{start:c,end:h}=e,y=0,g=1,w=c,A=function(){var j=r?.[y];if(j===void 0)return{v:sL(r,g)};var k=y,L,G=()=>(L===void 0&&(L=n(j,k)),L),K=j.coordinate,W=y===0||G0(t,K,G,w,h);W||(y=0,w=c,g+=1),W&&(w=K+t*(G()/2+i),y+=g)},I;g<=a.length;)if(I=A(),I)return I.v;return[]}function O0e(t,e,n,r,i){var a=(r||[]).slice(),c=a.length;if(c===0)return[];for(var{start:h,end:y}=e,g=1;g<=c;g++){for(var w=(c-1)%g,A=h,I=!0,R=function(){var ne=r[k];if(ne==null)return 0;var fe=k,Q,U=()=>(Q===void 0&&(Q=n(ne,fe)),Q),$=ne.coordinate,H=k===w||G0(t,$,U,A,y);if(!H)return I=!1,1;H&&(A=$+t*(U()/2+i))},j,k=w;k<c&&(j=R(),!(j!==0&&j===1));k+=g);if(I){for(var L=[],G=w;G<c;G+=g){var K=r[G];K!=null&&L.push(K)}return L}}return[]}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){N0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N0e(t,e,n){return(e=R0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R0e(t){var e=P0e(t,"string");return typeof e=="symbol"?e:e+""}function P0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D0e(t,e,n,r,i){for(var a=(r||[]).slice(),c=a.length,{start:h}=e,{end:y}=e,g=function(I){var R=a[I];if(R==null)return 1;var j=R,k,L=()=>(k===void 0&&(k=n(R,I)),k);if(I===c-1){var G=t*(j.coordinate+t*L()/2-y);a[I]=j=Ba(Ba({},j),{},{tickCoord:G>0?j.coordinate-G*t:j.coordinate})}else a[I]=j=Ba(Ba({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var K=G0(t,j.tickCoord,L,h,y);K&&(y=j.tickCoord-t*(L()/2+i),a[I]=Ba(Ba({},j),{},{isShow:!0}))}},w=c-1;w>=0;w--)g(w);return a}function M0e(t,e,n,r,i,a){var c=(r||[]).slice(),h=c.length,{start:y,end:g}=e;if(a){var w=r[h-1];if(w!=null){var A=n(w,h-1),I=t*(w.coordinate+t*A/2-g);if(c[h-1]=w=Ba(Ba({},w),{},{tickCoord:I>0?w.coordinate-I*t:w.coordinate}),w.tickCoord!=null){var R=G0(t,w.tickCoord,()=>A,y,g);R&&(g=w.tickCoord-t*(A/2+i),c[h-1]=Ba(Ba({},w),{},{isShow:!0}))}}}for(var j=a?h-1:h,k=function(K){var W=c[K];if(W==null)return 1;var ne=W,fe,Q=()=>(fe===void 0&&(fe=n(W,K)),fe);if(K===0){var U=t*(ne.coordinate-t*Q()/2-y);c[K]=ne=Ba(Ba({},ne),{},{tickCoord:U<0?ne.coordinate-U*t:ne.coordinate})}else c[K]=ne=Ba(Ba({},ne),{},{tickCoord:ne.coordinate});if(ne.tickCoord!=null){var $=G0(t,ne.tickCoord,Q,y,g);$&&(y=ne.tickCoord+t*(Q()/2+i),c[K]=Ba(Ba({},ne),{},{isShow:!0}))}},L=0;L<j;L++)k(L);return c}function IS(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:c,orientation:h,interval:y,tickFormatter:g,unit:w,angle:A}=t;if(!i||!i.length||!r)return[];if(vt(y)||Vy.isSsr){var I;return(I=T0e(i,vt(y)?y:0))!==null&&I!==void 0?I:[]}var R=[],j=h==="top"||h==="bottom"?"width":"height",k=w&&j==="width"?g0(w,{fontSize:e,letterSpacing:n}):{width:0,height:0},L=(fe,Q)=>{var U=typeof g=="function"?g(fe.value,Q):fe.value;return j==="width"?S0e(g0(U,{fontSize:e,letterSpacing:n}),k,A):g0(U,{fontSize:e,letterSpacing:n})[j]},G=i[0],K=i[1],W=i.length>=2&&G!=null&&K!=null?ta(K.coordinate-G.coordinate):1,ne=C0e(a,W,j);return y==="equidistantPreserveStart"?I0e(W,ne,L,i,c):y==="equidistantPreserveEnd"?O0e(W,ne,L,i,c):(y==="preserveStart"||y==="preserveStartEnd"?R=M0e(W,ne,L,i,c,y==="preserveStartEnd"):R=D0e(W,ne,L,i,c),R.filter(fe=>fe.isShow))}var k0e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,c=0;if(e){Array.from(e).forEach(w=>{if(w){var A=w.getBoundingClientRect();A.width>c&&(c=A.width)}});var h=n?n.getBoundingClientRect().width:0,y=i+a,g=c+y+h+(n?r:0);return Math.round(g)}return 0},j0e=["axisLine","width","height","className","hide","ticks","axisType"];function L0e(t,e){if(t==null)return{};var n,r,i=B0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function B0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hf.apply(null,arguments)}function MD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(n),!0).forEach(function(r){F0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F0e(t,e,n){return(e=U0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U0e(t){var e=V0e(t,"string");return typeof e=="symbol"?e:e+""}function V0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ql={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pi.axis};function z0e(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:c,axisLine:h,otherSvgProps:y}=t;if(!h)return null;var g=si(si(si({},y),ks(h)),{},{fill:"none"});if(a==="top"||a==="bottom"){var w=+(a==="top"&&!c||a==="bottom"&&c);g=si(si({},g),{},{x1:e,y1:n+w*i,x2:e+r,y2:n+w*i})}else{var A=+(a==="left"&&!c||a==="right"&&c);g=si(si({},g),{},{x1:e+A*r,y1:n,x2:e+A*r,y2:n+i})}return D.createElement("line",hf({},g,{className:Vn("recharts-cartesian-axis-line",of(h,"className"))}))}function q0e(t,e,n,r,i,a,c,h,y){var g,w,A,I,R,j,k=h?-1:1,L=t.tickSize||c,G=vt(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":g=w=t.coordinate,I=n+ +!h*i,A=I-k*L,j=A-k*y,R=G;break;case"left":A=I=t.coordinate,w=e+ +!h*r,g=w-k*L,R=g-k*y,j=G;break;case"right":A=I=t.coordinate,w=e+ +h*r,g=w+k*L,R=g+k*y,j=G;break;default:g=w=t.coordinate,I=n+ +h*i,A=I+k*L,j=A+k*y,R=G;break}return{line:{x1:g,y1:A,x2:w,y2:I},tick:{x:R,y:j}}}function H0e(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function G0e(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function W0e(t){var{option:e,tickProps:n,value:r}=t,i,a=Vn(n.className,"recharts-cartesian-axis-tick-value");if(D.isValidElement(e))i=D.cloneElement(e,si(si({},n),{},{className:a}));else if(typeof e=="function")i=e(si(si({},n),{},{className:a}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=Vn(c,W7(e))),i=D.createElement(sv,hf({},n,{className:c}),r)}return i}var K0e=D.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:c,unit:h,padding:y,tickTextProps:g,orientation:w,mirror:A,x:I,y:R,width:j,height:k,tickSize:L,tickMargin:G,fontSize:K,letterSpacing:W,getTicksConfig:ne,events:fe,axisType:Q}=t,U=IS(si(si({},ne),{},{ticks:n}),K,W),$=H0e(w,A),H=G0e(w,A),ae=ks(ne),ie=af(r),Z={};typeof i=="object"&&(Z=i);var J=si(si({},ae),{},{fill:"none"},Z),Be=U.map(Ae=>si({entry:Ae},q0e(Ae,I,R,j,k,w,L,A,G))),pe=Be.map(Ae=>{var{entry:We,line:Ue}=Ae;return D.createElement(Fi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(We.value,"-").concat(We.coordinate,"-").concat(We.tickCoord)},i&&D.createElement("line",hf({},J,Ue,{className:Vn("recharts-cartesian-axis-tick-line",of(i,"className"))})))}),ve=Be.map((Ae,We)=>{var Ue,st,{entry:he,tick:_e}=Ae,Ge=si(si(si(si({verticalAnchor:H},ae),{},{textAnchor:$,stroke:"none",fill:a},_e),{},{index:We,payload:he,visibleTicksCount:U.length,tickFormatter:c,padding:y},g),{},{angle:(Ue=(st=g?.angle)!==null&&st!==void 0?st:ae.angle)!==null&&Ue!==void 0?Ue:0}),Fe=si(si({},Ge),ie);return D.createElement(Fi,hf({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},_y(fe,he,We)),r&&D.createElement(W0e,{option:r,tickProps:Fe,value:"".concat(typeof c=="function"?c(he.value,We):he.value).concat(h||"")}))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(Q,"-ticks")},ve.length>0&&D.createElement(Ja,{zIndex:pi.label},D.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(Q,"-tick-labels"),ref:e},ve)),pe.length>0&&D.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(Q,"-tick-lines")},pe))}),Y0e=D.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:c,ticks:h,axisType:y}=t,g=L0e(t,j0e),[w,A]=D.useState(""),[I,R]=D.useState(""),j=D.useRef(null);D.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var L;return k0e({ticks:j.current,label:(L=t.labelRef)===null||L===void 0?void 0:L.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var k=D.useCallback(L=>{if(L){var G=L.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=G;var K=G[0];if(K){var W=window.getComputedStyle(K),ne=W.fontSize,fe=W.letterSpacing;(ne!==w||fe!==I)&&(A(ne),R(fe))}}},[w,I]);return c||r!=null&&r<=0||i!=null&&i<=0?null:D.createElement(Ja,{zIndex:t.zIndex},D.createElement(Fi,{className:Vn("recharts-cartesian-axis",a)},D.createElement(z0e,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ks(t)}),D.createElement(K0e,{ref:k,axisType:y,events:g,fontSize:w,getTicksConfig:t,height:t.height,letterSpacing:I,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:h,unit:t.unit,width:t.width,x:t.x,y:t.y}),D.createElement(j7,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},D.createElement(B7,{label:t.label,labelRef:t.labelRef}),t.children)))}),OS=D.forwardRef((t,e)=>{var n=Ui(t,ql);return D.createElement(Y0e,hf({},n,{ref:e}))});OS.displayName="CartesianAxis";var $0e=["x1","y1","x2","y2","key"],X0e=["offset"],Z0e=["xAxisId","yAxisId"],Q0e=["xAxisId","yAxisId"];function kD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(n),!0).forEach(function(r){J0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J0e(t,e,n){return(e=eme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return typeof e=="symbol"?e:e+""}function tme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(null,arguments)}function H1(t,e){if(t==null)return{};var n,r,i=nme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rme=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:c,ry:h}=t;return D.createElement("rect",{x:r,y:i,ry:h,width:a,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function oL(t){var{option:e,lineItemProps:n}=t,r;if(D.isValidElement(e))r=D.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:c,x2:h,y2:y,key:g}=n,w=H1(n,$0e),A=(i=ks(w))!==null&&i!==void 0?i:{},{offset:I}=A,R=H1(A,X0e);r=D.createElement("line",zc({},R,{x1:a,y1:c,x2:h,y2:y,fill:"none",key:g}))}return r}function ime(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:c}=t,h=H1(t,Z0e),y=i.map((g,w)=>{var A=Va(Va({},h),{},{x1:e,y1:g,x2:e+n,y2:g,key:"line-".concat(w),index:w});return D.createElement(oL,{key:"line-".concat(w),option:r,lineItemProps:A})});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},y)}function ame(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:c}=t,h=H1(t,Q0e),y=i.map((g,w)=>{var A=Va(Va({},h),{},{x1:g,y1:e,x2:g,y2:e+n,key:"line-".concat(w),index:w});return D.createElement(oL,{option:r,lineItemProps:A,key:"line-".concat(w)})});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},y)}function sme(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:c,horizontalPoints:h,horizontal:y=!0}=t;if(!y||!e||!e.length||h==null)return null;var g=h.map(A=>Math.round(A+i-i)).sort((A,I)=>A-I);i!==g[0]&&g.unshift(0);var w=g.map((A,I)=>{var R=g[I+1],j=R==null,k=j?i+c-A:R-A;if(k<=0)return null;var L=I%e.length;return D.createElement("rect",{key:"react-".concat(I),y:A,x:r,height:k,width:a,stroke:"none",fill:e[L],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},w)}function ome(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:c,height:h,verticalPoints:y}=t;if(!e||!n||!n.length)return null;var g=y.map(A=>Math.round(A+i-i)).sort((A,I)=>A-I);i!==g[0]&&g.unshift(0);var w=g.map((A,I)=>{var R=g[I+1],j=R==null,k=j?i+c-A:R-A;if(k<=0)return null;var L=I%n.length;return D.createElement("rect",{key:"react-".concat(I),x:A,y:a,width:k,height:h,stroke:"none",fill:n[L],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},w)}var lme=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return K5(IS(Va(Va(Va({},ql),n),{},{ticks:Y5(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},ume=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return K5(IS(Va(Va(Va({},ql),n),{},{ticks:Y5(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},cme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pi.grid};function p0(t){var e=n9(),n=r9(),r=t9(),i=Va(Va({},Ui(t,cme)),{},{x:vt(t.x)?t.x:r.left,y:vt(t.y)?t.y:r.top,width:vt(t.width)?t.width:r.width,height:vt(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:c,x:h,y,width:g,height:w,syncWithTicks:A,horizontalValues:I,verticalValues:R}=i,j=_a(),k=xt(H=>_P(H,"xAxis",a,j)),L=xt(H=>_P(H,"yAxis",c,j));if(!rl(g)||!rl(w)||!vt(h)||!vt(y))return null;var G=i.verticalCoordinatesGenerator||lme,K=i.horizontalCoordinatesGenerator||ume,{horizontalPoints:W,verticalPoints:ne}=i;if((!W||!W.length)&&typeof K=="function"){var fe=I&&I.length,Q=K({yAxis:L?Va(Va({},L),{},{ticks:fe?I:L.ticks}):void 0,width:e??g,height:n??w,offset:r},fe?!0:A);g1(Array.isArray(Q),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Q,"]")),Array.isArray(Q)&&(W=Q)}if((!ne||!ne.length)&&typeof G=="function"){var U=R&&R.length,$=G({xAxis:k?Va(Va({},k),{},{ticks:U?R:k.ticks}):void 0,width:e??g,height:n??w,offset:r},U?!0:A);g1(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(ne=$)}return D.createElement(Ja,{zIndex:i.zIndex},D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(rme,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),D.createElement(sme,zc({},i,{horizontalPoints:W})),D.createElement(ome,zc({},i,{verticalPoints:ne})),D.createElement(ime,zc({},i,{offset:r,horizontalPoints:W,xAxis:k,yAxis:L})),D.createElement(ame,zc({},i,{offset:r,verticalPoints:ne,xAxis:k,yAxis:L}))))}p0.displayName="CartesianGrid";var fme={},lL=xs({name:"errorBars",initialState:fme,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:xye,replaceErrorBar:bye,removeErrorBar:wye}=lL.actions,dme=lL.reducer,hme=["children"];function mme(t,e){if(t==null)return{};var n,r,i=gme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pme={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},yme=D.createContext(pme);function uL(t){var{children:e}=t,n=mme(t,hme);return D.createElement(yme.Provider,{value:n},e)}function NS(t,e){var n,r,i=xt(g=>ll(g,t)),a=xt(g=>ul(g,e)),c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Zi.allowDataOverflow,h=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Qi.allowDataOverflow,y=c||h;return{needClip:y,needClipX:c,needClipY:h}}function cL(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=TS(),{needClipX:a,needClipY:c,needClip:h}=NS(e,n);if(!h||!i)return null;var{x:y,y:g,width:w,height:A}=i;return D.createElement("clipPath",{id:"clipPath-".concat(r)},D.createElement("rect",{x:a?y:y-w/2,y:c?g:g-A/2,width:a?w:w*2,height:c?A:A*2}))}var fL=(t,e,n,r)=>cc(t,"xAxis",e,r),dL=(t,e,n,r)=>uc(t,"xAxis",e,r),hL=(t,e,n,r)=>cc(t,"yAxis",n,r),mL=(t,e,n,r)=>uc(t,"yAxis",n,r),vme=Te([qn,fL,hL,dL,mL],(t,e,n,r,i)=>iu(t,"xAxis")?Od(e,r,!1):Od(n,i,!1)),xme=(t,e,n,r,i)=>i;function bme(t){return t.type==="line"}var wme=Te([tv,xme],(t,e)=>t.filter(bme).find(n=>n.id===e)),Eme=Te([qn,fL,hL,dL,mL,wme,vme,IA],(t,e,n,r,i,a,c,h)=>{var{chartData:y,dataStartIndex:g,dataEndIndex:w}=h;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:A,data:I}=a,R;if(I!=null&&I.length>0?R=I:R=y?.slice(g,w+1),R!=null)return uge({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:A,bandSize:c,displayedData:R})}});function _me(t){var e=af(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,c=Number(i),h=Number(a);return(Number.isNaN(c)||c<0)&&(c=n),(Number.isNaN(h)||h<0)&&(h=r),{r:c,strokeWidth:h}}return{r:n,strokeWidth:r}}var $w={exports:{}},Xw={};var jD;function Ame(){if(jD)return Xw;jD=1;var t=kd();function e(y,g){return y===g&&(y!==0||1/y===1/g)||y!==y&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,c=t.useMemo,h=t.useDebugValue;return Xw.useSyncExternalStoreWithSelector=function(y,g,w,A,I){var R=i(null);if(R.current===null){var j={hasValue:!1,value:null};R.current=j}else j=R.current;R=c(function(){function L(fe){if(!G){if(G=!0,K=fe,fe=A(fe),I!==void 0&&j.hasValue){var Q=j.value;if(I(Q,fe))return W=Q}return W=fe}if(Q=W,n(K,fe))return Q;var U=A(fe);return I!==void 0&&I(Q,U)?(K=fe,Q):(K=fe,W=U)}var G=!1,K,W,ne=w===void 0?null:w;return[function(){return L(g())},ne===null?void 0:function(){return L(ne())}]},[g,w,A,I]);var k=r(y,R[0],R[1]);return a(function(){j.hasValue=!0,j.value=k},[k]),h(k),k},Xw}var LD;function Sme(){return LD||(LD=1,$w.exports=Ame()),$w.exports}Sme();function Cme(t){t()}function Tme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Cme(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var BD={notify(){},get:()=>[]};function Ime(t,e){let n,r=BD,i=0,a=!1;function c(k){w();const L=r.subscribe(k);let G=!1;return()=>{G||(G=!0,L(),A())}}function h(){r.notify()}function y(){j.onStateChange&&j.onStateChange()}function g(){return a}function w(){i++,n||(n=t.subscribe(y),r=Tme())}function A(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=BD)}function I(){a||(a=!0,w())}function R(){a&&(a=!1,A())}const j={addNestedSub:c,notifyNestedSubs:h,handleChangeWrapper:y,isSubscribed:g,trySubscribe:I,tryUnsubscribe:R,getListeners:()=>r};return j}var Ome=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nme=Ome(),Rme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Pme=Rme(),Dme=()=>Nme||Pme?D.useLayoutEffect:D.useEffect,Mme=Dme();function FD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function kme(t,e){if(FD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!FD(t[n[i]],e[n[i]]))return!1;return!0}var jme=Symbol.for("react-redux-context"),Lme=typeof globalThis<"u"?globalThis:{};function Bme(){if(!D.createContext)return{};const t=Lme[jme]??=new Map;let e=t.get(D.createContext);return e||(e=D.createContext(null),t.set(D.createContext,e)),e}var Fme=Bme();function Ume(t){const{children:e,context:n,serverState:r,store:i}=t,a=D.useMemo(()=>{const y=Ime(i);return{store:i,subscription:y,getServerState:r?()=>r:void 0}},[i,r]),c=D.useMemo(()=>i.getState(),[i]);Mme(()=>{const{subscription:y}=a;return y.onStateChange=y.notifyNestedSubs,y.trySubscribe(),c!==i.getState()&&y.notifyNestedSubs(),()=>{y.tryUnsubscribe(),y.onStateChange=void 0}},[a,c]);const h=n||Fme;return D.createElement(h.Provider,{value:a},e)}var Vme=Ume,zme=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function qme(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function cv(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(zme.has(r)){if(t[r]==null&&e[r]==null)continue;if(!kme(t[r],e[r]))return!1}else if(!qme(t[r],e[r]))return!1;return!0}var Hme=["id"],Gme=["type","layout","connectNulls","needClip","shape"],Wme=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W0.apply(null,arguments)}function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(r){Kme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kme(t,e,n){return(e=Yme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yme(t){var e=$me(t,"string");return typeof e=="symbol"?e:e+""}function $me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RS(t,e){if(t==null)return{};var n,r,i=Xme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zme=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Wd(n,e),payload:t}]},Qme=D.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:c,hide:h,unit:y,tooltipType:g,id:w}=t,A={dataDefinedOnItem:n,getPosition:bf,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Wd(c,e),hide:h,type:g,color:r,unit:y,graphicalItemId:w}};return D.createElement(SS,{tooltipEntrySettings:A})}),gL=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Jme(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var ege=(t,e,n)=>{var r=n.reduce((R,j)=>R+j);if(!r)return gL(e,t);for(var i=Math.floor(t/r),a=t%r,c=e-t,h=[],y=0,g=0;y<n.length;g+=(w=n[y])!==null&&w!==void 0?w:0,++y){var w,A=n[y];if(A!=null&&g+A>a){h=[...n.slice(0,y),a-g];break}}var I=h.length%2===0?[0,c]:[c];return[...Jme(n,i),...h,...I].map(R=>"".concat(R,"px")).join(", ")};function tge(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:c}=r,{id:h}=r,y=RS(r,Hme),g=ks(y);return D.createElement(Che,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:g,needClip:c,clipPathId:e})}function nge(t){var{showLabels:e,children:n,points:r}=t,i=D.useMemo(()=>r?.map(a=>{var c,h,y={x:(c=a.x)!==null&&c!==void 0?c:0,y:(h=a.y)!==null&&h!==void 0?h:0,width:0,lowerWidth:0,upperWidth:0,height:0};return qo(qo({},y),{},{value:a.value,payload:a.payload,viewBox:y,parentViewBox:void 0,fill:void 0})}),[r]);return D.createElement(U7,{value:e?i:void 0},n)}function VD(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:c,layout:h,connectNulls:y,needClip:g,shape:w}=a,A=RS(a,Gme),I=qo(qo({},Ha(A)),{},{fill:"none",className:"recharts-line-curve",clipPath:g?"url(#clipPath-".concat(e,")"):void 0,points:r,type:c,layout:h,connectNulls:y,strokeDasharray:i??a.strokeDasharray});return D.createElement(D.Fragment,null,r?.length>1&&D.createElement(wS,W0({shapeType:"curve",option:w},I,{pathRef:n})),D.createElement(tge,{points:r,clipPathId:e,props:a}))}function rge(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function ige(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:c,strokeDasharray:h,isAnimationActive:y,animationBegin:g,animationDuration:w,animationEasing:A,animateNewValues:I,width:R,height:j,onAnimationEnd:k,onAnimationStart:L}=n,G=i.current,K=vm(c,"recharts-line-"),W=D.useRef(K),[ne,fe]=D.useState(!1),Q=!ne,U=D.useCallback(()=>{typeof k=="function"&&k(),fe(!1)},[k]),$=D.useCallback(()=>{typeof L=="function"&&L(),fe(!0)},[L]),H=rge(r.current),ae=D.useRef(0);W.current!==K&&(ae.current=a.current,W.current=K);var ie=ae.current;return D.createElement(nge,{points:c,showLabels:Q},n.children,D.createElement(ym,{animationId:K,begin:g,duration:w,isActive:y,easing:A,onAnimationEnd:U,onAnimationStart:$,key:K},Z=>{var J=Hr(ie,H+ie,Z),Be=Math.min(J,H),pe;if(y)if(h){var ve="".concat(h).split(/[,\s]+/gim).map(Ue=>parseFloat(Ue));pe=ege(Be,H,ve)}else pe=gL(H,Be);else pe=h==null?void 0:String(h);if(Z>0&&H>0&&(i.current=c,a.current=Math.max(a.current,Be)),G){var Ae=G.length/c.length,We=Z===1?c:c.map((Ue,st)=>{var he=Math.floor(st*Ae);if(G[he]){var _e=G[he];return qo(qo({},Ue),{},{x:Hr(_e.x,Ue.x,Z),y:Hr(_e.y,Ue.y,Z)})}return I?qo(qo({},Ue),{},{x:Hr(R*2,Ue.x,Z),y:Hr(j/2,Ue.y,Z)}):qo(qo({},Ue),{},{x:Ue.x,y:Ue.y})});return i.current=We,D.createElement(VD,{props:n,points:We,clipPathId:e,pathRef:r,strokeDasharray:pe})}return D.createElement(VD,{props:n,points:c,clipPathId:e,pathRef:r,strokeDasharray:pe})}),D.createElement(yS,{label:n.label}))}function age(t){var{clipPathId:e,props:n}=t,r=D.useRef(null),i=D.useRef(0),a=D.useRef(null);return D.createElement(ige,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var sge=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:hr(t.payload,e)}};class oge extends D.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:c,top:h,left:y,width:g,height:w,id:A,needClip:I,zIndex:R}=this.props;if(e)return null;var j=Vn("recharts-line",i),k=A,{r:L,strokeWidth:G}=_me(n),K=$7(n),W=L*2+G,ne=I?"url(#clipPath-".concat(K?"":"dots-").concat(k,")"):void 0;return D.createElement(Ja,{zIndex:R},D.createElement(Fi,{className:j},I&&D.createElement("defs",null,D.createElement(cL,{clipPathId:k,xAxisId:a,yAxisId:c}),!K&&D.createElement("clipPath",{id:"clipPath-dots-".concat(k)},D.createElement("rect",{x:y-W/2,y:h-W/2,width:g+W,height:w+W}))),D.createElement(uL,{xAxisId:a,yAxisId:c,data:r,dataPointFormatter:sge,errorBarOffset:0},D.createElement(age,{props:this.props,clipPathId:k}))),D.createElement(Whe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:ne}))}}var pL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:pi.line,type:"linear"};function lge(t){var e=Ui(t,pL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:c,connectNulls:h,dot:y,hide:g,isAnimationActive:w,label:A,legendType:I,xAxisId:R,yAxisId:j,id:k}=e,L=RS(e,Wme),{needClip:G}=NS(R,j),K=TS(),W=wf(),ne=_a(),fe=xt(ae=>Eme(ae,R,j,ne,k));if(W!=="horizontal"&&W!=="vertical"||fe==null||K==null)return null;var{height:Q,width:U,x:$,y:H}=K;return D.createElement(oge,W0({},L,{id:k,connectNulls:h,dot:y,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:c,isAnimationActive:w,hide:g,label:A,legendType:I,xAxisId:R,yAxisId:j,points:fe,layout:W,height:Q,width:U,left:$,top:H,needClip:G}))}function uge(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:c,bandSize:h,displayedData:y}=t;return y.map((g,w)=>{var A=hr(g,c);if(e==="horizontal"){var I=E4({axis:n,ticks:i,bandSize:h,entry:g,index:w}),R=Zr(A)?null:r.scale.map(A);return{x:I,y:R??null,value:A,payload:g}}var j=Zr(A)?null:n.scale.map(A),k=E4({axis:r,ticks:a,bandSize:h,entry:g,index:w});return j==null||k==null?null:{x:j,y:k,value:A,payload:g}}).filter(Boolean)}function cge(t){var e=Ui(t,pL),n=_a();return D.createElement(CS,{id:e.id,type:"line"},r=>D.createElement(D.Fragment,null,D.createElement(X7,{legendPayload:Zme(e)}),D.createElement(Qme,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),D.createElement(Q7,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),D.createElement(lge,W0({},e,{id:r}))))}var PS=D.memo(cge,cv);PS.displayName="Line";function Af(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:eL}function Sf(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:eL}var fge="Invariant failed";function dge(t,e){throw new Error(fge)}function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function G1(t){return D.createElement(wS,SE({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var hge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(vt(e))return e;var a=vt(r)||Zr(r);return a?e(r,i):(a||dge(),n)}},mge=(t,e,n)=>n,gge=(t,e)=>e,Rm=Te([tv,gge],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),pge=Te([Rm],t=>t?.maxBarSize),yge=(t,e,n,r)=>r,vge=Te([qn,tv,Af,Sf,mge],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),xge=(t,e,n)=>{var r=qn(t),i=Af(t,e),a=Sf(t,e);if(!(i==null||a==null))return r==="horizontal"?yE(t,"yAxis",a,n):yE(t,"xAxis",i,n)},bge=(t,e)=>{var n=qn(t),r=Af(t,e),i=Sf(t,e);if(!(r==null||i==null))return n==="horizontal"?EP(t,"xAxis",r):EP(t,"yAxis",i)},wge=Te([vge,_oe,bge],Khe),Ege=(t,e,n)=>{var r,i,a=Rm(t,e);if(a==null)return 0;var c=Af(t,e),h=Sf(t,e);if(c==null||h==null)return 0;var y=qn(t),g=yj(t),{maxBarSize:w}=a,A=Zr(w)?g:w,I,R;return y==="horizontal"?(I=cc(t,"xAxis",c,n),R=uc(t,"xAxis",c,n)):(I=cc(t,"yAxis",h,n),R=uc(t,"yAxis",h,n)),(r=(i=Od(I,R,!0))!==null&&i!==void 0?i:A)!==null&&r!==void 0?r:0},yL=(t,e,n)=>{var r=qn(t),i=Af(t,e),a=Sf(t,e);if(!(i==null||a==null)){var c,h;return r==="horizontal"?(c=cc(t,"xAxis",i,n),h=uc(t,"xAxis",i,n)):(c=cc(t,"yAxis",a,n),h=uc(t,"yAxis",a,n)),Od(c,h)}},_ge=Te([wge,yj,Eoe,vj,Ege,yL,pge],Qhe),Age=(t,e,n)=>{var r=Af(t,e);if(r!=null)return cc(t,"xAxis",r,n)},Sge=(t,e,n)=>{var r=Sf(t,e);if(r!=null)return cc(t,"yAxis",r,n)},Cge=(t,e,n)=>{var r=Af(t,e);if(r!=null)return uc(t,"xAxis",r,n)},Tge=(t,e,n)=>{var r=Sf(t,e);if(r!=null)return uc(t,"yAxis",r,n)},Ige=Te([_ge,Rm],e0e),Oge=Te([xge,Rm],Jhe),Nge=Te([Vi,J_,Age,Sge,Cge,Tge,Ige,qn,moe,yL,Oge,Rm,yge],(t,e,n,r,i,a,c,h,y,g,w,A,I)=>{var{chartData:R,dataStartIndex:j,dataEndIndex:k}=y;if(!(A==null||c==null||e==null||h!=="horizontal"&&h!=="vertical"||n==null||r==null||i==null||a==null||g==null)){var{data:L}=A,G;if(L!=null&&L.length>0?G=L:G=R?.slice(j,k+1),G!=null)return ipe({layout:h,barSettings:A,pos:c,parentViewBox:e,bandSize:g,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:w,displayedData:G,offset:t,cells:I,dataStartIndex:j})}}),Rge=["index"];function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(null,arguments)}function Pge(t,e){if(t==null)return{};var n,r,i=Dge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vL=D.createContext(void 0),Mge=t=>{var e=D.useContext(vL);if(e!=null)return e.stackId;if(t!=null)return _ne(t)},kge=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),jge=t=>{var e=D.useContext(vL);if(e!=null){var{stackId:n}=e;return"url(#".concat(kge(n,t),")")}},xL=t=>{var{index:e}=t,n=Pge(t,Rge),r=jge(e);return D.createElement(Fi,CE({className:"recharts-bar-stack-layer",clipPath:r},n))},Lge=["onMouseEnter","onMouseLeave","onClick"],Bge=["value","background","tooltipPosition"],Fge=["id"],Uge=["onMouseEnter","onClick","onMouseLeave"];function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(null,arguments)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){Vge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vge(t,e,n){return(e=zge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zge(t){var e=qge(t,"string");return typeof e=="symbol"?e:e+""}function qge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W1(t,e){if(t==null)return{};var n,r,i=Hge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gge=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Wd(n,e),payload:t}]},Wge=D.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:c,unit:h,tooltipType:y,id:g}=t,w={dataDefinedOnItem:void 0,getPosition:bf,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Wd(a,e),hide:c,type:y,color:i,unit:h,graphicalItemId:g}};return D.createElement(SS,{tooltipEntrySettings:w})});function Kge(t){var e=xt(fc),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:c,onMouseLeave:h,onClick:y}=a,g=W1(a,Lge),w=ES(c,r,a.id),A=_S(h),I=AS(y,r,a.id);if(!i||n==null)return null;var R=af(i);return D.createElement(Ja,{zIndex:t0e(i,pi.barBackground)},n.map((j,k)=>{var{value:L,background:G,tooltipPosition:K}=j,W=W1(j,Bge);if(!G)return null;var ne=w(j,k),fe=A(j,k),Q=I(j,k),U=Xa(Xa(Xa(Xa(Xa({option:i,isActive:String(k)===e},W),{},{fill:"#eee"},G),R),_y(g,j,k)),{},{onMouseEnter:ne,onMouseLeave:fe,onClick:Q,dataKey:r,index:k,className:"recharts-bar-background-rectangle"});return D.createElement(G1,nu({key:"background-bar-".concat(k)},U))}))}function Yge(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var c={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Xa(Xa({},c),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:c,fill:a.fill})});return D.createElement(U7,{value:e?i:void 0},n)}function $ge(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:c}=t,h=xt(fc),y=xt(cS),g=n&&String(a)===h&&(y==null||c===y),w=g?n:e;return g?D.createElement(Ja,{zIndex:pi.activeBar},D.createElement(xL,{index:a},D.createElement(G1,nu({},r,{name:String(r.name)},i,{isActive:g,option:w,index:a,dataKey:c})))):D.createElement(G1,nu({},r,{name:String(r.name)},i,{isActive:g,option:w,index:a,dataKey:c}))}function Xge(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return D.createElement(G1,nu({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function Zge(t){var e,{data:n,props:r}=t,i=(e=ks(r))!==null&&e!==void 0?e:{},{id:a}=i,c=W1(i,Fge),{shape:h,dataKey:y,activeBar:g}=r,{onMouseEnter:w,onClick:A,onMouseLeave:I}=r,R=W1(r,Uge),j=ES(w,y,a),k=_S(I),L=AS(A,y,a);return n?D.createElement(D.Fragment,null,n.map((G,K)=>D.createElement(xL,nu({index:K,key:"rectangle-".concat(G?.x,"-").concat(G?.y,"-").concat(G?.value,"-").concat(K),className:"recharts-bar-rectangle"},_y(R,G,K),{onMouseEnter:j(G,K),onMouseLeave:k(G,K),onClick:L(G,K)}),g?D.createElement($ge,{shape:h,activeBar:g,baseProps:c,entry:G,index:K,dataKey:y}):D.createElement(Xge,{shape:h,baseProps:c,entry:G,index:K,dataKey:y})))):null}function Qge(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:c,animationDuration:h,animationEasing:y,onAnimationEnd:g,onAnimationStart:w}=e,A=n.current,I=vm(e,"recharts-bar-"),[R,j]=D.useState(!1),k=!R,L=D.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),G=D.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]);return D.createElement(Yge,{showLabels:k,rects:r},D.createElement(ym,{animationId:I,begin:c,duration:h,isActive:a,easing:y,onAnimationEnd:L,onAnimationStart:G,key:I},K=>{var W=K===1?r:r?.map((ne,fe)=>{var Q=A&&A[fe];if(Q)return Xa(Xa({},ne),{},{x:Hr(Q.x,ne.x,K),y:Hr(Q.y,ne.y,K),width:Hr(Q.width,ne.width,K),height:Hr(Q.height,ne.height,K)});if(i==="horizontal"){var U=Hr(0,ne.height,K),$=Hr(ne.stackedBarStart,ne.y,K);return Xa(Xa({},ne),{},{y:$,height:U})}var H=Hr(0,ne.width,K),ae=Hr(ne.stackedBarStart,ne.x,K);return Xa(Xa({},ne),{},{width:H,x:ae})});return K>0&&(n.current=W??null),W==null?null:D.createElement(Fi,null,D.createElement(Zge,{props:e,data:W}))}),D.createElement(yS,{label:e.label}),e.children)}function Jge(t){var e=D.useRef(null);return D.createElement(Qge,{previousRectanglesRef:e,props:t})}var bL=0,epe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:hr(t,e)}};class tpe extends D.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:c,needClip:h,background:y,id:g}=this.props;if(e||n==null)return null;var w=Vn("recharts-bar",i),A=g;return D.createElement(Fi,{className:w,id:g},h&&D.createElement("defs",null,D.createElement(cL,{clipPathId:A,xAxisId:a,yAxisId:c})),D.createElement(Fi,{className:"recharts-bar-rectangles",clipPath:h?"url(#clipPath-".concat(A,")"):void 0},D.createElement(Kge,{data:n,dataKey:r,background:y,allOtherBarProps:this.props}),D.createElement(Jge,this.props)))}}var npe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:bL,xAxisId:0,yAxisId:0,zIndex:pi.bar};function rpe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:c,animationBegin:h,animationDuration:y,animationEasing:g,isAnimationActive:w}=t,{needClip:A}=NS(e,n),I=wf(),R=_a(),j=bS(t.children,Nm),k=xt(K=>Nge(K,t.id,R,j));if(I!=="vertical"&&I!=="horizontal")return null;var L,G=k?.[0];return G==null||G.height==null||G.width==null?L=0:L=I==="vertical"?G.height/2:G.width/2,D.createElement(uL,{xAxisId:e,yAxisId:n,data:k,dataPointFormatter:epe,errorBarOffset:L},D.createElement(tpe,nu({},t,{layout:I,needClip:A,data:k,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:c,animationBegin:h,animationDuration:y,animationEasing:g,isAnimationActive:w})))}function ipe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:c,yAxis:h,xAxisTicks:y,yAxisTicks:g,stackedData:w,displayedData:A,offset:I,cells:R,parentViewBox:j,dataStartIndex:k}=t,L=e==="horizontal"?h:c,G=w?L.scale.domain():null,K=Ane({numericAxis:L}),W=L.scale.map(K);return A.map((ne,fe)=>{var Q,U,$,H,ae,ie;if(w){var Z=w[fe+k];if(Z==null)return null;Q=vne(Z,G)}else Q=hr(ne,n),Array.isArray(Q)||(Q=[K,Q]);var J=hge(r,bL)(Q[1],fe);if(e==="horizontal"){var Be,pe=h.scale.map(Q[0]),ve=h.scale.map(Q[1]);if(pe==null||ve==null)return null;U=_4({axis:c,ticks:y,bandSize:a,offset:i.offset,entry:ne,index:fe}),$=(Be=ve??pe)!==null&&Be!==void 0?Be:void 0,H=i.size;var Ae=pe-ve;if(ae=nl(Ae)?0:Ae,ie={x:U,y:I.top,width:H,height:I.height},Math.abs(J)>0&&Math.abs(ae)<Math.abs(J)){var We=ta(ae||J)*(Math.abs(J)-Math.abs(ae));$-=We,ae+=We}}else{var Ue=c.scale.map(Q[0]),st=c.scale.map(Q[1]);if(Ue==null||st==null)return null;if(U=Ue,$=_4({axis:h,ticks:g,bandSize:a,offset:i.offset,entry:ne,index:fe}),H=st-Ue,ae=i.size,ie={x:I.left,y:$,width:I.width,height:ae},Math.abs(J)>0&&Math.abs(H)<Math.abs(J)){var he=ta(H||J)*(Math.abs(J)-Math.abs(H));H+=he}}if(U==null||$==null||H==null||ae==null)return null;var _e=Xa(Xa({},ne),{},{stackedBarStart:W,x:U,y:$,width:H,height:ae,value:w?Q:Q[1],payload:ne,background:ie,tooltipPosition:{x:U+H/2,y:$+ae/2},parentViewBox:j},R&&R[fe]&&R[fe].props);return _e}).filter(Boolean)}function ape(t){var e=Ui(t,npe),n=Mge(e.stackId),r=_a();return D.createElement(CS,{id:e.id,type:"bar"},i=>D.createElement(D.Fragment,null,D.createElement(X7,{legendPayload:Gge(e)}),D.createElement(Wge,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),D.createElement(Q7,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),D.createElement(Ja,{zIndex:e.zIndex},D.createElement(rpe,nu({},e,{id:i})))))}var TE=D.memo(ape,cv);TE.displayName="Bar";var spe=["domain","range"],ope=["domain","range"];function qD(t,e){if(t==null)return{};var n,r,i=lpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function wL(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=qD(t,spe),{domain:a,range:c}=e,h=qD(e,ope);return!HD(n,a)||!HD(r,c)?!1:cv(i,h)}var upe=["type"],cpe=["dangerouslySetInnerHTML","ticks","scale"],fpe=["id","scale"];function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IE.apply(null,arguments)}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){dpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dpe(t,e,n){return(e=hpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hpe(t){var e=mpe(t,"string");return typeof e=="symbol"?e:e+""}function mpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OE(t,e){if(t==null)return{};var n,r,i=gpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ppe(t){var e=Mr(),n=D.useRef(null),r=i9(),{type:i}=t,a=OE(t,upe),c=Xy(r,"xAxis",i),h=D.useMemo(()=>{if(c!=null)return WD(WD({},a),{},{type:c})},[a,c]);return D.useLayoutEffect(()=>{h!=null&&(n.current===null?e(Rhe(h)):n.current!==h&&e(Phe({prev:n.current,next:h})),n.current=h)},[h,e]),D.useLayoutEffect(()=>()=>{n.current&&(e(Dhe(n.current)),n.current=null)},[e]),null}var ype=t=>{var{xAxisId:e,className:n}=t,r=xt(J_),i=_a(),a="xAxis",c=xt(G=>Zj(G,a,e,i)),h=xt(G=>Kj(G,e)),y=xt(G=>_le(G,e)),g=xt(G=>Ij(G,e));if(h==null||y==null||g==null)return null;var{dangerouslySetInnerHTML:w,ticks:A,scale:I}=t,R=OE(t,cpe),{id:j,scale:k}=g,L=OE(g,fpe);return D.createElement(OS,IE({},R,L,{x:y.x,y:y.y,width:h.width,height:h.height,className:Vn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c,axisType:a}))},vpe={allowDataOverflow:Zi.allowDataOverflow,allowDecimals:Zi.allowDecimals,allowDuplicatedCategory:Zi.allowDuplicatedCategory,angle:Zi.angle,axisLine:ql.axisLine,height:Zi.height,hide:!1,includeHidden:Zi.includeHidden,interval:Zi.interval,label:!1,minTickGap:Zi.minTickGap,mirror:Zi.mirror,orientation:Zi.orientation,padding:Zi.padding,reversed:Zi.reversed,scale:Zi.scale,tick:Zi.tick,tickCount:Zi.tickCount,tickLine:ql.tickLine,tickSize:ql.tickSize,type:Zi.type,xAxisId:0},xpe=t=>{var e=Ui(t,vpe);return D.createElement(D.Fragment,null,D.createElement(ppe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),D.createElement(ype,e))},y0=D.memo(xpe,wL);y0.displayName="XAxis";var bpe=["type"],wpe=["dangerouslySetInnerHTML","ticks","scale"],Epe=["id","scale"];function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NE.apply(null,arguments)}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){_pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _pe(t,e,n){return(e=Ape(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ape(t){var e=Spe(t,"string");return typeof e=="symbol"?e:e+""}function Spe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RE(t,e){if(t==null)return{};var n,r,i=Cpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tpe(t){var e=Mr(),n=D.useRef(null),r=i9(),{type:i}=t,a=RE(t,bpe),c=Xy(r,"yAxis",i),h=D.useMemo(()=>{if(c!=null)return YD(YD({},a),{},{type:c})},[c,a]);return D.useLayoutEffect(()=>{h!=null&&(n.current===null?e(Mhe(h)):n.current!==h&&e(khe({prev:n.current,next:h})),n.current=h)},[h,e]),D.useLayoutEffect(()=>()=>{n.current&&(e(jhe(n.current)),n.current=null)},[e]),null}function Ipe(t){var{yAxisId:e,className:n,width:r,label:i}=t,a=D.useRef(null),c=D.useRef(null),h=xt(J_),y=_a(),g=Mr(),w="yAxis",A=xt(Q=>Yj(Q,e)),I=xt(Q=>Sle(Q,e)),R=xt(Q=>Zj(Q,w,e,y)),j=xt(Q=>Oj(Q,e));if(D.useLayoutEffect(()=>{if(!(r!=="auto"||!A||pS(i)||D.isValidElement(i)||j==null)){var Q=a.current;if(Q){var U=Q.getCalculatedWidth();Math.round(A.width)!==Math.round(U)&&g(Lhe({id:e,width:U}))}}},[R,A,g,i,e,r,j]),A==null||I==null||j==null)return null;var{dangerouslySetInnerHTML:k,ticks:L,scale:G}=t,K=RE(t,wpe),{id:W,scale:ne}=j,fe=RE(j,Epe);return D.createElement(OS,NE({},K,fe,{ref:a,labelRef:c,x:I.x,y:I.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:A.width,height:A.height,className:Vn("recharts-".concat(w," ").concat(w),n),viewBox:h,ticks:R,axisType:w}))}var Ope={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:Qi.allowDecimals,allowDuplicatedCategory:Qi.allowDuplicatedCategory,angle:Qi.angle,axisLine:ql.axisLine,hide:!1,includeHidden:Qi.includeHidden,interval:Qi.interval,label:!1,minTickGap:Qi.minTickGap,mirror:Qi.mirror,orientation:Qi.orientation,padding:Qi.padding,reversed:Qi.reversed,scale:Qi.scale,tick:Qi.tick,tickCount:Qi.tickCount,tickLine:ql.tickLine,tickSize:ql.tickSize,type:Qi.type,width:Qi.width,yAxisId:0},Npe=t=>{var e=Ui(t,Ope);return D.createElement(D.Fragment,null,D.createElement(Tpe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),D.createElement(Ipe,e))},v0=D.memo(Npe,wL);v0.displayName="YAxis";var Rpe=(t,e)=>e,DS=Te([Rpe,qn,Sj,ra,m7,uu,Vue,Vi],Yue),MS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},EL=io("mouseClick"),_L=dm();_L.startListening({actionCreator:EL,effect:(t,e)=>{var n=t.payload,r=DS(e.getState(),MS(n));r?.activeIndex!=null&&e.dispatch(Fle({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var PE=io("mouseMove"),AL=dm(),tp=null;AL.startListening({actionCreator:PE,effect:(t,e)=>{var n=t.payload;tp!==null&&cancelAnimationFrame(tp);var r=MS(n);tp=requestAnimationFrame(()=>{var i=e.getState(),a=iS(i,i.tooltip.settings.shared);if(a==="axis"){var c=DS(i,r);c?.activeIndex!=null?e.dispatch(a7({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(i7())}tp=null})}});function Ppe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var $D={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},SL=xs({name:"rootProps",initialState:$D,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:$D.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Dpe=SL.reducer,{updateOptions:Mpe}=SL.actions,kpe=null,jpe={updatePolarOptions:(t,e)=>e.payload},CL=xs({name:"polarOptions",initialState:kpe,reducers:jpe}),{updatePolarOptions:Lpe}=CL.actions,Bpe=CL.reducer,TL=io("keyDown"),IL=io("focus"),kS=dm();kS.startListening({actionCreator:TL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var c=aS(i,th(n),Cm(n),Im(n)),h=c==null?-1:Number(c);if(!(!Number.isFinite(h)||h<0)){var y=uu(n);if(a==="Enter"){var g=B1(n,"axis","hover",String(i.index));e.dispatch(xE({active:!i.active,activeIndex:i.index,activeCoordinate:g}));return}var w=Ole(n),A=w==="left-to-right"?1:-1,I=a==="ArrowRight"?1:-1,R=h+I*A;if(!(y==null||R>=y.length||R<0)){var j=B1(n,"axis","hover",String(R));e.dispatch(xE({active:!0,activeIndex:R.toString(),activeCoordinate:j}))}}}}}});kS.startListening({actionCreator:IL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",c=B1(n,"axis","hover",String(a));e.dispatch(xE({active:!0,activeIndex:a,activeCoordinate:c}))}}}});var Xs=io("externalEvent"),OL=dm(),Zw=new Map;OL.startListening({actionCreator:Xs,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=Zw.get(i);a!==void 0&&cancelAnimationFrame(a);var c=requestAnimationFrame(()=>{try{var h=e.getState(),y={activeCoordinate:Sue(h),activeDataKey:cS(h),activeIndex:fc(h),activeLabel:y7(h),activeTooltipIndex:fc(h),isTooltipActive:Cue(h)};n(y,r)}finally{Zw.delete(i)}});Zw.set(i,c)}}});var Fpe=Te([Jd],t=>t.tooltipItemPayloads),Upe=Te([Fpe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),NL=io("touchMove"),RL=dm();RL.startListening({actionCreator:NL,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=iS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var c=DS(r,MS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&e.dispatch(a7({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var h,y=n.touches[0];if(document.elementFromPoint==null||y==null)return;var g=document.elementFromPoint(y.clientX,y.clientY);if(!g||!g.getAttribute)return;var w=g.getAttribute(X5),A=(h=g.getAttribute(Z5))!==null&&h!==void 0?h:void 0,I=eh(r).find(k=>k.id===A);if(w==null||I==null||A==null)return;var{dataKey:R}=I,j=Upe(r,w,A);e.dispatch(r7({activeDataKey:R,activeIndex:w,activeCoordinate:j,activeGraphicalItemId:A}))}}}});var Vpe=v5({brush:n0e,cartesianAxis:Bhe,chartData:Sce,errorBars:dme,graphicalItems:Gde,layout:hne,legend:vre,options:bce,polarAxis:ade,polarOptions:Bpe,referenceElements:c0e,rootProps:Dpe,tooltip:Ule,zIndex:lce}),zpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Bte({reducer:Vpe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([_L.middleware,AL.middleware,kS.middleware,OL.middleware,RL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(D5({type:"raf"}))},devTools:{serialize:{replacer:Ppe},name:"recharts-".concat(n)}})};function PL(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=_a(),a=D.useRef(null);if(i)return n;a.current==null&&(a.current=zpe(e,r));var c=W_;return D.createElement(Vme,{context:c,store:a.current},n)}function qpe(t){var{layout:e,margin:n}=t,r=Mr(),i=_a();return D.useEffect(()=>{i||(r(cne(e)),r(une(n)))},[r,i,e,n]),null}var DL=D.memo(qpe,cv);function ML(t){var e=Mr();return D.useEffect(()=>{e(Mpe(t))},[e,t]),null}function XD(t){var{zIndex:e,isPanorama:n}=t,r=D.useRef(null),i=Mr();return D.useLayoutEffect(()=>(r.current&&i(sce({zIndex:e,element:r.current,isPanorama:n})),()=>{i(oce({zIndex:e,isPanorama:n}))}),[i,e,n]),D.createElement("g",{tabIndex:-1,ref:r})}function ZD(t){var{children:e,isPanorama:n}=t,r=xt(Xue);if(!r||r.length===0)return e;var i=r.filter(c=>c<0),a=r.filter(c=>c>0);return D.createElement(D.Fragment,null,i.map(c=>D.createElement(XD,{key:c,zIndex:c,isPanorama:n})),e,a.map(c=>D.createElement(XD,{key:c,zIndex:c,isPanorama:n})))}var Hpe=["children"];function Gpe(t,e){if(t==null)return{};var n,r,i=Wpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K1.apply(null,arguments)}var Kpe={width:"100%",height:"100%",display:"block"},Ype=D.forwardRef((t,e)=>{var n=n9(),r=r9(),i=p9();if(!rl(n)||!rl(r))return null;var{children:a,otherAttributes:c,title:h,desc:y}=t,g,w;return c!=null&&(typeof c.tabIndex=="number"?g=c.tabIndex:g=i?0:void 0,typeof c.role=="string"?w=c.role:w=i?"application":void 0),D.createElement(jk,K1({},c,{title:h,desc:y,role:w,tabIndex:g,width:n,height:r,style:Kpe,ref:e}),a)}),$pe=t=>{var{children:e}=t,n=xt(Ly);if(!n)return null;var{width:r,height:i,y:a,x:c}=n;return D.createElement(jk,{width:r,height:i,x:c,y:a},e)},QD=D.forwardRef((t,e)=>{var{children:n}=t,r=Gpe(t,Hpe),i=_a();return i?D.createElement($pe,null,D.createElement(ZD,{isPanorama:!0},n)):D.createElement(Ype,K1({ref:e},r),D.createElement(ZD,{isPanorama:!1},n))});function Xpe(){var t=Mr(),[e,n]=D.useState(null),r=xt(Nne);return D.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;un(a)&&a!==r&&t(dne(a))}},[e,t,r]),n}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zpe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){Qpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qpe(t,e,n){return(e=Jpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jpe(t){var e=e1e(t,"string");return typeof e=="symbol"?e:e+""}function e1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(null,arguments)}var t1e=()=>(Mce(),null);function Y1(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var n1e=D.forwardRef((t,e)=>{var n,r,i=D.useRef(null),[a,c]=D.useState({containerWidth:Y1((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Y1((r=t.style)===null||r===void 0?void 0:r.height)}),h=D.useCallback((g,w)=>{c(A=>{var I=Math.round(g),R=Math.round(w);return A.containerWidth===I&&A.containerHeight===R?A:{containerWidth:I,containerHeight:R}})},[]),y=D.useCallback(g=>{if(typeof e=="function"&&e(g),g!=null&&typeof ResizeObserver<"u"){var{width:w,height:A}=g.getBoundingClientRect();h(w,A);var I=j=>{var k=j[0];if(k!=null){var{width:L,height:G}=k.contentRect;h(L,G)}},R=new ResizeObserver(I);R.observe(g),i.current=R}},[e,h]);return D.useEffect(()=>()=>{var g=i.current;g?.disconnect()},[h]),D.createElement(D.Fragment,null,D.createElement(gm,{width:a.containerWidth,height:a.containerHeight}),D.createElement("div",nc({ref:y},t)))}),r1e=D.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=D.useState({containerWidth:Y1(n),containerHeight:Y1(r)}),c=D.useCallback((y,g)=>{a(w=>{var A=Math.round(y),I=Math.round(g);return w.containerWidth===A&&w.containerHeight===I?w:{containerWidth:A,containerHeight:I}})},[]),h=D.useCallback(y=>{if(typeof e=="function"&&e(y),y!=null){var{width:g,height:w}=y.getBoundingClientRect();c(g,w)}},[e,c]);return D.createElement(D.Fragment,null,D.createElement(gm,{width:i.containerWidth,height:i.containerHeight}),D.createElement("div",nc({ref:h},t)))}),i1e=D.forwardRef((t,e)=>{var{width:n,height:r}=t;return D.createElement(D.Fragment,null,D.createElement(gm,{width:n,height:r}),D.createElement("div",nc({ref:e},t)))}),a1e=D.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?D.createElement(r1e,nc({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?D.createElement(i1e,nc({},t,{width:n,height:r,ref:e})):D.createElement(D.Fragment,null,D.createElement(gm,{width:n,height:r}),D.createElement("div",nc({ref:e},t)))});function s1e(t){return t?n1e:a1e}var o1e=D.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:c,onDoubleClick:h,onMouseDown:y,onMouseEnter:g,onMouseLeave:w,onMouseMove:A,onMouseUp:I,onTouchEnd:R,onTouchMove:j,onTouchStart:k,style:L,width:G,responsive:K,dispatchTouchEvents:W=!0}=t,ne=D.useRef(null),fe=Mr(),[Q,U]=D.useState(null),[$,H]=D.useState(null),ae=Xpe(),ie=eA(),Z=ie?.width>0?ie.width:G,J=ie?.height>0?ie.height:i,Be=D.useCallback(ke=>{ae(ke),typeof e=="function"&&e(ke),U(ke),H(ke),ke!=null&&(ne.current=ke)},[ae,e,U,H]),pe=D.useCallback(ke=>{fe(EL(ke)),fe(Xs({handler:a,reactEvent:ke}))},[fe,a]),ve=D.useCallback(ke=>{fe(PE(ke)),fe(Xs({handler:g,reactEvent:ke}))},[fe,g]),Ae=D.useCallback(ke=>{fe(i7()),fe(Xs({handler:w,reactEvent:ke}))},[fe,w]),We=D.useCallback(ke=>{fe(PE(ke)),fe(Xs({handler:A,reactEvent:ke}))},[fe,A]),Ue=D.useCallback(()=>{fe(IL())},[fe]),st=D.useCallback(ke=>{fe(TL(ke.key))},[fe]),he=D.useCallback(ke=>{fe(Xs({handler:c,reactEvent:ke}))},[fe,c]),_e=D.useCallback(ke=>{fe(Xs({handler:h,reactEvent:ke}))},[fe,h]),Ge=D.useCallback(ke=>{fe(Xs({handler:y,reactEvent:ke}))},[fe,y]),Fe=D.useCallback(ke=>{fe(Xs({handler:I,reactEvent:ke}))},[fe,I]),dt=D.useCallback(ke=>{fe(Xs({handler:k,reactEvent:ke}))},[fe,k]),Ne=D.useCallback(ke=>{W&&fe(NL(ke)),fe(Xs({handler:j,reactEvent:ke}))},[fe,W,j]),et=D.useCallback(ke=>{fe(Xs({handler:R,reactEvent:ke}))},[fe,R]),Tt=s1e(K);return D.createElement(A7.Provider,{value:Q},D.createElement(vJ.Provider,{value:$},D.createElement(Tt,{width:Z??L?.width,height:J??L?.height,className:Vn("recharts-wrapper",r),style:Zpe({position:"relative",cursor:"default",width:Z,height:J},L),onClick:pe,onContextMenu:he,onDoubleClick:_e,onFocus:Ue,onKeyDown:st,onMouseDown:Ge,onMouseEnter:ve,onMouseLeave:Ae,onMouseMove:We,onMouseUp:Fe,onTouchEnd:et,onTouchMove:Ne,onTouchStart:dt,ref:Be},D.createElement(t1e,null),n)))}),l1e=["width","height","responsive","children","className","style","compact","title","desc"];function u1e(t,e){if(t==null)return{};var n,r,i=c1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kL=D.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:c,style:h,compact:y,title:g,desc:w}=t,A=u1e(t,l1e),I=ks(A);return y?D.createElement(D.Fragment,null,D.createElement(gm,{width:n,height:r}),D.createElement(QD,{otherAttributes:I,title:g,desc:w},a)):D.createElement(o1e,{className:c,style:h,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},D.createElement(QD,{otherAttributes:I,title:g,desc:w,ref:e},D.createElement(f0e,null,a)))});function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DE.apply(null,arguments)}var f1e={top:5,right:5,bottom:5,left:5},d1e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:f1e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},jL=D.forwardRef(function(e,n){var r,i=Ui(e.categoricalChartProps,d1e),{chartName:a,defaultTooltipEventType:c,validateTooltipEventTypes:h,tooltipPayloadSearcher:y,categoricalChartProps:g}=e,w={chartName:a,defaultTooltipEventType:c,validateTooltipEventTypes:h,tooltipPayloadSearcher:y,eventEmitter:void 0};return D.createElement(PL,{preloadedState:{options:w},reduxStoreName:(r=g.id)!==null&&r!==void 0?r:a},D.createElement(nL,{chartData:g.data}),D.createElement(DL,{layout:i.layout,margin:i.margin}),D.createElement(ML,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),D.createElement(kL,DE({},i,{ref:n})))}),h1e=["axis"],LL=D.forwardRef((t,e)=>D.createElement(jL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:h1e,tooltipPayloadSearcher:gS,categoricalChartProps:t,ref:e})),m1e=["axis","item"],e6=D.forwardRef((t,e)=>D.createElement(jL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:m1e,tooltipPayloadSearcher:gS,categoricalChartProps:t,ref:e}));function g1e(t){var e=Mr();return D.useEffect(()=>{e(Lpe(t))},[e,t]),null}var p1e=["layout"];function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(null,arguments)}function y1e(t,e){if(t==null)return{};var n,r,i=v1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function v1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var x1e={top:5,right:5,bottom:5,left:5},BL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:x1e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},b1e=D.forwardRef(function(e,n){var r,i=Ui(e.categoricalChartProps,BL),{layout:a}=i,c=y1e(i,p1e),{chartName:h,defaultTooltipEventType:y,validateTooltipEventTypes:g,tooltipPayloadSearcher:w}=e,A={chartName:h,defaultTooltipEventType:y,validateTooltipEventTypes:g,tooltipPayloadSearcher:w,eventEmitter:void 0};return D.createElement(PL,{preloadedState:{options:A},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:h},D.createElement(nL,{chartData:i.data}),D.createElement(DL,{layout:a,margin:i.margin}),D.createElement(ML,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),D.createElement(g1e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),D.createElement(kL,ME({},c,{ref:n})))});function t6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(n),!0).forEach(function(r){w1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w1e(t,e,n){return(e=E1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E1e(t){var e=_1e(t,"string");return typeof e=="symbol"?e:e+""}function _1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A1e=["item"],S1e=n6(n6({},BL),{},{layout:"centric",startAngle:0,endAngle:360}),C1e=D.forwardRef((t,e)=>{var n=Ui(t,S1e);return D.createElement(b1e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:A1e,tooltipPayloadSearcher:gS,categoricalChartProps:n,ref:e})});function T1e(){const t=tf(L=>L.profile),[e,n]=D.useState([]),[r,i]=D.useState([]),[a,c]=D.useState([]),[h,y]=D.useState([]),[g,w]=D.useState(0);D.useEffect(()=>{t&&A()},[t,g]);const A=async()=>{if(!t)return;const G=VO(new Date,g),K=nf(G,{weekStartsOn:1}),W=[],ne=[],fe=t.waterGoalMl||2e3;for(let H=0;H<7;H++){const ae=pp(K,H),ie=$a(ae,"yyyy-MM-dd"),Z=await at.dailyLogs.where("date").equals(ie).first();W.push({dag:$a(ae,"EEE",{locale:Lc}),punten:Z?.totalPointsUsed??0,budget:t.dailyPointsBudget}),ne.push({dag:$a(ae,"EEE",{locale:Lc}),water:Z?.waterMl??0,doel:fe})}n(W),i(ne);const Q={Ontbijt:0,Lunch:0,Diner:0,Snacks:0},U={breakfast:"Ontbijt",lunch:"Lunch",dinner:"Diner",snack:"Snacks"};for(let H=0;H<7;H++){const ae=pp(K,H),ie=$a(ae,"yyyy-MM-dd"),Z=await at.dailyLogs.where("date").equals(ie).first();if(Z?.id){const J=await at.mealEntries.where("dailyLogId").equals(Z.id).toArray();for(const Be of J){const pe=U[Be.mealType]||"Snacks";Q[pe]+=Be.points}}}c(Object.entries(Q).filter(([,H])=>H>0).map(([H,ae])=>({name:H,value:ae})));const $=await at.weightEntries.orderBy("date").reverse().limit(30).toArray();y($.reverse().map(H=>({date:$a(new Date(H.date),"d MMM",{locale:Lc}),gewicht:H.weightKg})))};if(!t)return null;const I=(()=>{const L=VO(new Date,g),G=nf(L,{weekStartsOn:1}),K=pp(G,6);return`${$a(G,"d MMM",{locale:Lc})} - ${$a(K,"d MMM",{locale:Lc})}`})(),R=e.reduce((L,G)=>L+G.punten,0),j=e.filter(L=>L.punten>0).length>0?Math.round(R/e.filter(L=>L.punten>0).length):0,k=["#FF9500","#34C759","#007AFF","#FF3B30"];return P.jsx(rf,{title:"Statistieken",children:P.jsxs("div",{className:"flex flex-col gap-4 pb-4",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("button",{onClick:()=>w(L=>L+1),className:"px-3 py-1.5 rounded-lg bg-white text-[13px] font-medium border-none cursor-pointer shadow-sm active:bg-gray-100",children:" Vorige"}),P.jsx("span",{className:"text-[15px] font-semibold",children:I}),P.jsx("button",{onClick:()=>w(L=>Math.max(0,L-1)),disabled:g===0,className:`px-3 py-1.5 rounded-lg bg-white text-[13px] font-medium border-none cursor-pointer shadow-sm ${g===0?"opacity-30":"active:bg-gray-100"}`,children:"Volgende "})]}),P.jsxs(Tn,{children:[P.jsx(Rs,{title:"Punten per dag"}),P.jsx("div",{className:"px-2 pb-4",children:P.jsx(i0,{width:"100%",height:200,children:P.jsxs(e6,{data:e,children:[P.jsx(p0,{strokeDasharray:"3 3",stroke:"#E5E5EA"}),P.jsx(y0,{dataKey:"dag",tick:{fontSize:12,fill:"#8E8E93"},tickLine:!1}),P.jsx(v0,{tick:{fontSize:11,fill:"#8E8E93"},tickLine:!1}),P.jsx(wp,{}),P.jsx(AE,{y:t.dailyPointsBudget,stroke:"#FF3B30",strokeDasharray:"5 5",label:{value:"Budget",fontSize:11,fill:"#FF3B30"}}),P.jsx(TE,{dataKey:"punten",fill:"#34C759",radius:[4,4,0,0]})]})})})]}),P.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[P.jsxs(Tn,{className:"p-3 text-center",children:[P.jsx("div",{className:"text-[22px] font-bold text-primary",children:R}),P.jsx("div",{className:"text-[12px] text-ios-secondary",children:"Totaal deze week"})]}),P.jsxs(Tn,{className:"p-3 text-center",children:[P.jsx("div",{className:"text-[22px] font-bold text-ios-blue",children:j}),P.jsx("div",{className:"text-[12px] text-ios-secondary",children:"Gemiddeld per dag"})]})]}),P.jsxs(Tn,{children:[P.jsx(Rs,{title:"Water per dag"}),P.jsx("div",{className:"px-2 pb-4",children:P.jsx(i0,{width:"100%",height:200,children:P.jsxs(e6,{data:r,children:[P.jsx(p0,{strokeDasharray:"3 3",stroke:"#E5E5EA"}),P.jsx(y0,{dataKey:"dag",tick:{fontSize:12,fill:"#8E8E93"},tickLine:!1}),P.jsx(v0,{tick:{fontSize:11,fill:"#8E8E93"},tickLine:!1,tickFormatter:L=>`${L/1e3}L`}),P.jsx(wp,{formatter:L=>[`${L} ml`,"Water"]}),P.jsx(AE,{y:t.waterGoalMl||2e3,stroke:"#3B82F6",strokeDasharray:"5 5",label:{value:"Doel",fontSize:11,fill:"#3B82F6"}}),P.jsx(TE,{dataKey:"water",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]}),a.length>0&&P.jsxs(Tn,{children:[P.jsx(Rs,{title:"Verdeling per maaltijd"}),P.jsxs("div",{className:"flex items-center px-4 pb-4",children:[P.jsx("div",{className:"w-32 h-32",children:P.jsx(i0,{width:"100%",height:"100%",children:P.jsx(C1e,{children:P.jsx(J7,{data:a,dataKey:"value",cx:"50%",cy:"50%",outerRadius:55,innerRadius:30,children:a.map((L,G)=>P.jsx(Nm,{fill:k[G%k.length]},G))})})})}),P.jsx("div",{className:"flex-1 flex flex-col gap-2 ml-4",children:a.map((L,G)=>P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:k[G%k.length]}}),P.jsx("span",{className:"text-[13px] flex-1",children:L.name}),P.jsxs("span",{className:"text-[13px] font-medium",children:[L.value," pt"]})]},L.name))})]})]}),h.length>1&&P.jsxs(Tn,{children:[P.jsx(Rs,{title:"Gewichtstrend"}),P.jsx("div",{className:"p-4",children:P.jsx(i0,{width:"100%",height:180,children:P.jsxs(LL,{data:h,children:[P.jsx(p0,{strokeDasharray:"3 3",stroke:"#E5E5EA"}),P.jsx(y0,{dataKey:"date",tick:{fontSize:11,fill:"#8E8E93"},tickLine:!1}),P.jsx(v0,{tick:{fontSize:11,fill:"#8E8E93"},tickLine:!1,domain:["dataMin - 1","dataMax + 1"]}),P.jsx(wp,{}),P.jsx(PS,{type:"monotone",dataKey:"gewicht",stroke:"#007AFF",strokeWidth:2.5,dot:{fill:"#007AFF",r:3}})]})})})]})]})})}function I1e(){const t=tf(R=>R.profile),{getTotalPoints:e}=vy(),[n,r]=D.useState([]),[i,a]=D.useState(""),[c,h]=D.useState(!1),[y,g]=D.useState(null),w=D.useRef(null);D.useEffect(()=>{xy().then(R=>g(!!R?.apiKey))},[]),D.useEffect(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[n]);const A=()=>{const R=e(),j=t?.dailyPointsBudget??30,k=j-R;return`Je bent een vriendelijke Nederlandse voedingsassistent voor de app BodyBalance.
De gebruiker volgt een puntensysteem vergelijkbaar met Weight Watchers.

Huidige status:
- Dagbudget: ${j} punten
- Vandaag gebruikt: ${R} punten
- Resterend: ${k} punten

Puntenformule: (cal  0.03) + (verz.vet  0.28) + (suiker  0.12) - (eiwit  0.10) - (vezels  0.10) - (onverz.vet  0.05), minimum 0.

Regels:
- Antwoord altijd in het Nederlands
- Geef korte, praktische antwoorden
- Bij vragen over punten: bereken met de formule hierboven
- Bij suggesties: houd rekening met resterende punten
- Gebruik geen emojis tenzij de gebruiker ze gebruikt`},I=async()=>{if(!i.trim()||c)return;const R={role:"user",content:i.trim()},j=[...n,R];r(j),a(""),h(!0);try{const k=await Pk(j.map(L=>({role:L.role,content:L.content})),A());r([...j,{role:"assistant",content:k}])}catch(k){const L=k instanceof Error?k.message:"Onbekende fout";r([...j,{role:"assistant",content:`Fout: ${L}`}])}finally{h(!1)}};return y===!1?P.jsx(rf,{title:"AI Assistent",children:P.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-6",children:[P.jsx("div",{className:"w-20 h-20 rounded-full bg-ios-warning/10 flex items-center justify-center mb-4",children:P.jsx(Kp,{size:40,className:"text-ios-warning"})}),P.jsx("h3",{className:"text-[17px] font-semibold mb-2 text-center",children:"API-sleutel vereist"}),P.jsxs("p",{className:"text-[14px] text-ios-secondary text-center leading-relaxed",children:["Om de AI assistent te gebruiken heb je een Anthropic API-sleutel nodig. Ga naar ",P.jsx("strong",{children:"Profiel  AI Instellingen"})," om je sleutel in te voeren."]})]})}):P.jsx(rf,{title:"AI Assistent",children:P.jsxs("div",{className:"flex flex-col",style:{minHeight:"calc(100vh - 180px)"},children:[P.jsxs("div",{className:"flex-1 flex flex-col gap-3 pb-4",children:[n.length===0&&P.jsxs("div",{className:"text-center py-8",children:[P.jsx(gp,{size:48,className:"text-ios-separator mx-auto mb-3"}),P.jsx("p",{className:"text-[17px] text-ios-secondary font-medium",children:"Hoi! Ik ben je voedingsassistent"}),P.jsx("p",{className:"text-[13px] text-ios-secondary mt-2 max-w-xs mx-auto leading-relaxed",children:"Stel me vragen over punten, voedingswaarden of vraag om maaltijdsuggesties."}),P.jsx("div",{className:"flex flex-col gap-2 mt-5 max-w-xs mx-auto",children:["Hoeveel punten heeft een broodje kaas?","Wat kan ik eten met 5 punten?","Geef me een gezond lunch-idee"].map(R=>P.jsx("button",{onClick:()=>{a(R)},className:"text-left px-4 py-2.5 bg-white rounded-xl text-[14px] text-primary border border-ios-separator cursor-pointer active:bg-gray-50",children:R},R))})]}),n.map((R,j)=>P.jsxs("div",{className:`flex gap-2.5 ${R.role==="user"?"justify-end":"justify-start"}`,children:[R.role==="assistant"&&P.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:P.jsx(gp,{size:16,className:"text-primary"})}),P.jsx(Tn,{className:`max-w-[80%] px-4 py-3 ${R.role==="user"?"bg-primary text-white":""}`,children:P.jsx("p",{className:`text-[15px] leading-relaxed whitespace-pre-wrap ${R.role==="user"?"text-white":""}`,children:R.content})}),R.role==="user"&&P.jsx("div",{className:"w-8 h-8 rounded-full bg-ios-bg flex items-center justify-center flex-shrink-0 mt-0.5",children:P.jsx(gk,{size:16,className:"text-ios-secondary"})})]},j)),c&&P.jsxs("div",{className:"flex gap-2.5",children:[P.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:P.jsx(gp,{size:16,className:"text-primary"})}),P.jsx(Tn,{className:"px-4 py-3",children:P.jsx(ec,{size:18,className:"text-ios-secondary animate-spin"})})]}),P.jsx("div",{ref:w})]}),P.jsx("div",{className:"sticky bottom-[70px] bg-ios-bg pt-2 pb-2",children:P.jsxs("div",{className:"flex gap-2",children:[P.jsx("input",{type:"text",placeholder:"Stel een vraag...",value:i,onChange:R=>a(R.target.value),onKeyDown:R=>R.key==="Enter"&&I(),className:"flex-1 bg-white rounded-xl px-4 py-3 text-[16px] border border-ios-separator"}),P.jsx("button",{onClick:I,disabled:!i.trim()||c,className:`w-11 h-11 rounded-full flex items-center justify-center border-none cursor-pointer transition-colors ${i.trim()&&!c?"bg-primary text-white":"bg-ios-bg text-ios-separator"}`,children:P.jsx(J$,{size:18})})]})})]})})}function O1e(){const t=mf(),{profile:e,saveProfile:n,updateWeight:r}=tf(),[i,a]=D.useState([]),[c,h]=D.useState(""),[y,g]=D.useState(!1),[w,A]=D.useState(""),[I,R]=D.useState("male"),[j,k]=D.useState(""),[L,G]=D.useState(0),[K,W]=D.useState(0),[ne,fe]=D.useState("light"),[Q,U]=D.useState("lose"),[$,H]=D.useState(""),[ae,ie]=D.useState(""),[Z,J]=D.useState(!1),[Be,pe]=D.useState(()=>localStorage.getItem("bb_meal_reminder")==="true"),[ve,Ae]=D.useState(()=>localStorage.getItem("bb_water_reminder")==="true"),[We,Ue]=D.useState("default"),[st,he]=D.useState(()=>localStorage.getItem("bb_theme")||"auto"),[_e,Ge]=D.useState(null),[Fe,dt]=D.useState(null);D.useEffect(()=>{Ne(),Tt(),Ye()},[]),D.useEffect(()=>{e&&(A(e.name),R(e.gender),k(e.dateOfBirth),G(e.heightCm),W(e.goalWeightKg),fe(e.activityLevel),U(e.goal))},[e]);const Ne=async()=>{const nt=await at.weightEntries.orderBy("date").toArray();a(nt)},et=async()=>{const nt=parseFloat(c);if(isNaN(nt)||nt<30||nt>300)return;const ot=$a(new Date,"yyyy-MM-dd"),Jr=await at.weightEntries.where("date").equals(ot).first();Jr?.id?await at.weightEntries.update(Jr.id,{weightKg:nt}):await at.weightEntries.add({date:ot,weightKg:nt}),await r(nt),h(""),Ne();const kr=O0.getState().user?.uid;kr&&tk(kr,{date:ot,weightKg:nt}).catch(()=>{})},Tt=async()=>{const nt=await xy();nt&&(H(nt.apiKey),ie(nt.apiUrl||""))},ke=async()=>{await aJ($,ae||void 0),J(!0),setTimeout(()=>J(!1),2e3)},Ye=()=>{"Notification"in window&&Ue(Notification.permission)},It=async()=>{if(!("Notification"in window))return!1;if(Notification.permission==="granted")return!0;if(Notification.permission==="default"){const nt=await Notification.requestPermission();if(Ue(nt),nt==="granted")return new Notification("BodyBalance",{body:"Notificaties zijn ingeschakeld!",icon:"/icons/icon-192.png"}),!0}return!1},Le=async()=>{if(Be){pe(!1),localStorage.setItem("bb_meal_reminder","false");return}await It()&&(pe(!0),localStorage.setItem("bb_meal_reminder","true"))},At=async()=>{if(ve){Ae(!1),localStorage.setItem("bb_water_reminder","false");return}await It()&&(Ae(!0),localStorage.setItem("bb_water_reminder","true"))},zt=nt=>{he(nt),localStorage.setItem("bb_theme",nt),window.dispatchEvent(new Event("themechange"))},cn=async()=>{try{Ge("Exporteren...");const nt={version:2,exportDate:new Date().toISOString(),userProfiles:(await at.userProfiles.toArray()).map(Zt=>{const{...jr}=Zt;return delete jr.anthropicApiKey,delete jr.anthropicApiUrl,jr}),foodItems:await at.foodItems.toArray(),mealEntries:await at.mealEntries.toArray(),dailyLogs:await at.dailyLogs.toArray(),weightEntries:await at.weightEntries.toArray()},ot=new Blob([JSON.stringify(nt,null,2)],{type:"application/json"}),Jr=URL.createObjectURL(ot),kr=document.createElement("a");kr.href=Jr,kr.download=`bodybalance-backup-${$a(new Date,"yyyy-MM-dd")}.json`,kr.click(),URL.revokeObjectURL(Jr),Ge("Export gelukt!"),setTimeout(()=>Ge(null),3e3)}catch{Ge("Export mislukt"),setTimeout(()=>Ge(null),3e3)}},Hn=()=>{const nt=document.createElement("input");nt.type="file",nt.accept=".json",nt.onchange=async ot=>{const Jr=ot.target.files?.[0];if(Jr)try{dt("Importeren...");const kr=await Jr.text(),Zt=JSON.parse(kr);if(!Zt.version||!Zt.userProfiles){dt("Ongeldig bestand"),setTimeout(()=>dt(null),3e3);return}await at.transaction("rw",[at.userProfiles,at.foodItems,at.mealEntries,at.dailyLogs,at.weightEntries],async()=>{await at.foodItems.clear(),await at.mealEntries.clear(),await at.dailyLogs.clear(),await at.weightEntries.clear(),await at.userProfiles.clear(),Zt.userProfiles?.length&&await at.userProfiles.bulkAdd(Zt.userProfiles),Zt.foodItems?.length&&await at.foodItems.bulkAdd(Zt.foodItems),Zt.mealEntries?.length&&await at.mealEntries.bulkAdd(Zt.mealEntries),Zt.dailyLogs?.length&&await at.dailyLogs.bulkAdd(Zt.dailyLogs),Zt.weightEntries?.length&&await at.weightEntries.bulkAdd(Zt.weightEntries)});const jr=Wu.currentUser?.uid;jr&&rk(jr).catch(()=>{}),dt("Import gelukt! Pagina herlaadt..."),setTimeout(()=>window.location.reload(),500)}catch{dt("Import mislukt - ongeldig bestand"),setTimeout(()=>dt(null),3e3)}},nt.click()},Rn=async()=>{if(!e)return;const nt=pk(e.currentWeightKg,L,j,I,ne,Q);await n({name:w,gender:I,dateOfBirth:j,heightCm:L,currentWeightKg:e.currentWeightKg,goalWeightKg:K,activityLevel:ne,goal:Q,dailyPointsBudget:nt.dailyPoints,weeklyPointsBudget:nt.weeklyPoints,onboardingComplete:!0}),g(!1)};if(!e)return null;const fn=e.currentWeightKg-e.goalWeightKg,Ot=i.map(nt=>({date:$a(new Date(nt.date),"d MMM",{locale:Lc}),gewicht:nt.weightKg}));return P.jsx(rf,{title:"Profiel",children:P.jsxs("div",{className:"flex flex-col gap-4 pb-4",children:[P.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[P.jsxs(Tn,{className:"p-3 text-center",children:[P.jsx(P_,{size:20,className:"text-primary mx-auto mb-1"}),P.jsx("div",{className:"text-[20px] font-bold",children:e.currentWeightKg}),P.jsx("div",{className:"text-[11px] text-ios-secondary",children:"kg nu"})]}),P.jsxs(Tn,{className:"p-3 text-center",children:[P.jsx(hk,{size:20,className:"text-ios-blue mx-auto mb-1"}),P.jsx("div",{className:"text-[20px] font-bold",children:e.goalWeightKg}),P.jsx("div",{className:"text-[11px] text-ios-secondary",children:"kg doel"})]}),P.jsxs(Tn,{className:"p-3 text-center",children:[P.jsx(mk,{size:20,className:"text-ios-warning mx-auto mb-1"}),P.jsx("div",{className:"text-[20px] font-bold",children:fn>0?fn.toFixed(1):"0"}),P.jsx("div",{className:"text-[11px] text-ios-secondary",children:"kg te gaan"})]})]}),P.jsxs(Tn,{children:[P.jsx(Rs,{title:"Gewicht loggen"}),P.jsxs("div",{className:"p-4 flex gap-3",children:[P.jsxs("div",{className:"relative flex-1",children:[P.jsx("input",{type:"number",placeholder:String(e.currentWeightKg),value:c,onChange:nt=>h(nt.target.value),step:"0.1",min:"30",max:"300",className:"bg-ios-bg rounded-xl px-4 py-3 text-[17px] w-full"}),P.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-ios-secondary text-[15px]",children:"kg"})]}),P.jsx(eo,{onClick:et,disabled:!c,children:"Log"})]})]}),Ot.length>1&&P.jsxs(Tn,{children:[P.jsx(Rs,{title:"Gewichtsverloop"}),P.jsx("div",{className:"p-4",children:P.jsx(i0,{width:"100%",height:200,children:P.jsxs(LL,{data:Ot,children:[P.jsx(p0,{strokeDasharray:"3 3",stroke:"#E5E5EA"}),P.jsx(y0,{dataKey:"date",tick:{fontSize:11,fill:"#8E8E93"},tickLine:!1}),P.jsx(v0,{tick:{fontSize:11,fill:"#8E8E93"},tickLine:!1,domain:["dataMin - 1","dataMax + 1"]}),P.jsx(wp,{}),P.jsx(PS,{type:"monotone",dataKey:"gewicht",stroke:"#34C759",strokeWidth:2.5,dot:{fill:"#34C759",r:4},activeDot:{r:6}})]})})})]}),P.jsxs(Tn,{children:[P.jsx(Rs,{title:"Puntenbudget"}),P.jsxs("div",{className:"px-4 py-3 flex justify-between items-center border-b border-ios-separator",children:[P.jsx("span",{className:"text-[15px]",children:"Dagelijks budget"}),P.jsxs("span",{className:"text-[17px] font-bold text-primary",children:[e.dailyPointsBudget," pt"]})]}),P.jsxs("div",{className:"px-4 py-3 flex justify-between items-center",children:[P.jsx("span",{className:"text-[15px]",children:"Weekpunten"}),P.jsxs("span",{className:"text-[17px] font-bold text-ios-blue",children:[e.weeklyPointsBudget," pt"]})]})]}),P.jsxs(Tn,{children:[P.jsx(Rs,{title:"Gegevens",rightContent:P.jsx("button",{onClick:()=>g(!y),className:"text-[15px] text-primary font-medium border-none bg-transparent cursor-pointer",children:y?"Annuleer":"Wijzig"})}),y?P.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[P.jsx(qu,{label:"Naam",value:w,onChange:nt=>A(nt.currentTarget.value)}),P.jsx(yd,{label:"Geslacht",value:I,onChange:nt=>R(nt.currentTarget.value),options:[{value:"male",label:"Man"},{value:"female",label:"Vrouw"}]}),P.jsx(qu,{label:"Lengte",type:"number",suffix:"cm",value:L,onChange:nt=>G(Number(nt.currentTarget.value))}),P.jsx(qu,{label:"Streefgewicht",type:"number",suffix:"kg",value:K,onChange:nt=>W(Number(nt.currentTarget.value))}),P.jsx(yd,{label:"Activiteitsniveau",value:ne,onChange:nt=>fe(nt.currentTarget.value),options:Object.entries(I2).map(([nt,ot])=>({value:nt,label:ot}))}),P.jsx(yd,{label:"Doel",value:Q,onChange:nt=>U(nt.currentTarget.value),options:Object.entries(O2).map(([nt,ot])=>({value:nt,label:ot}))}),P.jsx(eo,{fullWidth:!0,onClick:Rn,className:"mt-2",children:"Opslaan"})]}):P.jsx("div",{children:[["Naam",e.name],["Geslacht",e.gender==="male"?"Man":"Vrouw"],["Lengte",`${e.heightCm} cm`],["Activiteit",I2[e.activityLevel]],["Doel",O2[e.goal]]].map(([nt,ot],Jr,kr)=>P.jsxs("div",{className:`px-4 py-3 flex justify-between ${Jr<kr.length-1?"border-b border-ios-separator":""}`,children:[P.jsx("span",{className:"text-[15px] text-ios-secondary",children:nt}),P.jsx("span",{className:"text-[15px]",children:ot})]},nt))})]}),P.jsxs("button",{onClick:()=>t("/ai-chat"),className:"flex items-center gap-3 w-full p-4 bg-white rounded-2xl shadow-sm border-none cursor-pointer active:bg-gray-50 text-left",children:[P.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:P.jsx(gp,{size:20,className:"text-primary"})}),P.jsxs("div",{className:"flex-1",children:[P.jsx("div",{className:"text-[15px] font-semibold",children:"AI Voedingsassistent"}),P.jsx("div",{className:"text-[13px] text-ios-secondary",children:"Stel vragen over punten en voeding"})]})]}),P.jsxs(Tn,{children:[P.jsx(Rs,{title:"AI Instellingen"}),P.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[P.jsxs("div",{children:[P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1 px-1",children:"Anthropic API-sleutel"}),P.jsxs("div",{className:"relative",children:[P.jsx(R$,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-ios-secondary"}),P.jsx("input",{type:"password",placeholder:"sk-ant-...",value:$,onChange:nt=>H(nt.target.value),className:"bg-ios-bg rounded-xl pl-9 pr-4 py-3 text-[15px] w-full"})]})]}),P.jsxs("div",{children:[P.jsx("label",{className:"text-[13px] font-medium text-ios-secondary uppercase tracking-wide block mb-1 px-1",children:"API URL (optioneel)"}),P.jsx("input",{type:"url",placeholder:"https://api.anthropic.com/v1/messages",value:ae,onChange:nt=>ie(nt.target.value),className:"bg-ios-bg rounded-xl px-4 py-3 text-[15px] w-full"})]}),P.jsx(eo,{fullWidth:!0,onClick:ke,disabled:!$.trim(),children:Z?P.jsxs("span",{className:"flex items-center justify-center gap-2",children:[P.jsx(e$,{size:16})," Opgeslagen"]}):"Opslaan"}),P.jsx("p",{className:"text-[12px] text-ios-secondary text-center",children:"Nodig voor AI foto-herkenning en de voedingsassistent"})]})]}),P.jsxs(Tn,{children:[P.jsx(Rs,{title:"Waterdoel"}),P.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx(h0,{size:20,className:"text-blue-500"}),P.jsx("span",{className:"text-[15px]",children:"Dagelijks doel"})]}),P.jsx("div",{className:"flex items-center gap-2",children:[1500,2e3,2500,3e3].map(nt=>P.jsxs("button",{onClick:async()=>{e?.id&&(await at.userProfiles.update(e.id,{waterGoalMl:nt,updatedAt:new Date}),tf.setState({profile:{...e,waterGoalMl:nt}}))},className:`px-2.5 py-1 rounded-lg text-[13px] font-medium border-none cursor-pointer transition-colors ${(e?.waterGoalMl||2e3)===nt?"bg-blue-500 text-white":"bg-ios-bg text-ios-text active:bg-gray-200"}`,children:[nt/1e3,"L"]},nt))})]})]}),P.jsxs(Tn,{children:[P.jsx(Rs,{title:"Weergave"}),P.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[st==="dark"?P.jsx(q$,{size:20,className:"text-ios-blue"}):st==="light"?P.jsx(aX,{size:20,className:"text-ios-warning"}):P.jsx(V$,{size:20,className:"text-ios-secondary"}),P.jsx("span",{className:"text-[15px]",children:"Thema"})]}),P.jsx("div",{className:"flex items-center gap-1",children:[{key:"auto",label:"Auto"},{key:"light",label:"Licht"},{key:"dark",label:"Donker"}].map(({key:nt,label:ot})=>P.jsx("button",{onClick:()=>zt(nt),className:`px-3 py-1 rounded-lg text-[13px] font-medium border-none cursor-pointer transition-colors ${st===nt?"bg-ios-blue text-white":"bg-ios-bg text-ios-text active:bg-gray-200"}`,children:ot},nt))})]})]}),P.jsxs(Tn,{children:[P.jsx(Rs,{title:"Notificaties"}),P.jsxs("div",{className:"px-4 py-3 flex items-center justify-between border-b border-ios-separator",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[Be?P.jsx(qY,{size:20,className:"text-primary"}):P.jsx(VY,{size:20,className:"text-ios-secondary"}),P.jsx("span",{className:"text-[15px]",children:"Maaltijd herinnering"})]}),P.jsx("button",{onClick:Le,className:`relative w-[51px] h-[31px] rounded-full border-none cursor-pointer transition-colors ${Be?"bg-primary":"bg-ios-separator"}`,children:P.jsx("div",{className:`absolute top-0.5 w-[27px] h-[27px] rounded-full bg-white shadow-sm transition-transform ${Be?"translate-x-[22px]":"translate-x-0.5"}`})})]}),P.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[ve?P.jsx(h0,{size:20,className:"text-blue-500"}):P.jsx(h0,{size:20,className:"text-ios-secondary"}),P.jsx("span",{className:"text-[15px]",children:"Water herinnering"})]}),P.jsx("button",{onClick:At,className:`relative w-[51px] h-[31px] rounded-full border-none cursor-pointer transition-colors ${ve?"bg-blue-500":"bg-ios-separator"}`,children:P.jsx("div",{className:`absolute top-0.5 w-[27px] h-[27px] rounded-full bg-white shadow-sm transition-transform ${ve?"translate-x-[22px]":"translate-x-0.5"}`})})]}),We==="denied"&&P.jsxs("div",{className:"px-4 pb-3 flex items-start gap-2",children:[P.jsx(Kp,{size:14,className:"text-ios-destructive flex-shrink-0 mt-0.5"}),P.jsx("p",{className:"text-[12px] text-ios-destructive",children:"Notificaties zijn geblokkeerd. Ga naar je browserinstellingen om dit te wijzigen."})]})]}),P.jsxs(Tn,{children:[P.jsx(Rs,{title:"Data beheer"}),P.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[P.jsxs("button",{onClick:cn,className:"flex items-center justify-center gap-2 py-3 bg-ios-bg rounded-xl text-[15px] font-medium text-ios-text border-none cursor-pointer active:bg-gray-200 transition-colors",children:[P.jsx(p$,{size:18}),"Data exporteren (JSON)"]}),P.jsxs("button",{onClick:Hn,className:"flex items-center justify-center gap-2 py-3 bg-ios-bg rounded-xl text-[15px] font-medium text-ios-text border-none cursor-pointer active:bg-gray-200 transition-colors",children:[P.jsx(gX,{size:18}),"Data importeren"]}),(_e||Fe)&&P.jsx("p",{className:"text-[13px] text-center text-ios-secondary",children:_e||Fe}),P.jsx("p",{className:"text-[12px] text-ios-secondary text-center",children:"Maak een backup van al je data of herstel van een eerdere backup"})]})]}),P.jsxs(eo,{variant:"ghost",fullWidth:!0,onClick:()=>O0.getState().logout(),className:"flex items-center justify-center gap-2 text-ios-destructive",children:[P.jsx(fk,{size:18}),"Uitloggen"]})]})})}const N1e="modulepreload",R1e=function(t){return"/"+t},r6={},P1e=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let g=function(w){return Promise.all(w.map(A=>Promise.resolve(A).then(I=>({status:"fulfilled",value:I}),I=>({status:"rejected",reason:I}))))};var c=g;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),y=h?.nonce||h?.getAttribute("nonce");i=g(n.map(w=>{if(w=R1e(w),w in r6)return;r6[w]=!0;const A=w.endsWith(".css"),I=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${I}`))return;const R=document.createElement("link");if(R.rel=A?"stylesheet":N1e,A||(R.as="script"),R.crossOrigin="",R.href=w,y&&R.setAttribute("nonce",y),document.head.appendChild(R),A)return new Promise((j,k)=>{R.addEventListener("load",j),R.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${w}`)))})}))}function a(h){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=h,window.dispatchEvent(y),!y.defaultPrevented)throw h}return i.then(h=>{for(const y of h||[])y.status==="rejected"&&a(y.reason);return e().catch(a)})};function D1e(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:c}=t;let h,y,g;const w=async(I=!0)=>{await y,g?.()};async function A(){if("serviceWorker"in navigator){if(h=await P1e(async()=>{const{Workbox:I}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:I}},[]).then(({Workbox:I})=>new I("/sw.js",{scope:"/",type:"classic"})).catch(I=>{c?.(I)}),!h)return;g=()=>{h?.messageSkipWaiting()};{let I=!1;const R=()=>{I=!0,h?.addEventListener("controlling",j=>{j.isUpdate&&window.location.reload()}),n?.()};h.addEventListener("installed",j=>{typeof j.isUpdate>"u"?typeof j.isExternal<"u"&&j.isExternal?R():!I&&r?.():j.isUpdate||r?.()}),h.addEventListener("waiting",R)}h.register({immediate:e}).then(I=>{a?a("/sw.js",I):i?.(I)}).catch(I=>{c?.(I)})}}return y=A(),w}function M1e(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:c}=t,[h,y]=D.useState(!1),[g,w]=D.useState(!1),[A]=D.useState(()=>D1e({immediate:e,onOfflineReady(){w(!0),r?.()},onNeedRefresh(){y(!0),n?.()},onRegistered:i,onRegisteredSW:a,onRegisterError:c}));return{needRefresh:[h,y],offlineReady:[g,w],updateServiceWorker:A}}function k1e(){const{user:t,isAuthLoading:e}=O0(),{profile:n,isLoading:r,loadProfile:i}=tf(),a=D.useRef(!1);return D.useEffect(()=>{if(!t){a.current=!1;return}(async()=>{if(await i(),!a.current){a.current=!0;try{await wY(t.uid)?await i():rk(t.uid).catch(y=>console.warn("[Sync] Push all failed:",y))}catch(h){console.warn("[Sync] Initial sync failed:",h)}}})()},[t,i]),e?P.jsx("div",{className:"flex items-center justify-center h-full",children:P.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):t?r?P.jsx("div",{className:"flex items-center justify-center h-full",children:P.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):n?.onboardingComplete?P.jsxs(P.Fragment,{children:[P.jsxs(cU,{children:[P.jsx(ju,{path:"/",element:P.jsx(yQ,{})}),P.jsx(ju,{path:"/search",element:P.jsx(IQ,{})}),P.jsx(ju,{path:"/scan",element:P.jsx(oJ,{})}),P.jsx(ju,{path:"/statistics",element:P.jsx(T1e,{})}),P.jsx(ju,{path:"/ai-chat",element:P.jsx(I1e,{})}),P.jsx(ju,{path:"/profile",element:P.jsx(O1e,{})}),P.jsx(ju,{path:"*",element:P.jsx(lU,{to:"/",replace:!0})})]}),P.jsx(wX,{})]}):P.jsx(OX,{}):P.jsx(AX,{})}function j1e(){const[t,e]=D.useState(!navigator.onLine);return D.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("offline",n),window.addEventListener("online",r),()=>{window.removeEventListener("offline",n),window.removeEventListener("online",r)}},[]),t?P.jsxs("div",{className:"fixed top-0 left-0 right-0 z-[100] bg-ios-warning text-white text-center py-1.5 text-[13px] font-medium flex items-center justify-center gap-1.5",style:{paddingTop:"calc(6px + var(--safe-area-top))"},children:[P.jsx(vX,{size:14}),"Geen internetverbinding  zoeken werkt offline niet"]}):null}function L1e(){const{needRefresh:[t],updateServiceWorker:e}=M1e();return t?P.jsxs("div",{className:"fixed bottom-[70px] left-4 right-4 z-[100] bg-ios-blue text-white rounded-2xl px-4 py-3 flex items-center justify-between shadow-lg animate-slide-up",style:{marginBottom:"var(--safe-area-bottom)"},children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx(W$,{size:16}),P.jsx("span",{className:"text-[14px] font-medium",children:"Update beschikbaar"})]}),P.jsx("button",{onClick:()=>e(!0),className:"bg-white text-ios-blue px-3 py-1.5 rounded-lg text-[13px] font-semibold border-none cursor-pointer",children:"Bijwerken"})]}):null}const B1e=[{hour:8,minute:0,label:"Tijd om je ontbijt te loggen!"},{hour:12,minute:30,label:"Tijd om je lunch te loggen!"},{hour:18,minute:0,label:"Tijd om je avondeten te loggen!"}],F1e=[8,10,12,14,16,18,20,22];function i6(t,e){"Notification"in window&&Notification.permission==="granted"&&new Notification(t,{body:e,icon:"/icons/icon-192x192.png"})}function U1e(){D.useEffect(()=>{const t=()=>{const n=new Date,r=n.getHours(),i=n.getMinutes(),a=`${n.getFullYear()}-${n.getMonth()}-${n.getDate()}`;if(localStorage.getItem("bb_meal_reminder")==="true"){for(const c of B1e)if(r===c.hour&&i>=c.minute){const h=`bb_notif_meal_${c.hour}_${a}`;localStorage.getItem(h)||(i6("BodyBalance",c.label),localStorage.setItem(h,"1"))}}if(localStorage.getItem("bb_water_reminder")==="true"&&F1e.includes(r)){const c=`bb_notif_water_${r}_${a}`;localStorage.getItem(c)||(i6("BodyBalance","Vergeet niet water te drinken!"),localStorage.setItem(c,"1"))}for(let c=localStorage.length-1;c>=0;c--){const h=localStorage.key(c);h?.startsWith("bb_notif_")&&!h.endsWith(a)&&localStorage.removeItem(h)}};t();const e=setInterval(t,6e4);return()=>clearInterval(e)},[])}function a6(){const t=localStorage.getItem("bb_theme")||"auto",e=window.matchMedia("(prefers-color-scheme: dark)").matches,n=t==="dark"||t==="auto"&&e;document.documentElement.classList.toggle("dark",n)}function V1e(){D.useEffect(()=>{a6();const t=window.matchMedia("(prefers-color-scheme: dark)"),e=()=>a6();return t.addEventListener("change",e),window.addEventListener("storage",e),window.addEventListener("themechange",e),()=>{t.removeEventListener("change",e),window.removeEventListener("storage",e),window.removeEventListener("themechange",e)}},[])}function z1e(){return V1e(),U1e(),P.jsxs(kU,{children:[P.jsx(j1e,{}),P.jsx(L1e,{}),P.jsx(k1e,{})]})}dF.createRoot(document.getElementById("root")).render(P.jsx(D.StrictMode,{children:P.jsx(z1e,{})}));
